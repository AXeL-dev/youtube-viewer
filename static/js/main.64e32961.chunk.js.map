{"version":3,"sources":["types/Settings.ts","types/index.ts","ui/components/shared/Layout/index.tsx","ui/components/shared/Sidebar/ListItemLink/ListItem.ts","ui/components/shared/Sidebar/ListItemLink/ListItemText.ts","ui/components/shared/Sidebar/ListItemLink/Badge.ts","ui/components/shared/Sidebar/ListItemLink/index.tsx","ui/components/shared/Sidebar/Header.tsx","store/reducers/settings.ts","store/reducers/channels.ts","helpers/utils.ts","helpers/webext.ts","store/services/youtube/api.ts","store/services/youtube/endpoints.ts","store/selectors/channels.ts","store/selectors/videos.ts","hooks/useGrid.ts","hooks/useWidth.ts","helpers/logger.ts","ui/components/webext/Background/ChannelChecker.tsx","hooks/useInterval.ts","store/reducers/videos.ts","store/reducers/app.ts","helpers/storage.ts","store/persist.ts","store/index.ts","store/selectors/settings.ts","store/selectors/app.ts","ui/components/shared/Sidebar/index.tsx","ui/components/shared/Logo/index.tsx","ui/components/shared/Alert/index.tsx","ui/components/shared/RawHTML/index.tsx","ui/components/shared/SearchInput/Input.tsx","ui/components/shared/SearchInput/index.tsx","ui/components/shared/ProgressBar/LinearProgress.ts","ui/components/shared/ProgressBar/index.tsx","ui/components/pages/Home/Tab/Badge.ts","ui/components/pages/Home/Tab/index.tsx","ui/components/pages/Home/VideoPlayerDialog/CloseButton.tsx","ui/components/pages/Home/VideoPlayerDialog/index.tsx","ui/components/pages/Home/ChannelRenderer/ChannelTitle/ChannelLink.tsx","ui/components/pages/Home/ChannelRenderer/ChannelTitle/index.tsx","ui/components/pages/Home/ChannelRenderer/ChannelVideos/VideoCard/WatchLaterAction.tsx","ui/components/pages/Home/ChannelRenderer/ChannelVideos/VideoCard/ViewedBadge.tsx","ui/components/pages/Home/ChannelRenderer/ChannelVideos/VideoCard/index.tsx","ui/components/pages/Home/ChannelRenderer/ChannelVideos/VideoSkeleton.tsx","ui/components/pages/Home/ChannelRenderer/ChannelVideos/GridItem.tsx","ui/components/pages/Home/ChannelRenderer/ChannelVideos/config.ts","ui/components/pages/Home/ChannelRenderer/ChannelVideos/LoadMore.tsx","ui/components/pages/Home/ChannelRenderer/ChannelVideos/index.tsx","ui/components/pages/Home/ChannelRenderer/ChannelRenderer.tsx","ui/components/pages/Home/ChannelRenderer/DefaultRenderer.tsx","ui/components/pages/Home/ChannelRenderer/RecentViewRenderer.tsx","ui/components/pages/Home/ChannelRenderer/WatchLaterViewRenderer.tsx","ui/components/pages/Home/ChannelsWrapper.tsx","ui/components/pages/Home/NoChannels.tsx","ui/components/pages/Home/TabPanel.tsx","ui/components/pages/Home/TabActions/ConfirmationDialog.tsx","ui/components/pages/Home/TabActions/WatchLaterViewActions.tsx","ui/components/pages/Home/TabActions/RecentViewActions.tsx","ui/components/pages/Home/TabActions/index.tsx","ui/components/pages/Home/index.tsx","ui/components/pages/Channels/ChannelCard/ChannelPicture.tsx","ui/components/pages/Channels/ChannelCard/ChannelTitle.tsx","ui/components/pages/Channels/ChannelResults/PickChannelCard.tsx","ui/components/pages/Channels/ChannelResults/index.tsx","ui/components/pages/Channels/ChannelCard/ChannelActions/StyledMenu.tsx","ui/components/pages/Channels/ChannelCard/ChannelDialogs/RemoveChannelDialog.tsx","ui/components/pages/Channels/ChannelCard/ChannelDialogs/index.tsx","ui/components/pages/Channels/ChannelCard/ChannelActions/index.tsx","ui/components/pages/Channels/ChannelCard/DragHandle.tsx","ui/components/pages/Channels/ChannelCard/index.tsx","ui/components/pages/Channels/ChannelCard/DraggableCard.tsx","ui/components/pages/Channels/ChannelList.tsx","ui/components/pages/Channels/NoChannels.tsx","helpers/file.ts","ui/components/pages/Channels/index.tsx","ui/components/pages/Settings/Field/Input.ts","ui/components/pages/Settings/Field/Switch.ts","ui/components/pages/Settings/Field/Select.tsx","ui/components/pages/Settings/Field/MenuItem.tsx","ui/components/pages/Settings/Field/index.tsx","ui/components/pages/Settings/Alerts.tsx","ui/components/pages/Settings/index.tsx","ui/components/pages/About/Credit.tsx","ui/components/pages/About/SocialLink.tsx","ui/components/pages/About/index.tsx","ui/components/webext/Background/index.tsx","ui/theme/index.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["HomeView","VideosSeniority","SettingType","Layout","props","children","sx","Box","display","flexDirection","height","Sidebar","flexGrow","ListItemSelectedStyle","theme","backgroundColor","palette","primary","main","color","ListItem","styled","MuiListItemButton","borderRadius","marginBottom","spacing","ListItemText","MuiListItemText","alignItems","Badge","MuiBadge","position","transform","dark","common","white","minWidth","fontSize","marginLeft","ListItemLink","icon","text","badge","hasWarning","to","selected","useLocation","pathname","renderLink","React","useMemo","forwardRef","itemProps","ref","component","disableRipple","ListItemIcon","badgeContent","ml","process","REACT_APP_NAME","REACT_APP_VERSION","Header","showVersion","justifyContent","gap","cursor","userSelect","Logo","size","Typography","variant","bgcolor","mode","padding","border","borderColor","lineHeight","defaultSettings","defaultView","All","apiKey","darkMode","autoPlayVideos","recentVideosSeniority","OneDay","recentVideosDisplayOptions","hideViewedVideos","hideWatchLaterVideos","enableNotifications","initialState","settingsSlice","createSlice","name","reducers","setSettings","state","action","payload","resetSettings","actions","channelsSlice","list","setChannels","addChannel","id","find","channel","push","removeChannel","filter","moveChannel","from","arrayMove","toggleChannel","found","isHidden","toggleChannelNotifications","notifications","isDisabled","niceDuration","ISO_8601_string","time","replace","toUpperCase","h","extract","m","s","join","stop","i","length","val","slice","shortenLargeNumber","num","decimal","digits","units","Math","pow","toFixed","TimeAgo","self","prefix","sufix","seconds","minute","minutes","hour","hours","day","days","month","months","year","years","timeAgo","floor","Date","parseInt","separator","locales","words","interval","intervals","distance","key","trim","getDateBefore","before","date","setDate","getDate","setHours","elapsedDays","dt","dt1","dt2","tms1","getTime","diff","diffDays","debounce","callback","wait","immediate","timeout","args","context","this","clearTimeout","setTimeout","apply","isWebExtension","browser","error","isBrowserAPIAvailable","createTab","url","isActive","tabs","create","active","path","indexUrl","runtime","getURL","setBadgeText","browserAction","toString","setBadgeColors","textColor","navigator","userAgent","indexOf","setBadgeTextColor","setBadgeBackgroundColor","baseQuery","fetchBaseQuery","baseUrl","prepareHeaders","headers","getState","settings","set","youtubeApi","createApi","reducerPath","endpoints","queries","findChannelByName","query","q","maxResults","params","part","fields","type","order","transformResponse","response","items","map","item","title","snippet","channelId","description","thumbnail","thumbnails","medium","total","pageInfo","totalResults","getChannelActivities","publishedAfter","publishedBefore","contentDetails","upload","videoId","getVideosById","ids","publishedAt","duration","views","statistics","viewCount","channelTitle","publishedSince","inWords","extendedApi","injectEndpoints","builder","queryFn","_arg","_queryApi","_extraOptions","fetchWithBQ","a","data","result","getChannelVideos","activities","overrideExisting","useFindChannelByNameQuery","useGetVideosByIdQuery","useGetChannelActivitiesQuery","useGetChannelVideosQuery","selectChannels","channels","selectActiveChannels","createSelector","selectHiddenChannels","selectNotificationEnabledChannels","selectChannelsCount","activeChannels","selectVideos","videos","selectChannelVideos","selectWatchLaterVideosCount","hiddenChannels","hiddenChannelsIds","isToWatchLater","includes","selectViewedWatchLaterVideosCount","isViewed","selectVideoMeta","video","useGrid","columns","width","defaultWidth","useTheme","breakpoints","keys","reverse","reduce","output","matches","useMediaQuery","up","useWidth","itemsPerRow","undefined","REACT_APP_DEBUG","now","getHours","getMinutes","getSeconds","log","message","console","defaults","ChannelChecker","onCheckEnd","useState","ready","setReady","cachedVideos","useAppSelector","toISOString","pollingInterval","skip","isFetching","refetch","delay","savedCallback","useRef","useEffect","current","setInterval","clearInterval","useInterval","newVideos","checkedVideosIds","isNotified","videosSlice","setVideos","addViewedVideo","addWatchLaterVideo","removeWatchLaterVideo","caseReducers","removeOutdatedVideos","clearWatchLaterList","addNotifiedVideos","channelCheckerDefaults","appSlice","loaded","setApp","storage","local","get","value","localStorage","getItem","parse","JSON","stringify","save","values","Object","setItem","storageKey","canPersistState","prevSerializedState","dispatch","persist","store","preloadState","legacy","configureStore","reducer","settingsReducer","channelsReducer","videosReducer","app","appReducer","middleware","getDefaultMiddleware","concat","subscribe","onlyIfChanged","serializedState","persistState","useAppDispatch","useDispatch","useSelector","selectSettings","selectMode","selectApp","channelsCount","maxWidth","borderRight","py","pl","paddingLeft","List","aria-label","px","borderTop","mb","Link","textDecoration","href","target","rel","alt","src","Alert","open","openProp","severity","closable","syncOpen","onClose","setOpen","Collapse","in","IconButton","onClick","Input","InputBase","custom","lightGrey","lightBorder","SearchInput","placeholder","clearable","debounceTime","onChange","onClear","setValue","debounceChange","pointerEvents","zIndex","inputProps","event","onKeyUp","right","top","my","mx","LinearProgress","MuiLinearProgress","linearProgressClasses","colorPrimary","grey","bar","ProgressBar","Tab","label","rest","fontWeight","textTransform","CloseButton","VideoPlayerDialog","opts","playerVars","autoplay","handleClose","reason","stopPropagation","preventDefault","noop","Dialog","overflow","DialogContent","p","propsAreEqual","prevProps","nextProps","memo","ChannelLink","outline","ChannelTitle","pb","Avatar","WatchLaterAction","view","WatchLater","Tooltip","margin","ViewedBadge","bottom","left","VideoCard","thumbnailWidth","thumbnailHeight","onVideoPlay","opacity","backgroundImage","backgroundRepeat","backgroundSize","transition","className","textAlign","paddingRight","pr","mt","enterDelay","enterNextDelay","WebkitLineClamp","WebkitBoxOrient","gutterBottom","VideoSkeleton","Skeleton","pt","GridItem","Grid","xxs","xs","sm","md","lg","xl","config","gridSpacing","gridColumns","LoadMore","isLoading","hasMore","disabled","ChannelVideos","onLoadMore","skeletonNumber","min","container","index","Array","_","ChannelRenderer","hasVideos","canLoadMore","DefaultRenderer","excludedVideosIds","onError","page","setPage","RecentViewRenderer","WatchLaterViewRenderer","sort","b","selectWatchLaterVideos","max","ChannelsWrapper","Recent","NoChannels","history","useHistory","Button","mr","TabPanel","tab","onCountChange","setError","activeVideo","setActiveVideo","channelsData","err","count","acc","cur","displayed","ConfirmationDialog","DialogTitle","DialogContentText","DialogActions","autoFocus","WatchLaterViewActions","viewedCount","confirmationDialogProps","setConfirmationDialogProps","Fade","placement","arrow","confirmed","RecentViewActions","TabActions","recentVideosCount","Home","activeTab","setActiveTab","setRecentVideosCount","watchLaterVideosCount","borderBottom","Tabs","ChannelPicture","PickChannelCard","changed","setChanged","exists","selectChannel","Card","elevation","CardHeader","alignSelf","avatar","transitions","subheader","ChannelResults","search","results","Stack","divider","Divider","StyledMenu","Menu","anchorOrigin","vertical","horizontal","transformOrigin","marginTop","boxShadow","marginRight","secondary","alpha","selectedOpacity","RemoveChannelDialog","ChannelDialogs","openedDialog","ChannelActions","anchorEl","setAnchorEl","setOpenedDialog","isMenuOpen","Boolean","handleMenuClose","currentTarget","MenuItem","DragHandle","ChannelCard","isOverlay","showDragHandle","listeners","renderCard","Paper","orientation","DraggableCard","useSortable","attributes","setNodeRef","isDragging","style","isSorting","CSS","Transform","ChannelList","showDragHandles","draggedChannel","setDraggedChannel","collisionDetection","closestCenter","modifiers","restrictToVerticalAxis","restrictToFirstScrollableAncestor","onDragStart","onDragEnd","over","findIndex","c","strategy","verticalListSortingStrategy","fileInputRef","click","visibility","accept","file","files","Promise","resolve","reject","fileReader","FileReader","readAsText","onload","onerror","readFile","then","content","e","Channels","setSearch","setShowDragHandles","isSearchActive","showList","blob","filename","window","msSaveOrOpenBlob","document","createElement","URL","createObjectURL","download","body","appendChild","removeChild","revokeObjectURL","downloadFile","Blob","background","default","Switch","MuiSwitch","Select","MuiSelect","light","MenuItemSelectedStyle","MuiMenuItem","Field","options","handleChange","checked","String","option","temporaryApiKey","Alerts","Settings","lastCheckTime","setLastCheckTime","sendMessage","ThreeDays","SevenDays","Credit","author","repositoryUrl","SocialLink","tooltip","About","CardContent","CardActions","Background","responses","lastCheckDate","openHomePage","handleMessage","request","sender","sendResponse","onMessage","addListener","onClicked","notificationId","onButtonClicked","buttonIndex","split","onChanged","changes","areaName","newValue","updateBadge","getBadgeText","badgeText","handleCheckEnd","fulfilledResponses","channelTitles","iconUrl","sendNotification","createTheme","App","ThemeProvider","CssBaseline","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"gKAUO,IAAKA,EAMAC,EAWAC,EAjBZ,sG,SAAYF,K,UAAAA,E,gBAAAA,E,0BAAAA,M,cAMAC,O,mBAAAA,I,yBAAAA,I,0BAAAA,M,cAWAC,O,mBAAAA,I,mBAAAA,I,qBAAAA,I,gBAAAA,M,8EC3BZ,2pB,0JCUO,SAASC,EAAOC,GAAqB,IAClCC,EAAiBD,EAAjBC,SAAUC,EAAOF,EAAPE,GAElB,OACE,eAACC,EAAA,EAAD,CAAKD,GAAI,CAAEE,QAAS,OAAQC,cAAe,MAAOC,OAAQ,SAA1D,UACE,cAACC,GAAD,IACA,cAACJ,EAAA,EAAD,CACED,GAAE,aAAIM,SAAU,EAAGJ,QAAS,OAAQC,cAAe,UAAaH,GADlE,SAGGD,O,mKChBHQ,EAAwB,SAACC,GAAD,MAAmB,CAC/CC,gBAAiBD,EAAME,QAAQC,QAAQC,KACvCC,MAAO,OACP,0BAA2B,CACzBA,MAAO,UAWIC,EAPEC,YAAOC,IAAPD,EAA0B,gBAAGP,EAAH,EAAGA,MAAH,MAAgB,CACzDS,aAAc,cACdC,aAAcV,EAAMW,QAAQ,GAC5B,iBAAkBZ,EAAsBC,GACxC,uBAAwBD,EAAsBC,O,SCLjCY,EAPML,YAAOM,IAAPN,EAAwB,cAAGP,MAAH,MAAgB,CAC3D,wBAAyB,CACvBN,QAAS,OACToB,WAAY,c,SCWDC,EAdDR,YAAOS,IAAPT,EAAiB,gBAAGP,EAAH,EAAGA,MAAH,MAAgB,CAC7C,oBAAqB,CACnBiB,SAAU,WACVC,UAAW,OACXjB,gBAAiBD,EAAME,QAAQC,QAAQgB,KACvCd,MAAOL,EAAME,QAAQkB,OAAOC,MAC5BC,SAAU,GACV1B,OAAQ,GACR2B,SAAU,UACVC,WAAYxB,EAAMW,QAAQ,GAC1BF,aAAcT,EAAMW,QAAQ,UCGjB,SAASc,EAAanC,GAA2B,IACtDoC,EAAsCpC,EAAtCoC,KAAMC,EAAgCrC,EAAhCqC,KAAMC,EAA0BtC,EAA1BsC,MAAOC,EAAmBvC,EAAnBuC,WAAYC,EAAOxC,EAAPwC,GAEjCC,EADWC,cACSC,WAAaH,EAEjCI,EAAaC,IAAMC,SACvB,kBACED,IAAME,YACJ,SAACC,EAAWC,GAAZ,OAAoB,cAAC,IAAD,aAAMT,GAAIA,EAAIS,IAAKA,GAASD,SAEpD,CAACR,IAGH,OACE,eAAC,EAAD,CAAUU,UAAWN,EAAYH,SAAUA,EAAUU,eAAa,EAAlE,UACGf,EAAO,cAACgB,EAAA,EAAD,UAAehB,IAAuB,KAC9C,cAAC,EAAD,CACEvB,QACE,qCACGwB,EACAC,GAASG,EAAW,cAAC,EAAD,CAAOY,aAAcf,IAAY,KACrDC,IAAeE,EACd,cAAC,IAAD,CAAkBvC,GAAI,CAAEoD,GAAI,GAAKvC,MAAM,YACrC,a,MCnC8BwC,gRAAtCC,E,EAAAA,eAAgBC,E,EAAAA,kBAMT,SAASC,EAAO1D,GAAqB,IAC1C2D,EAAgB3D,EAAhB2D,YAER,OACE,eAACxD,EAAA,EAAD,CACE+C,UAAU,OACVhD,GAAI,CACFE,QAAS,OACToB,WAAY,SACZoC,eAAgB,SAChBC,IAAK,OACLC,OAAQ,UACRC,WAAY,QARhB,UAWE,cAACC,GAAD,CAAMC,KAAM,KACZ,eAAC9D,EAAA,EAAD,CACE+C,UAAU,OACVhD,GAAI,CACFE,QAAS,OACToB,WAAY,SACZT,MAAO,gBALX,UAQE,cAACmD,EAAA,EAAD,CAAYC,QAAQ,YAApB,SAAiCX,IAChCG,EACC,eAACO,EAAA,EAAD,CACEC,QAAQ,UACRjE,GAAI,CACFgC,WAAY,EACZkC,QAAS,SAAC1D,GAAD,MACgB,UAAvBA,EAAME,QAAQyD,KAAmB,OAAS,eAC5CC,QAAS,UACTC,OAAQ,EACRC,YAAa,SAAC9D,GAAD,MACY,UAAvBA,EAAME,QAAQyD,KAAmB,cAAgB,WACnDlD,aAAc,MACdJ,MAAO,eACPkB,SAAU,UACVwC,WAAY,GAbhB,cAgBIhB,KAEF,W,4DCjDCiB,EAAkB,CAC7BC,YAAa/E,WAASgF,IACtBC,OAJoCtB,0CAKpCuB,UAAU,EACVC,gBAAgB,EAChBC,sBAAuBnF,kBAAgBoF,OACvCC,2BAA4B,CAC1BC,kBAAkB,EAClBC,sBAAsB,GAExBC,qBAAqB,GAKjBC,EAA2B,eAC5BZ,GAGQa,EAAgBC,YAAY,CACvCC,KAAM,WACNH,eACAI,SAAU,CACRC,YAAa,SAACC,EAAOC,GACnB,OAAO,2BACFD,GACAC,EAAOC,UAGdC,cAAe,SAACH,GACd,OAAO,2BACFA,GACAlB,O,GAMmCa,EAAcS,QAA7CL,G,GAAAA,YAEAJ,I,GAFaQ,cAEbR,EAAf,S,SCjCaU,GAAgBT,YAAY,CACvCC,KAAM,WACNH,aANkC,CAClCY,KAAM,IAMNR,SAAU,CACRS,YAAa,SAACP,EAAOC,GACnB,OAAO,2BACFD,GACAC,EAAOC,UAGdM,WAAY,SAACR,EAAOC,GAAoC,IAC9CQ,EAAOR,EAAOC,QAAdO,GACMT,EAAMM,KAAKI,MAAK,SAACC,GAAD,OAAsBA,EAAQF,KAAOA,MAEjET,EAAMM,KAAKM,KAAKX,EAAOC,UAG3BW,cAAe,SAACb,EAAOC,GAAoC,IACjDQ,EAAOR,EAAOC,QAAdO,GACRT,EAAMM,KAAON,EAAMM,KAAKQ,QAAO,SAACH,GAAD,OAAsBA,EAAQF,KAAOA,MAEtEM,YAAa,SACXf,EACAC,GACI,IAAD,EACkBA,EAAOC,QAApBc,EADL,EACKA,KAAMpE,EADX,EACWA,GACdoD,EAAMM,KAAOW,aAAUjB,EAAMM,KAAMU,EAAMpE,IAE3CsE,cAAe,SAAClB,EAAOC,GAAoC,IACjDQ,EAAOR,EAAOC,QAAdO,GACFU,EAAQnB,EAAMM,KAAKI,MAAK,SAACC,GAAD,OAAsBA,EAAQF,KAAOA,KAC/DU,IACFA,EAAMC,UAAYD,EAAMC,WAG5BC,2BAA4B,SAACrB,EAAOC,GAAoC,IAC9DQ,EAAOR,EAAOC,QAAdO,GACFU,EAAQnB,EAAMM,KAAKI,MAAK,SAACC,GAAD,OAAsBA,EAAQF,KAAOA,KAC/DU,IACFA,EAAMG,cAAN,2BACKH,EAAMG,eADX,IAEEC,YAAYJ,EAAMG,gBACbH,EAAMG,cAAcC,kB,GAe/BlB,GAAcD,QANhBG,G,GAAAA,YACAC,G,GAAAA,WACAK,G,GAAAA,cACAE,G,GAAAA,YACAG,G,GAAAA,cACAG,G,GAAAA,2BAGahB,MAAf,Q,SClEO,SAASmB,GAAaC,GAC3B,IAAIC,EAAOD,EAAgBE,QAAQ,KAAM,IAAIC,cACzCC,EAAIC,EAAQ,KACZC,EAAID,EAAQ,KACZE,EAAIF,EAAQ,KAChB,MAAa,OAAND,EAAa,CAACA,EAAGE,EAAGC,GAAGC,KAAK,KAAO,CAACF,EAAGC,GAAGC,KAAK,KAEtD,SAASH,EAAQI,GACf,IAAK,IAAIC,EAAI,EAAGA,EAAIT,EAAKU,OAAQD,IAC/B,GAAIT,EAAKS,KAAOD,EAAM,CACpB,IAAIG,EAAMX,EAAKY,MAAM,EAAGH,GAKxB,OAJmB,IAAfE,EAAID,QAAyB,MAATF,IACtBG,EAAM,IAAMA,GAEdX,EAAOA,EAAKY,MAAMH,EAAI,GACfE,EAGX,MAAO,MAkCJ,SAASE,GAAmBC,GAIjC,IAJmE,IAEjEC,EAF4CC,EAAoB,uDAAH,EAC3DC,EAAQ,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAGvCR,EAAIQ,EAAMP,OAAS,EAAGD,GAAK,EAAGA,IAGrC,GAAIK,KAFJC,EAAUG,KAAKC,IAAI,IAAMV,EAAI,KAENK,GAAOC,EAC5B,QAASD,EAAMC,GAASK,QAAQJ,GAAUC,EAAMR,GAIpD,OAAOK,EASF,IAAMO,GAAW,WACtB,IAAIC,EAAY,CAGhBA,QAAe,CACbC,OAAQ,GACRC,MAAO,MAEPC,QAAS,qBACTC,OAAQ,iBACRC,QAAS,aACTC,KAAM,gBACNC,MAAO,iBACPC,IAAK,QACLC,KAAM,UACNC,MAAO,gBACPC,OAAQ,YACRC,KAAM,eACNC,MAAO,YAGTb,QAAe,SAACc,GACd,IAAIX,EAAUP,KAAKmB,OAAQ,IAAIC,KAAiBC,SAASH,IAAY,KACnEI,EAAYlB,EAAKmB,QAAQD,WAAa,IACtCE,EAAQpB,EAAKmB,QAAQlB,OAASiB,EAC9BG,EAAW,EACXC,EAAiB,CACfV,KAAMT,EAAU,QAChBO,MAAOP,EAAU,OACjBK,IAAKL,EAAU,MACfG,KAAMH,EAAU,KAChBC,OAAQD,EAAU,IAGlBoB,EAAWvB,EAAKmB,QAAQhB,QAE5B,IAAK,IAAIqB,KAAOF,EAAW,CAGzB,IAFAD,EAAWzB,KAAKmB,MAAMO,EAAUE,KAEjB,EAAG,CAChBD,EAAWvB,EAAKmB,QAAQK,EAAM,KAC9B,MACK,GAAiB,IAAbH,EAAgB,CACzBE,EAAWvB,EAAKmB,QAAQK,GACxB,OAOJ,OAFAJ,IADAG,EAAWA,EAAS5C,QAAQ,MAAO0C,IACfH,EAAYlB,EAAKmB,QAAQjB,OAEhCuB,SAGf,OAAOzB,EAtDe,GAgEjB,SAAS0B,KAAyC,IAA3BC,EAA0B,uDAAT,EACzCC,EAAO,IAAIZ,KAGf,OAFAY,EAAKC,QAAQD,EAAKE,UAAYH,GAC9BC,EAAKG,SAAS,EAAG,EAAG,EAAG,GAChBH,EAwEF,SAASI,GAAYC,GAE1B,OA5BK,SAAkBC,EAAoBC,GAC3C,IAAMC,EAAOF,aAAelB,KAAOkB,EAAIG,UAAYH,EAE7CI,IADOH,aAAenB,KAAOmB,EAAIE,UAAYF,GAC9BC,GAAR,MACb,OAAOxC,KAAKmB,MAAMuB,GAwBXC,CAASN,EADJ,IAAIjB,MA6FX,SAASwB,GACdC,EACAC,EACAC,GAEA,IAAIC,EAAe,KACnB,OAAO,WAAoC,IAAD,uBAAXC,EAAW,yBAAXA,EAAW,gBACxC,IAAMC,EAAUC,KAChBC,aAAaJ,GACbA,EAAUK,YAAW,WACnBL,EAAU,KACLD,GAAWF,EAASS,MAAMJ,EAASD,KACvCH,GACCC,IAAcC,GAASH,EAASS,MAAMJ,EAASD,I,aCxThD,IAAMM,GARb,WACE,IACE,QAASC,QACT,MAAOC,GACP,OAAO,GAI4BC,GAehC,SAASC,GAAUC,GAAsD,IAAzCC,IAAwC,yDAC7E,OAAOL,QAAQM,KAAKC,OAAO,CACzBH,MACAI,OAAQH,IAQL,IAJgBI,GAIVC,GAAWX,IAJDU,GAIyB,aAHvCT,QAAQW,QAAQC,OAAOH,KAGgC,GAkCzD,SAASI,GAAaxK,GAC3B2J,QAAQc,cAAcD,aAAa,CACjCxK,KAAe,IAATA,EAAa,GAAKA,EAAK0K,aAI1B,SAASC,GACdrM,EACAsM,IA5DmD,IAA5CC,UAAUC,UAAUC,QAAQ,YA+DjCpB,QAAQc,cAAcO,kBAAkB,CAAEtM,MAAOkM,IAEnDjB,QAAQc,cAAcQ,wBAAwB,CAAEvM,MAAOJ,I,uBCnFnD4M,GAAYC,aAAe,CAC/BC,QAAS,yCACTC,eAAgB,SAACC,EAAD,GAA4B,IACpC9I,GAAU+I,EADyB,EAAfA,YACeC,SAAShJ,OAIlD,OAHIA,GACF8I,EAAQG,IAAI,iBAAkBjJ,GAEzB8I,KAIEI,GAAaC,aAAU,CAClCC,YAAa,aACbV,aACAW,UAAW,iBAAO,MCwBdC,GAAU,CAEdC,kBAAmB,CACjBC,MAAO,gBAASC,EAAT,EAAG7I,KAAH,IAAY8I,WAAZ,MAA0D,CAC/DnC,IAAK,SACLoC,OAAQ,CACNC,KAAM,UACNC,OAAQ,0BACRC,KAAM,UACNC,MAAO,YACPL,gBAPG,MAAyB,GAAzB,EAQHD,OAGJO,kBAAmB,SAACC,GAAD,MAAoD,CACrEC,MAAOD,EAASC,MAAMC,KAAI,SAACC,GAAD,MAAW,CACnCC,MAAOD,EAAKE,QAAQD,MACpB9C,IAAI,mCAAD,OAAqC6C,EAAKE,QAAQC,UAAlD,WACHC,YAAaJ,EAAKE,QAAQE,YAC1BC,UAAWL,EAAKE,QAAQI,WAAWC,OAAOpD,IAC1C/F,GAAI4I,EAAKE,QAAQC,cAEnBK,MAAOX,EAASY,SAASC,gBAI7BC,qBAAsB,CACpBvB,MAAO,gBACL9H,EADK,EACLA,QACAsJ,EAFK,EAELA,eACAC,EAHK,EAGLA,gBAHK,IAILvB,kBAJK,MAIQ,GAJR,QAK0B,CAC/BnC,IAAK,aACLoC,OAAO,qCACLC,KAAM,iBACNC,OAAQ,iCACRU,UAAW7I,EAAQF,IACfwJ,EAAiB,CAAEA,kBAAmB,IACtCC,EAAkB,CAAEA,mBAAoB,IALxC,IAMJvB,iBAGJM,kBAAmB,SAACC,GAAD,MAAuD,CACxEC,MAAOD,EAASC,MACbrI,QAAO,SAACuI,GAAD,uBAAUA,EAAKc,eAAeC,cAA9B,aAAU,EAA4BC,WAC7CjB,KAAI,SAACC,GAAD,MAAW,CACdgB,QAAShB,EAAKc,eAAeC,OAAOC,YAExCR,MAAOX,EAASY,SAASC,gBAI7BO,cAAe,CACb7B,MAAO,gBAAG8B,EAAH,EAAGA,IAAH,IAAQ5B,kBAAR,MAAqB,GAArB,QAAkD,CACvDnC,IAAK,SACLoC,OAAQ,CACNC,KAAM,uCACNC,OACE,sIACFrI,GAAI8J,EAAIjI,MAAM,EAAGqG,GAAY1G,KAAK,QAGtCgH,kBAAmB,SAACC,GAAD,MAAgD,CACjEC,MAAOD,EAASC,MAAMC,KAAI,SAACC,GACzB,IAAMmB,EAAc,IAAIxG,KAAKqF,EAAKE,QAAQiB,aAAanF,UACvD,MAAO,CACL5E,GAAI4I,EAAK5I,GACT6I,MAAOD,EAAKE,QAAQD,MACpB9C,IAAI,mCAAD,OAAqC6C,EAAK5I,IAC7CgK,SAAUjJ,GAAa6H,EAAKc,eAAeM,UAC3CC,MAAOnI,GAAmB8G,EAAKsB,WAAWC,WAC1ClB,UAAWL,EAAKE,QAAQI,WAAWC,OAAOpD,IAC1CgD,UAAWH,EAAKE,QAAQC,UACxBqB,aAAcxB,EAAKE,QAAQsB,aAC3BL,cACAM,eAAgB/H,GAAQgI,QAAQP,OAGpCX,MAAOX,EAASY,SAASC,iBAKzBiB,GAAc7C,GAAW8C,gBAAgB,CAC7C3C,UAAW,SAAC4C,GAAD,MAAc,CACvB1C,kBAAmB0C,EAAQzC,MAGzBF,GAAQC,mBACVwB,qBAAsBkB,EAAQzC,MAG5BF,GAAQyB,sBACVM,cAAeY,EAAQzC,MAAgD,CACrE0C,QAAQ,WAAD,4BAAE,WAAOC,EAAMC,EAAWC,EAAeC,GAAvC,mBAAAC,EAAA,yDACCjB,EAAoBa,EAApBb,IAAK5B,EAAeyC,EAAfzC,WACM,IAAf4B,EAAInI,OAFD,yCAGE,CACLqJ,KAAM,CACJtC,MAAO,GACPU,MAAO,KANN,uBAUc0B,EACnBhD,GAAQ+B,cAAc7B,MAAM,CAC1B8B,MACA5B,gBAbG,cAUD+C,EAVC,yBAgBAA,EAAOD,KACV,CACEA,KAAMlD,GAAQ+B,cAAcrB,kBAC1ByC,EAAOD,OAGX,CAAEpF,MAAOqF,EAAOrF,QAtBb,2CAAF,yDAAC,KAyBVsF,iBAAkBT,EAAQzC,MAGxB,CACA0C,QAAQ,WAAD,4BAAE,WAAOC,EAAMC,EAAWC,EAAeC,GAAvC,+BAAAC,EAAA,6DACC7K,EAAwCyK,EAAxCzK,QAASsJ,EAA+BmB,EAA/BnB,eAAgBtB,EAAeyC,EAAfzC,WAD1B,SAGkB4C,EACvBhD,GAAQyB,qBAAqBvB,MAAM,CACjC9H,UACAsJ,iBACAtB,gBAPG,YAGDiD,EAHC,QAUQvF,MAVR,yCAWE,CAAEA,MAAOuF,EAAWvF,QAXtB,YAakBkC,GAAQyB,qBAAqBf,kBACpD2C,EAAWH,MADLtC,EAbD,EAaCA,MAAOU,EAbR,EAaQA,MAKI,KADbU,EAAMpB,EAAMC,KAAI,qBAAGiB,YACjBjI,OAlBD,0CAmBE,CACLqJ,KAAM,CACJtC,MAAO,GACPU,MAAO,KAtBN,yBA0Bc0B,EACnBhD,GAAQ+B,cAAc7B,MAAM,CAC1B8B,MACA5B,gBA7BG,eA0BD+C,EA1BC,yBAgCAA,EAAOD,KACV,CACEA,KAAK,2BACAlD,GAAQ+B,cAAcrB,kBACvByC,EAAOD,OAFP,IAIF5B,WAGJ,CAAExD,MAAOqF,EAAOrF,QAzCb,4CAAF,yDAAC,OA6CZwF,kBAAkB,IAIlBC,GAIEd,GAJFc,0BAEAC,IAEEf,GAHFgB,6BAGEhB,GAFFe,uBACAE,GACEjB,GADFiB,yB,SCrNWC,GAAiB,SAAClM,GAAD,OAAsBA,EAAMmM,SAAS7L,MAEtD8L,GAAuBC,aAAeH,IAAgB,SAACC,GAAD,OACjEA,EAASrL,QAAO,qBAAGM,eAGRkL,GAAuBD,aAAeH,IAAgB,SAACC,GAAD,OACjEA,EAASrL,QAAO,qBAAGM,eAGRmL,GAAoCF,aAC/CH,IACA,SAACC,GAAD,OACEA,EAASrL,QACP,gBAAGM,EAAH,EAAGA,SAAUE,EAAb,EAAaA,cAAb,OAAkCF,KAAY,OAACE,QAAD,IAACA,OAAD,EAACA,EAAeC,kBASvDiL,IAL4BH,aACvCD,IACA,SAACD,GAAD,OAAcA,EAAS/J,UAGUiK,aACjCH,GACAE,IACA,SAACD,EAAUM,GAAX,OACEN,EAAS/J,SAAWqK,EAAerK,OAC/B+J,EAAS/J,OADb,UAEOqK,EAAerK,OAFtB,YAEgC+J,EAAS/J,YC5BhCsK,GAAe,SAAC1M,GAAD,OAAsBA,EAAM2M,OAAOrM,MAElDsM,GAAsB,SAACjM,GAAD,OACjC0L,aAAeK,IAAc,SAACC,GAAD,OAC3BA,EAAO7L,QAAO,gBAAG0I,EAAH,EAAGA,UAAH,OAAmB7I,EAAQF,KAAO+I,SA6BvCqD,GAA8BR,aACzCK,GACAJ,IACA,SAACK,EAAQG,GACP,IAAMC,EAAoBD,EAAe1D,KAAI,qBAAG3I,MAChD,OAAOkM,EAAO7L,QACZ,gBAAGkM,EAAH,EAAGA,eAAgBxD,EAAnB,EAAmBA,UAAnB,OACEwD,IAAmBD,EAAkBE,SAASzD,MAChDpH,UAIO8K,GAAoCb,aAC/CK,GACAJ,IACA,SAACK,EAAQG,GACP,IAAMC,EAAoBD,EAAe1D,KAAI,qBAAG3I,MAChD,OAAOkM,EAAO7L,QACZ,gBAAGkM,EAAH,EAAGA,eAAgBG,EAAnB,EAAmBA,SAAU3D,EAA7B,EAA6BA,UAA7B,OACEwD,GAAkBG,IAAaJ,EAAkBE,SAASzD,MAC5DpH,UAIOgL,GAAkB,SAACC,GAAD,OAC7BhB,aAAeK,IAAc,SAACC,GAAY,IAAD,EAErCA,EAAOjM,MAAK,qBAAGD,KAAgB4M,EAAM5M,OAAO,GAFP,IAC/B0M,gBAD+B,aACbH,eAE1B,MAAO,CACLG,WACAH,oBALqC,c,gCCzDpC,SAASM,GAAQC,GACtB,IAAMC,ECCD,WAA2D,IAAzCC,EAAwC,uDAAN,KACnD3S,EAAQ4S,eAGd,OAFa,aAAI5S,EAAM6S,YAAYC,MAAMC,UAGlCC,QAAO,SAACC,EAAuBvJ,GAElC,IAAMwJ,EAAUC,aAAcnT,EAAM6S,YAAYO,GAAG1J,IACnD,OAAQuJ,GAAUC,EAAUxJ,EAAMuJ,IACjC,OAASN,EDVAU,CAAS,MAEvB,MAAO,CACLC,YAAaZ,EAAQD,EAAQC,QAASa,G,IEVlCC,GAAoB3Q,gRAApB2Q,gBAER,SAAS5M,KACP,IAAM6M,EAAM,IAAIvK,KAChB,MAAM,IAAN,OAAWuK,EAAIC,WAAf,YAA6BD,EAAIE,aAAjC,YAAiDF,EAAIG,aAArD,KAGK,SAASC,GAAIC,GAClB,GAAIN,GAAiB,KAAC,IAAD,qBADc1F,EACd,iCADcA,EACd,mBACnB,EAAAiG,SAAQF,IAAR,SAAYjN,KAAQkN,GAApB,OAAgChG,KCU7B,IAAMkG,GACI,GADJA,GAEM,EAGJ,SAASC,GAAe3U,GAA6B,IAC1DuG,EAAwBvG,EAAxBuG,QAASqO,EAAe5U,EAAf4U,WADgD,EAEvCC,oBAAS,GAF8B,mBAE1DC,EAF0D,KAEnDC,EAFmD,KAG3DC,EAAeC,GAAezC,GAAoBjM,IAClDsJ,EAAiBvF,GAAcoK,IAA0BQ,cACzDC,EAA2C,IAAzBT,GALyC,EAM3B7C,GACpC,CACEtL,UACAsJ,kBAEF,CACEuF,MAAON,IANHzD,EANyD,EAMzDA,KAAMgE,EANmD,EAMnDA,WAAYC,EANuC,EAMvCA,QA+C1B,OC3EK,SAAqBjK,EAAsBkK,GAChD,IAAMC,EAAgBC,iBAAOpK,GAE7BqK,qBAAU,WACRF,EAAcG,QAAUtK,IACvB,CAACA,IAEJqK,qBAAU,WACR,GAAc,OAAVH,EAAJ,CAGA,IAAMlP,EAAKuP,aAAY,kBAAMJ,EAAcG,YAAWJ,GACtD,OAAO,kBAAMM,cAAcxP,OAC1B,CAACkP,ID0BJO,EAAY,WACLhB,EAGHQ,IAFAP,GAAS,KAIVI,GAEHO,qBAAU,WACR,IAAKL,GAAchE,EAAM,CACvB,IAAI0E,EAAqB,GACnBxD,GAAa,OAAJlB,QAAI,IAAJA,OAAA,EAAAA,EAAMtC,QAAS,GACxBU,GAAY,OAAJ4B,QAAI,IAAJA,OAAA,EAAAA,EAAM5B,QAAS,EAE7B,GADA8E,GAAI,eAAgB9E,EAAO4B,GACvB5B,EAAQ,EAAG,CACb,IAAMuG,EAAmBhB,EACtBtO,QACC,gBAAGqM,EAAH,EAAGA,SAAUH,EAAb,EAAaA,eAAgBqD,EAA7B,EAA6BA,WAA7B,OACElD,GAAYH,GAAkBqD,KAEjCjH,KAAI,qBAAG3I,OACV0P,EAAYxD,EAAO7L,QACjB,SAACuM,GAAD,OAAY+C,EAAiBnD,SAASI,EAAM5M,QAEhC2B,OAAS,GACrBuM,GAAI,0BAAD,OAA2BhO,EAAQ2I,MAAnC,KAA6C6G,GAGpDnB,EAAW,CACTrO,UACAwP,iBAIH,CAACV,IAEG,sDE1DT,IAIaa,GAAc1Q,YAAY,CACrCC,KAAM,SACNH,aANgC,CAChCY,KAAM,IAMNR,SAAU,CACRyQ,UAAW,SAACvQ,EAAOC,GACjB,OAAO,2BACFD,GACAC,EAAOC,UAGdsQ,eAAgB,SAACxQ,EAAOC,GACtB,IAAMoN,EAAQpN,EAAOC,QACfiB,EAAQnB,EAAMM,KAAKI,MAAK,qBAAGD,KAAgB4M,EAAM5M,MACnDU,EACFA,EAAMgM,UAAW,EAEjBnN,EAAMM,KAAKM,KAAK,CACdH,GAAI4M,EAAM5M,GACV+I,UAAW6D,EAAM7D,UACjBgB,YAAa6C,EAAM7C,YACnB2C,UAAU,KAIhBsD,mBAAoB,SAACzQ,EAAOC,GAC1B,IAAMoN,EAAQpN,EAAOC,QACfiB,EAAQnB,EAAMM,KAAKI,MAAK,qBAAGD,KAAgB4M,EAAM5M,MACnDU,EACFA,EAAM6L,gBAAiB,EAEvBhN,EAAMM,KAAKM,KAAK,CACdH,GAAI4M,EAAM5M,GACV+I,UAAW6D,EAAM7D,UACjBgB,YAAa6C,EAAM7C,YACnBwC,gBAAgB,KAItB0D,sBAAuB,SAAC1Q,EAAOC,GAC7B,IAAMoN,EAAQpN,EAAOC,QACfiB,EAAQnB,EAAMM,KAAKI,MAAK,qBAAGD,KAAgB4M,EAAM5M,MACnDU,IACFA,EAAM6L,gBAAiB,GAEpB7G,IAEHmK,GAAYK,aAAaC,qBAAqB5Q,IAGlD6Q,oBAAqB,SAAC7Q,GACpBA,EAAMM,KAAON,EAAMM,KAAK8I,KAAI,SAACiE,GAAD,OAC1BA,EAAML,eAAN,2BAESK,GAFT,IAGML,gBAAiBK,EAAMF,WAEzBE,MAGRyD,kBAAmB,SAAC9Q,EAAOC,GACzB,IAD4D,EACtD0M,EAAS1M,EAAOC,QADsC,eAExCyM,GAFwC,yBAEjDU,EAFiD,QAGpDlM,EAAQnB,EAAMM,KAAKI,MAAK,qBAAGD,KAAgB4M,EAAM5M,MACnDU,EACFA,EAAMkP,YAAa,EAEnBrQ,EAAMM,KAAKM,KAAK,CACdH,GAAI4M,EAAM5M,GACV+I,UAAW6D,EAAM7D,UACjBgB,YAAa6C,EAAM7C,YACnB6F,YAAY,KATlB,2BAA6B,IAF+B,gCAgB9DO,qBAAsB,SAAC5Q,GACrBA,EAAMM,KAAON,EAAMM,KAAKQ,QACtB,gBAAGqM,EAAH,EAAGA,SAAUH,EAAb,EAAaA,eAAgBqD,EAA7B,EAA6BA,WAAY7F,EAAzC,EAAyCA,YAAzC,OACE2C,GACAH,GACCqD,GACCrL,GAAYwF,IAAgBuG,U,GAcpCT,GAAYlQ,QAPdmQ,G,GAAAA,UACAC,G,GAAAA,eACAC,G,GAAAA,mBACAC,G,GAAAA,sBACAG,G,GAAAA,oBACAC,G,GAAAA,kBACAF,G,GAAAA,qBAGaN,MAAf,QC9GaU,GAAWpR,YAAY,CAClCC,KAAM,WACNH,aAN6B,CAC7BuR,QAAQ,GAMRnR,SAAU,CACRoR,OAAQ,SAAClR,EAAOC,GACd,OAAO,2BACFD,GACAC,EAAOC,aAMHgR,GAAWF,GAAS5Q,QAApB8Q,OAEAF,MAAf,Q,8CCdA,wDAAAxF,EAAA,qEAAsBoC,EAAtB,yBAAsBA,EAAtB,iCAEyBxH,QAAQ+K,QAAQC,MAAMC,IAAIzD,GAFnD,cAEUlC,EAFV,yBAGWkC,EAAKxL,OAAS,EAAIsJ,EAASA,EAAOkC,EAAK,KAHlD,gCAKUlC,EAAoC,GAL9C,eAMsBkC,GANtB,IAMI,2BAAWpJ,EAAa,QAChB8M,EAAQC,aAAaC,QAAQhN,GACnCkH,EAAOlH,GAAOiN,GAAMH,GAR1B,uDAUW1D,EAAKxL,OAAS,EAAIsJ,EAASA,EAAOkC,EAAK,KAVlD,0D,sBAcA,SAAS6D,GAAMH,GACb,IAAKA,EACH,OAAOA,EAET,IACE,OAAOI,KAAKD,MAAMH,GAClB,MAAOjL,GACP,OAAOiL,GAuBX,SAASK,GAAUL,GACjB,IACE,OAAOI,KAAKC,UAAUL,GACtB,MAAOjL,GACP,OAAOiL,GAIX,IAKeH,GALC,CACdE,I,4CACAO,KAtBF,SAAcC,GACZ,IACEzL,QAAQ+K,QAAQC,MAAMlJ,IAAI2J,GAC1B,MAAOxL,GAEP,IADA,IACA,MADayL,OAAOlE,KAAKiE,GACzB,eAAwB,CAAnB,IAAMrN,EAAG,KACN8M,EAAQK,GAAUE,EAAOrN,IAC/B+M,aAAaQ,QAAQvN,EAAK8M,OCzCnBU,GAAa,qBAEtBC,IAAkB,EAClBC,GAAsB,GAEbC,GAAW,SAAClS,GAAiD,IAA9BmS,EAA6B,wDACvEH,GAAkBG,EAClBC,GAAMF,SAASlS,IAGJqS,GAAY,uCAAG,wCAAA9G,EAAA,sEACN2F,GAAQE,IAAIW,IADN,UACpBhS,EADoB,wCAIFmR,GAAQE,IAAI,WAAY,YAJtB,gDAIsC,GAJtC,QAIlBkB,EAJkB,MAKbtK,WACDhJ,EAAWsT,EAAOtK,SAAlBhJ,SAENkT,GAASpS,GAAY,CAAEd,YAGvBsT,EAAOpG,UACTgG,GAAS5R,GAAY,CAAED,KAAMiS,EAAOpG,YAZd,wBAgBhBlE,GAhBgB,EAgBejI,GAAS,IAAxCiI,SAAUkE,EAhBM,EAgBNA,SAAUQ,EAhBJ,EAgBIA,OACxB1E,GACFkK,GAASpS,GAAYkI,IAEnBkE,GACFgG,GAAS5R,GAAY4L,IAEnBQ,GACFwF,GAAS5B,GAAU5D,IAxBG,QA2B1BwF,GAASjB,GAAO,CAAED,QAAQ,KAAUjR,GA3BV,4CAAH,qDCTnBqS,GAAQG,YAAe,CAC3BC,QAAQ,aACNxK,SAAUyK,GACVvG,SAAUwG,GACVhG,OAAQiG,GACRC,IAAKC,IACJ3K,GAAWE,YAAcF,GAAWsK,SAEvCM,WAAY,SAACC,GAAD,OACVA,IAAuBC,OAAO9K,GAAW4K,eAG7CV,GAAMa,UACJ1N,IAAS,YD0BiB,SAACxF,EAAkBmT,GAK7C,GAJAxE,GAAI,iBAAkB,CACpBsD,mBACAjS,UAEGiS,GAAL,CALyE,IASjEhK,EAA+BjI,EAA/BiI,SAAUkE,EAAqBnM,EAArBmM,SAAUQ,EAAW3M,EAAX2M,OAC5B,GAAIwG,EAAe,CACjB,IAAMC,EAAkB1B,KAAKC,UAAU,CAAE1J,WAAUkE,WAAUQ,WAC7D,GAAIuF,KAAwBkB,EAE1B,YADAzE,GAAI,yBAGNuD,GAAsBkB,EAExBjC,GAAQS,KAAR,eACGI,GAAa,CACZ/J,WACAkE,WACAQ,iBAhBFsF,IAAkB,EC/BlBoB,CAAahB,GAAMrK,cAClB,MAGL,sBAAC,sBAAAwD,EAAA,sEAAkB8G,KAAlB,kFAAD,GAIO,IAAMgB,GAAiB,kBAAMC,eACvBlE,GAAkDmE,IAGhDnB,MCjCFoB,GAAiB,SAACzT,GAAD,OAAsBA,EAAMiI,UAE7CyL,GAAarH,aAAeoH,IAAgB,SAACxL,GAAD,OACvDA,EAAS/I,SAAW,OAAS,WCJlByU,GAAY,SAAC3T,GAAD,OAAsBA,EAAM6S,KCc9C,SAASlY,GAAQP,GACtB,IAAMyY,EAAMxD,GAAesE,IACrBC,EAAgBvE,GAAe7C,IAC/BvE,EAAWoH,GAAeoE,IAEhC,OACE,eAAClZ,EAAA,EAAD,CACED,GAAI,CACFE,QAAS,OACTC,cAAe,SACf2B,SAAU,IACVyX,SAAU,IACVrV,QAAS,mBACTsV,YAAa,EACblV,YAAa,WARjB,UAWE,eAACrE,EAAA,EAAD,CACED,GAAI,CACFM,SAAU,EACVJ,QAAS,OACTC,cAAe,SACfsZ,GAAI,IACJC,GAAI,GANR,UASE,cAACzZ,EAAA,EAAD,CACED,GAAI,CACFE,QAAS,OACTC,cAAe,MACfmB,WAAY,SACZJ,aAAc,GALlB,SAQE,cAACsC,EAAD,CAAQC,aAAW,MAErB,cAACxD,EAAA,EAAD,CAAKD,GAAI,CAAEM,SAAU,EAAGqZ,YAAa,EAAGzG,MAAO,QAA/C,SACE,eAAC0G,EAAA,EAAD,CAAM5W,UAAU,MAAM6W,aAAW,OAAjC,UACE,cAAC5X,EAAD,CAAcC,KAAM,cAAC,IAAD,IAAiBC,KAAK,OAAOG,GAAG,MACpD,cAACL,EAAD,CACEC,KAAM,cAAC,IAAD,IACNC,KAAK,WACLG,GAAG,YACHF,MAAOkX,IAET,cAACrX,EAAD,CACEC,KAAM,cAAC,IAAD,IACNC,KAAK,WACLG,GAAG,YACHD,WAAYkW,EAAI5B,SAAWhJ,EAAShJ,SAEtC,cAAC1C,EAAD,CACEC,KAAM,cAAC,IAAD,IACNC,KAAK,QACLG,GAAG,mBAKX,eAACrC,EAAA,EAAD,CACED,GAAI,CACFE,QAAS,OACTC,cAAe,SACfsZ,GAAI,EACJK,GAAI,EACJC,UAAW,EACXzV,YAAa,WAPjB,UAUE,cAACN,EAAA,EAAD,CACEhE,GAAI,CAAE+B,SAAU,SAAUiY,GAAI,GAC9B/V,QAAQ,UACRpD,MAAM,iBAHR,kDAOA,eAACoZ,EAAA,EAAD,CACEja,GAAI,CACFE,QAAS,OACToB,WAAY,SACZqC,IAAK,GACL5B,SAAU,SACVmY,eAAgB,OAChB,UAAW,CACTA,eAAgB,cAGpBC,KAAK,oDACLC,OAAO,SACPvZ,MAAM,YACNwZ,IAAI,WAdN,UAgBE,cAAC,IAAD,CAAoBra,GAAI,CAAE+B,SAAU,MAhBtC,mCClFD,SAAS+B,GAAKhE,GAAmB,IAAD,EACNA,EAAvBiE,YAD6B,MACtB,GADsB,IACNjE,EAAZE,UADkB,MACb,GADa,EAGrC,OACE,cAACC,EAAA,EAAD,CACED,GAAE,aACAE,QAAS,OACT,QAAS,CACPgT,MAAOnP,EACP3D,OAAQ2D,EACRyC,OAAQ,oCAEPxG,GARP,SAWE,qBAAKsa,IAAI,OAAOC,IAAI,oB,sDCVnB,SAASC,GAAM1a,GAAoB,IAAD,IAQnCA,EANF2a,KAAMC,OAF+B,SAGrC3O,EAKEjM,EALFiM,MAHqC,EAQnCjM,EAJF6a,gBAJqC,MAI1B,QAJ0B,EAKrCC,EAGE9a,EAHF8a,SACAC,EAEE/a,EAFF+a,SACAC,EACEhb,EADFgb,QAEI/a,EAAWD,EAAMC,WAAN,OAAkBgM,QAAlB,IAAkBA,GAAlB,UAAkBA,EAAOoF,YAAzB,aAAkB,EAAapF,MAAMuI,WAArC,OAAgDvI,QAAhD,IAAgDA,OAAhD,EAAgDA,EAAOA,OATjC,EAUf4I,mBAAS+F,GAVM,mBAUhCD,EAVgC,KAU1BM,EAV0B,KAYvCvF,qBAAU,WACJqF,GAAYH,IAAaD,GAC3BM,EAAQL,KAGT,CAACA,EAAUG,IASd,OACE,cAACG,GAAA,EAAD,CAAUC,GAAIR,EAAd,SACE,cAAC,KAAD,CACEza,GAAI,CAAEiB,aAAc,SACpB0Z,SAAUA,EACVhV,OACEiV,EACE,cAACM,GAAA,EAAD,CACErB,aAAW,QACXhZ,MAAM,UACNkD,KAAK,QACLoX,QAlBQ,WAClBJ,GAAQ,GACJD,GACFA,KAWM,SAME,cAAC,KAAD,CAAW/Y,SAAS,cAEpB,KAbR,SAgBGhC,MCnDF,I,8BCOQqb,GAZDra,YAAOsa,KAAPta,EAAkB,gBAAGP,EAAH,EAAGA,MAAH,MAAgB,CAC9CF,SAAU,EACVO,MAAOL,EAAME,QAAQyB,KAAKxB,QAC1BF,gBAAiBD,EAAME,QAAQ4a,OAAOC,UACtClX,OAAO,aAAD,OAAe7D,EAAME,QAAQ4a,OAAOE,aAC1Cva,aAAc,GACd,wBAAyB,CACvBmD,QAAS5D,EAAMW,QAAQ,EAAG,EAAG,EAAG,GAChC+R,MAAO,YCKJ,SAASuI,GAAY3b,GAA0B,IAAD,EAQ/CA,EANF4b,mBAFiD,MAEnC,eAFmC,EAG1CnC,EAKLzZ,EALFoT,MACAyI,EAIE7b,EAJF6b,UAJiD,EAQ/C7b,EAHF8b,oBALiD,MAKlC,IALkC,EAMjDC,EAEE/b,EAFF+b,SACAC,EACEhc,EADFgc,QAPiD,EASzBnZ,IAAMgS,SAAS,IATU,mBAS5CqC,EAT4C,KASrC+E,EATqC,KA4B7CC,EAAiBrZ,IAAMC,SAC3B,kBACEsI,IAAS,SAAC8L,GACR6E,EAAS7E,KACR4E,KAEL,IAWF,OARAjZ,IAAM6S,WAAU,WACA,KAAVwB,GAIJgF,EAAehF,KACd,CAACA,EAAOgF,IAGT,eAAC/b,EAAA,EAAD,CAAKD,GAAI,CAAEyB,SAAU,WAAYvB,QAAS,OAAQI,SAAU,EAAGiZ,YAA/D,UACE,cAACtZ,EAAA,EAAD,CACED,GAAI,CACFkT,MAAO,GACP9S,OAAQ,OACRqB,SAAU,WACVwa,cAAe,OACf/b,QAAS,OACToB,WAAY,SACZoC,eAAgB,SAChB7C,MAAO,gBACPqb,OAAQ,GAVZ,SAaE,cAAC,KAAD,MAEF,cAAC,GAAD,CACER,YAAaA,EACbS,WAAY,CAAEnF,QAAO,aAAc,UACnC6E,SAtDe,SAACO,GACpBL,EAASK,EAAMhC,OAAOpD,QAsDlBqF,QA5Cc,SAACD,GACD,UAAdA,EAAMlS,KACR2R,EAAS7E,MA4CR2E,IAAkB,OAAL3E,QAAK,IAALA,OAAA,EAAAA,EAAOlP,QAAS,EAC5B,cAACoT,GAAA,EAAD,CACElb,GAAI,CACFyB,SAAU,WACV6a,MAAO,EACPC,IAAK,EACLC,GAAI,IACJC,GAAI,EACJ5b,MAAO,iBAETgZ,aAAW,QACX9V,KAAK,QACLoX,QAjEY,WAClBY,EAAS,IACLD,GACFA,KAmDE,SAaE,cAAC,KAAD,CAAW/Z,SAAS,cAEpB,Q,wBCnFK2a,GAZQ3b,YAAO4b,KAAP5b,EAA0B,kBAAGP,EAAH,EAAGA,MAAH,UAC/CJ,OAAQ,GADuC,0BAEzCwc,KAAsBC,cAAiB,CAC3Cpc,gBACED,EAAME,QAAQoc,KAA4B,UAAvBtc,EAAME,QAAQyD,KAAmB,IAAM,OAJf,2BAMxCyY,KAAsBG,KAAQ,CACnC9b,aAAc,EACdR,gBAAwC,UAAvBD,EAAME,QAAQyD,KAAmB,UAAY,YARjB,KCD1C,SAAS6Y,GAAYld,GAA6B,IAAD,EACPA,EAAvCmE,eAD8C,MACpC,cADoC,IACPnE,EAAdkX,aADqB,MACb,EADa,EAEtD,OACE,cAAC/W,EAAA,EAAD,CAAKD,GAAI,CAAEM,SAAU,GAArB,SACE,cAAC,GAAD,CAAgB2D,QAASA,EAAS+S,MAAOA,M,4BCShCzV,GAdDR,YAAOS,IAAPT,EAAiB,gBAAGP,EAAH,EAAGA,MAAH,MAAgB,CAC7C,oBAAqB,CACnBiB,SAAU,WACVC,UAAW,OACXjB,gBAAiBD,EAAME,QAAQC,QAAQC,KACvCC,MAAOL,EAAME,QAAQkB,OAAOC,MAC5BC,SAAU,GACV1B,OAAQ,GACR2B,SAAU,UACVC,WAAYxB,EAAMW,QAAQ,KAC1BF,aAAcT,EAAMW,QAAQ,UCHjB,SAAS8b,GAAInd,GAAkB,IACpCod,EAAoCpd,EAApCod,MAAO9a,EAA6BtC,EAA7BsC,MAAOG,EAAsBzC,EAAtByC,SAAa4a,EADQ,aACCrd,EADD,8BAG3C,OACE,cAAC,KAAD,aACEE,GAAI,CACF+B,SAAU,WACVqb,WAAY,IACZtb,SAAU,IACVub,cAAe,cAEjBH,MACE,eAACjd,EAAA,EAAD,CAAKD,GAAI,CAAEE,QAAS,OAAQoB,WAAY,UAAxC,UACG4b,EACA9a,GAASG,EAAW,cAAC,GAAD,CAAOY,aAAcf,IAAY,QAG1Da,eAAa,GACTka,I,kCCpBK,SAASG,GAAYxd,GAA0B,IACpDqb,EAAYrb,EAAZqb,QAER,OACE,cAACD,GAAA,EAAD,CACElb,GAAI,CACFyB,SAAU,WACV8a,IAAK,SAAC/b,GAAD,OAAWA,EAAMW,SAAS,OAC/Bmb,MAAO,SAAC9b,GAAD,OAAWA,EAAMW,SAAS,OACjC+C,QAAS,eACTrD,MAAO,eACPkB,SAAU,WACV,UAAW,CACTmC,QAAS,eACTrD,MAAO,iBAGXkD,KAAK,QACLoX,QAASA,EAdX,SAgBE,cAAC,KAAD,CAAWpZ,SAAS,cCb1B,SAASwb,GAAkBzd,GAAgC,IACjD2a,EAAyB3a,EAAzB2a,KAAM1H,EAAmBjT,EAAnBiT,MAAO+H,EAAYhb,EAAZgb,QAEf0C,EAAO,CACXpd,OAAQ,OACR8S,MAAO,OACPuK,WAAY,CAEVC,SANa3I,GAAeoE,IAMTtU,eAAiB,EAAI,IAItC8Y,EAAc,SAACvB,EAAmBwB,GACtC,GAAe,kBAAXA,EACF,O7BsVC,SAAiBxB,GACtBA,EAAMyB,kBACNzB,EAAM0B,iB6BxVKC,CAAK3B,GAEdtB,KAGF,OACE,eAACkD,GAAA,EAAD,CACEhe,GAAI,CACF,mBAAoB,CAClBie,SAAU,UACV/K,MAAO,MACPqG,SAAU,KACVnZ,OAAQ,QAGZqa,KAAMA,EACNK,QAAS6C,EAVX,UAYE,cAACL,GAAD,CAAanC,QAASwC,IACtB,cAACO,GAAA,EAAD,CACEle,GAAI,CACFE,QAAS,OACTie,EAAG,IACH,QAAS,CACP7d,SAAU,IALhB,SASGyS,EAAQ,cAAC,KAAD,CAAShD,QAASgD,EAAM5M,GAAIqX,KAAMA,IAAW,UAM9D,SAASY,GACPC,EACAC,GACC,IAAD,IACA,OACED,EAAU5D,OAAS6D,EAAU7D,OAC7B,UAAA4D,EAAUtL,aAAV,eAAiB5M,OAAjB,UAAwBmY,EAAUvL,aAAlC,aAAwB,EAAiB5M,IAI9BxD,WAAM4b,KAAKhB,GAAmBa,I,UCjD9BI,OAff,SAAqB1e,GAA0B,IACrCuG,EAAsBvG,EAAtBuG,QAAStG,EAAaD,EAAbC,SAEjB,OACE,cAACka,EAAA,EAAD,CACEja,GAAI,CAAEye,QAAS,OAAQvE,eAAgB,QACvCC,KAAM9T,EAAQ6F,IACdkO,OAAO,SACPC,IAAI,WAJN,SAMGta,KCVP,SAAS2e,GAAa5e,GAA2B,IACvCuG,EAAYvG,EAAZuG,QAER,OACE,eAACpG,EAAA,EAAD,CACED,GAAI,CACFE,QAAS,OACToB,WAAY,SACZqd,GAAI,GAJR,UAOE,cAAC,GAAD,CAAatY,QAASA,EAAtB,SACE,cAACuY,GAAA,EAAD,CAAQtE,IAAKjU,EAAQ2I,MAAOuL,IAAKlU,EAAQ+I,cAE3C,cAAC,GAAD,CAAa/I,QAASA,EAAtB,SACE,cAACrC,EAAA,EAAD,CAAYhE,GAAI,CAAEoD,GAAI,KAAOa,QAAQ,YAAYpD,MAAM,eAAvD,SACGwF,EAAQ2I,aAOnB,SAASoP,GACPC,EACAC,GAEA,OAAOD,EAAUhY,QAAQF,KAAOmY,EAAUjY,QAAQF,GAGrCxD,WAAM4b,KAAKG,GAAcN,I,mFCtBxC,SAASS,GAAiB/e,GAA+B,IAC/CiT,EAAgBjT,EAAhBiT,MAAO+L,EAAShf,EAATgf,KACPpM,EAAmBqC,GAAejC,GAAgBC,IAAlDL,eACFmF,EAAWmB,KAEjB,OAAQtG,EAyBJoM,IAASpf,WAASqf,WACpB,cAACC,GAAA,EAAD,CAAShQ,MAAM,SAAS6K,aAAW,0BAAnC,SACE,cAACqB,GAAA,EAAD,CACElb,GAAI,CACFE,QAAS,OACTuB,SAAU,WACV8a,IAAK,EACLD,MAAO,EACP2C,OAAQ,MACRpe,MAAO,OACPJ,gBAAiB,qBACjB2D,QAAS,MACTnD,aAAc,MACd,UAAW,CACTJ,MAAO,SAGXkD,KAAK,QACLoX,QAAS,WACPtD,EAASzB,GAAsBrD,KAjBnC,SAoBE,cAAC,KAAD,CAAW/S,GAAI,CAAE+B,SAAU,kBAG7B,KAjDF,cAACid,GAAA,EAAD,CAAShQ,MAAM,cAAc6K,aAAW,cAAxC,SACE,cAACqB,GAAA,EAAD,CACElb,GAAI,CACFE,QAAS,OACTuB,SAAU,WACV8a,IAAK,EACLD,MAAO,EACP2C,OAAQ,MACRpe,MAAO,OACPJ,gBAAiB,qBACjB2D,QAAS,MACTnD,aAAc,MACd,UAAW,CACTJ,MAAO,SAGXkD,KAAK,QACLoX,QAAS,WACPtD,EAAS1B,GAAmBpD,KAjBhC,SAoBE,cAAC,KAAD,CAAwB/S,GAAI,CAAE+B,SAAU,iBA+BhD,SAASqc,GACPC,EACAC,GAEA,OACED,EAAUS,OAASR,EAAUQ,MAC7BT,EAAUtL,MAAM5M,KAAOmY,EAAUvL,MAAM5M,GAI5BxD,WAAM4b,KAAKM,GAAkBT,I,qBC1E5C,SAASc,GAAYpf,GAA0B,IACrCiT,EAAUjT,EAAViT,MAGR,OAFqBgC,GAAejC,GAAgBC,IAA5CF,SAGN,cAACmM,GAAA,EAAD,CAAShQ,MAAM,SAAS6K,aAAW,SAAnC,SACE,cAAC5Z,EAAA,EAAD,CACED,GAAI,CACFE,QAAS,OACTuB,SAAU,WACV0d,OAAQ,EACRC,KAAM,EACNH,OAAQ,MACRpe,MAAO,OACPJ,gBAAiB,qBACjB2D,QAAS,UACTnD,aAAc,MACd,UAAW,CACTJ,MAAO,SAZb,SAgBE,cAAC,KAAD,CAAgBb,GAAI,CAAE+B,SAAU,cAGlC,KAGN,SAASqc,GACPC,EACAC,GAEA,OAAOD,EAAUtL,MAAM5M,KAAOmY,EAAUvL,MAAM5M,GAGjCxD,WAAM4b,KAAKW,GAAad,IC3BvC,SAASiB,GAAUvf,GAAwB,IAEvCiT,EAKEjT,EALFiT,MACA+L,EAIEhf,EAJFgf,KAHsC,EAOpChf,EAHFwf,sBAJsC,MAIrB,OAJqB,IAOpCxf,EAFFyf,uBALsC,MAKpB,IALoB,EAMtCC,EACE1f,EADF0f,YAEI3H,EAAWmB,KAEjB,OACE,qCACE,eAAC/Y,EAAA,EAAD,CACED,GAAI,CACFyB,SAAU,WACV,mBAAoB,CAClBge,QAAS,GAEX,mBAAoB,CAClBA,QAAS,IAPf,UAWE,cAACxf,EAAA,EAAD,CACED,GAAI,CACFE,QAAS,OACTgT,MAAOoM,EACPlf,OAAQmf,EACRG,gBAAgB,QAAD,OAAU3M,EAAM3D,UAAhB,MAEfuQ,iBAAkB,YAClBC,eAAgB,WAGpB,cAAC3f,EAAA,EAAD,CACED,GAAI,CACFS,gBAAiB,qBACjBgB,SAAU,WACVrB,OAAQ,OACR8S,MAAO,OACPkM,KAAM,EACN7C,IAAK,EACL4C,OAAQ,EACR7C,MAAO,EACPmD,QAAS,EACTI,WAAY,+BAEdC,UAAU,YAEZ,eAAC7f,EAAA,EAAD,CACED,GAAI,CACFyB,SAAU,WACV8a,IAAK,EACL6C,KAAM,EACNK,QAAS,EACTvM,MAAO,OACP9S,OAAQ,OACRyf,WAAY,+BAEdC,UAAU,UAVZ,UAYE,eAAC7f,EAAA,EAAD,CACED,GAAI,CACFyB,SAAU,WACV8a,IAAK,MACL6C,KAAM,MACN1d,UAAW,wBACXwR,MAAO,OACP6M,UAAW,SACXpG,YAAa,OACbqG,aAAc,QATlB,UAYE,cAAC/F,EAAA,EAAD,CACEja,GAAI,CAAEka,eAAgB,OAAQuE,QAAS,QACvCtE,KAAMpH,EAAM7G,IACZkO,OAAO,SACPC,IAAI,WACJc,QAAS,SAACiB,GACJvQ,KACFuQ,EAAM0B,iBACN7R,GAAU8G,EAAM7G,KAAK,IAEvB2L,EAAS3B,GAAenD,KAV5B,SAaE,cAACmI,GAAA,EAAD,CAAYlb,GAAI,CAAEa,MAAO,OAAQoe,OAAQ,IAAOlb,KAAK,QAArD,SACE,cAACib,GAAA,EAAD,CAAShQ,MAAM,kBAAkB6K,aAAW,cAA5C,SACE,cAAC,KAAD,CAAe7Z,GAAI,CAAE+B,SAAU,kBAIrC,cAACmZ,GAAA,EAAD,CACElb,GAAI,CAAEa,MAAO,OAAQoe,OAAQ,IAC7Blb,KAAK,QACLoX,QAAS,WACPqE,EAAYzM,GACZ8E,EAAS3B,GAAenD,KAL5B,SAQE,cAACiM,GAAA,EAAD,CAAShQ,MAAM,QAAQ6K,aAAW,QAAlC,SACE,cAAC,KAAD,CAAe7Z,GAAI,CAAE+B,SAAU,mBAIrC,cAAC,GAAD,CAAkBgR,MAAOA,EAAO+L,KAAMA,OAExC,cAAC,GAAD,CAAa/L,MAAOA,IACpB,cAAC/O,EAAA,EAAD,CACEhE,GAAI,CACFyB,SAAU,WACV0d,OAAQ,EACR7C,MAAO,EACP2C,OAAQ,MACRpe,MAAO,OACPJ,gBAAiB,qBACjB2D,QAAS,UACTnD,aAAc,OAEhBgD,QAAQ,UAXV,SAaG8O,EAAM5C,cAGX,eAAClQ,EAAA,EAAD,CAAKggB,GAAI,EAAGC,GAAI,EAAhB,UACE,cAAClB,GAAA,EAAD,CACEhQ,MAAO+D,EAAM/D,MACbmR,WAAY,IACZC,eAAgB,IAChBvG,aAAW,cAJb,SAME,cAAC7V,EAAA,EAAD,CACEhE,GAAI,CACFE,QAAS,cACTmgB,gBAAiB,EACjBC,gBAAiB,WACjBrC,SAAU,UAEZsC,cAAY,EACZtc,QAAQ,QARV,SAUG8O,EAAM/D,UAGX,cAAChL,EAAA,EAAD,CAAY9D,QAAQ,QAAQ+D,QAAQ,UAAUpD,MAAM,gBAApD,SACGkS,EAAMxC,eAET,cAACvM,EAAA,EAAD,CAAYC,QAAQ,UAAUpD,MAAM,gBAApC,mBACMkS,EAAM3C,MADZ,mBACuB2C,EAAMvC,wBAOrC,SAAS4N,GAAcC,EAA2BC,GAChD,OACED,EAAUS,OAASR,EAAUQ,MAC7BT,EAAUkB,kBAAoBjB,EAAUiB,iBACxClB,EAAUiB,iBAAmBhB,EAAUgB,gBACvCjB,EAAUtL,MAAM5M,KAAOmY,EAAUvL,MAAM5M,GAI5BxD,WAAM4b,KAAKc,GAAWjB,I,UC/KtB,SAASoC,GAAc1gB,GAA4B,IAAD,EACtBA,EAAjCoT,aADuD,MAC/C,OAD+C,IACtBpT,EAAjBM,cADuC,MAC9B,IAD8B,EAG/D,OACE,qCACE,cAACqgB,GAAA,EAAD,CAAUxc,QAAQ,cAAciP,MAAOA,EAAO9S,OAAQA,IACtD,eAACH,EAAA,EAAD,CAAKygB,GAAI,GAAT,UACE,cAACD,GAAA,EAAD,IACA,cAACA,GAAA,EAAD,CAAUvN,MAAM,cCXT,SAASyN,GAAS7gB,GAAuB,IAC9CC,EAAsBD,EAAtBC,SAAaod,EADgC,aACvBrd,EADuB,cAWrD,OACE,cAAC8gB,GAAA,EAAD,qCAAM7R,MAAI,GAVE,CACZ8R,IAAK,EACLC,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,IAIsB/D,GAA1B,aACGpd,KClBP,IAKeohB,GALA,CACbC,YAAa,CAAEP,IAAK,EAAGE,GAAI,GAC3BM,YAAa,CAAER,IAAK,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,I,qBCQ1C,SAASI,GAASxhB,GAAuB,IAC9CyhB,EAAgCzhB,EAAhCyhB,UAAWC,EAAqB1hB,EAArB0hB,QAASrG,EAAYrb,EAAZqb,QAE5B,OACE,cAAClb,EAAA,EAAD,CACED,GAAI,CACFE,QAAS,OACTC,cAAe,SACfuD,eAAgB,WAChB5B,SAAU,SAACtB,GAAD,OAAWA,EAAMW,QAAQ,MACnCiC,GAAI,EACJO,IAAK,GAPT,SAUG6d,EACC,cAACtG,GAAA,EAAD,CACElb,GAAI,CAAEI,OAAQ,IAAKa,aAAc,GACjCwgB,SAAUF,EACVxd,KAAK,QACLoX,QAASA,EAJX,SAME,cAAC,KAAD,CAAqBpZ,SAAS,cAE9B,OCqBK2f,OAlCf,SAAuB5hB,GAA4B,IAE/CuS,EAQEvS,EARFuS,OACAyM,EAOEhf,EAPFgf,KACAyC,EAMEzhB,EANFyhB,UACAzN,EAKEhU,EALFgU,YACAzF,EAIEvO,EAJFuO,WACAmT,EAGE1hB,EAHF0hB,QACAhC,EAEE1f,EAFF0f,YACAmC,EACE7hB,EADF6hB,WAEIC,EAAiBtZ,KAAKuZ,IAAIxT,EAAagE,EAAOvK,OAAQgM,GAE5D,OACE,eAAC7T,EAAA,EAAD,CAAKD,GAAI,CAAEE,QAAS,OAAQwZ,GAAI,GAAhC,UACE,eAACkH,GAAA,EAAD,CAAMkB,WAAS,EAAC3gB,QAASggB,GAAOC,YAAanO,QAASkO,GAAOE,YAA7D,UACGhP,EAAOvD,KAAI,SAACiE,EAAcgP,GAAf,OACV,cAACpB,GAAD,UACE,cAAC,GAAD,CAAW5N,MAAOA,EAAO+L,KAAMA,EAAMU,YAAaA,KADrCuC,MAIhBR,GAAaK,EAAiB,EAC3BI,MAAMtb,KAAK,IAAIsb,MAAMJ,IAAiB9S,KAAI,SAACmT,EAAGF,GAAJ,OACxC,cAACpB,GAAD,UACE,cAACH,GAAD,KADauB,MAIjB,QAEN,cAACT,GAAD,CAAUC,UAAWA,EAAWC,QAASA,EAASrG,QAASwG,QC/BjE,SAASO,GAAgBpiB,GAA8B,IAC7CuG,EAA2DvG,EAA3DuG,QAASgM,EAAkDvS,EAAlDuS,OAAQ9C,EAA0CzP,EAA1CyP,MAAOgS,EAAmCzhB,EAAnCyhB,UAAWlT,EAAwBvO,EAAxBuO,WAAe8O,EADN,aACerd,EADf,uDAE9CqiB,EAAYZ,GAAalP,EAAOvK,OAAS,EACzCsa,EAAc7S,EAAQlB,EACtBmT,EACJnP,EAAOvK,OAAS,IAAOyZ,GAAaa,GAAgBA,GAEtD,OAAOD,EACL,eAACliB,EAAA,EAAD,CACED,GAAI,CACFE,QAAS,OACTC,cAAe,SACfwe,GAAI,GAJR,UAOE,cAAC,GAAD,CAActY,QAASA,IACvB,cAAC,GAAD,aACEgM,OAAQA,EACRkP,UAAWA,EACXlT,WAAYA,EACZmT,QAASA,GACLrE,OAGN,KAGN,SAASiB,GACPC,EACAC,GAEA,OACED,EAAUS,OAASR,EAAUQ,MAC7BT,EAAUhY,QAAQF,KAAOmY,EAAUjY,QAAQF,IAC3CkY,EAAU9O,QAAU+O,EAAU/O,OAC9B8O,EAAUkD,YAAcjD,EAAUiD,WAClClD,EAAUvK,cAAgBwK,EAAUxK,aACpCuK,EAAUhQ,aAAeiQ,EAAUjQ,YACnC+I,KAAKC,UAAUgH,EAAUhM,OAAOvD,KAAI,qBAAG3I,SACrCiR,KAAKC,UAAUiH,EAAUjM,OAAOvD,KAAI,qBAAG3I,OAI9BxD,WAAM4b,KAAK2D,GAAiB9D,ICa5BiE,OAzDf,SAAyBviB,GAA8B,IAEnDuG,EAMEvG,EANFuG,QACAsJ,EAKE7P,EALF6P,eAHkD,EAQhD7P,EAJFwiB,yBAJkD,MAI9B,GAJ8B,EAKlDC,EAGEziB,EAHFyiB,QACA1G,EAEE/b,EAFF+b,SACGsB,EAP+C,aAQhDrd,EARgD,yEAS5B6U,mBAAS,GATmB,mBAS7C6N,EAT6C,KASvCC,EATuC,OAUxBzP,GAAQmO,GAAOE,aAAnCvN,mBAV4C,MAU9B,EAV8B,EAW9CzF,EAAayF,EAAc0O,EAXmB,EAYL7Q,GAC7C,CACEtL,UACAsJ,iBACAtB,cAEF,CACE6G,KAAsB,IAAhBpB,IAPF3C,EAZ4C,EAY5CA,KAAMpF,EAZsC,EAYtCA,MAAOwV,EAZ+B,EAY/BA,UAAWpM,EAZoB,EAYpBA,WAU1B9C,GACA,OAAJlB,QAAI,IAAJA,OAAA,EAAAA,EAAMtC,MAAMrI,QAAO,SAACuM,GAAD,OAAYuP,EAAkB3P,SAASI,EAAM5M,SAAQ,GACpEoJ,GAAY,OAAJ4B,QAAI,IAAJA,OAAA,EAAAA,EAAM5B,QAAS,EAmB7B,OAbAiG,qBAAU,WACJzJ,GAASwW,GACXA,EAAQxW,KAET,CAACA,EAAOwW,IAEX/M,qBAAU,YACHL,GAAchE,GAAQ0K,GACzBA,EAAS,CAAExV,UAASwI,MAAOwD,EAAQ9C,YAGpC,CAAC4F,EAAY0G,EAAUxJ,IAGxB,cAAC,GAAD,aACEhM,QAASA,EACTgM,OAAQA,EACR9C,MAAOA,EACPgS,UAAWA,GAAapM,EACxBrB,YAAaA,EACbzF,WAAYA,EACZsT,WAzBmB,WACrBc,EAAQD,EAAO,KAyBTrF,KC3BKuF,OAhCf,SAA4B5iB,GAAiC,IACnDuG,EAAYvG,EAAZuG,QACFsH,EAAWoH,GAAeoE,IAC1B9G,EAAS0C,GAAezC,GAAoBjM,IAHQ,EAKxDsH,EAAS3I,2BADHC,EAJkD,EAIlDA,iBAAkBC,EAJgC,EAIhCA,qBAEpBod,EAAoB1f,mBACxB,wCACMqC,EACAoN,EAAO7L,QAAO,qBAAGqM,YAAyB/D,KAAI,qBAAG3I,MACjD,IAHN,aAIMjB,EACAmN,EACG7L,QAAO,qBAAGkM,kBACV5D,KAAI,qBAAG3I,MACV,OAEN,CAACkM,EAAQpN,EAAkBC,IAEvByK,EAAiBvF,GACrBuD,EAAS7I,uBACTkQ,cAEF,OACE,cAAC,GAAD,aACErF,eAAgBA,EAChB2S,kBAAmBA,GACfxiB,KCsBK6iB,OA5Cf,SAAgC7iB,GAAqC,IAC3DuG,EAAkCvG,EAAlCuG,QAASkc,EAAyBziB,EAAzByiB,QAAS/C,EAAgB1f,EAAhB0f,YADwC,EAE1C7K,mBAAS,GAFiC,mBAE3D6N,EAF2D,KAErDC,EAFqD,OAGtCzP,GAAQmO,GAAOE,aAAnCvN,mBAH0D,MAG5C,EAH4C,EAK5D7D,EADmB8E,GtCSW,SAAC1O,GAAD,OACpC0L,aAAeK,IAAc,SAACC,GAAD,OAC3BA,EACG7L,QACC,gBAAGkM,EAAH,EAAGA,eAAgBxD,EAAnB,EAAmBA,UAAnB,OACEwD,KAAoBrM,GAAWA,EAAQF,KAAO+I,MAEjD0T,MAAK,SAAC1R,EAAG2R,GAAJ,OAAUA,EAAE3S,YAAcgB,EAAEhB,kBsChBE4S,CAAuBzc,IAClCyI,KAAI,qBAAG3I,MAC9BoJ,EAAQU,EAAInI,OACZuG,EAAa/F,KAAKuZ,IAAItS,EAAOuE,EAAc0O,GAPiB,EAQnB/Q,GAC7C,CACExB,MACA5B,WAAY/F,KAAKya,IAAI1U,EAAYyF,IAEnC,CACEoB,KAAsB,IAAhBpB,IANF3C,EAR0D,EAQ1DA,KAAMpF,EARoD,EAQpDA,MAAOwV,EAR6C,EAQ7CA,UAAWpM,EARkC,EAQlCA,WAS1B9C,IAAc,OAAJlB,QAAI,IAAJA,OAAA,EAAAA,EAAMtC,QAAS,IAAIrI,QAAO,SAACuM,GAAD,OAAW9C,EAAI0C,SAASI,EAAM5M,OAYxE,OANAqP,qBAAU,WACJzJ,GAASwW,GACXA,EAAQxW,KAET,CAACA,EAAOwW,IAGT,cAAC,GAAD,CACEzD,KAAMpf,WAASqf,WACf1Y,QAASA,EACTgM,OAAQA,EACR9C,MAAOA,EACPgS,UAAWA,GAAapM,EACxBrB,YAAaA,EACbzF,WAAYA,EACZsT,WAnBmB,WACrBc,EAAQD,EAAO,IAmBbhD,YAAaA,KCrCnB,SAASwD,GAAgBljB,GAA8B,IAC7Cgf,EAAmDhf,EAAnDgf,KAAMjN,EAA6C/R,EAA7C+R,SAAU0Q,EAAmCziB,EAAnCyiB,QAAS1G,EAA0B/b,EAA1B+b,SAAU2D,EAAgB1f,EAAhB0f,YACrC0C,EAAkBtf,mBAAQ,WAC9B,OAAQkc,GACN,KAAKpf,WAASqf,WACZ,OAAO4D,GACT,KAAKjjB,WAASujB,OACZ,OAAOP,GACT,QACE,OAAOL,MAEV,CAACvD,IAEJ,OACE,cAAC7e,EAAA,EAAD,CACED,GAAI,CACFM,SAAU,EACVJ,QAAS,OACTC,cAAe,SACf8d,SAAU,OACVnE,GAAI,EACJ4G,GAAI,GAPR,SAUG7O,EAAS/C,KAAI,SAACzI,EAAkB0b,GAAnB,OACZ,cAACG,EAAD,CAEEpD,KAAMA,EACNzY,QAASA,EACTkc,QAASA,EACT1G,SAAUA,EACV2D,YAAaA,GALRuC,QAYf,SAAS3D,GACPC,EACAC,GAEA,OACED,EAAUS,OAASR,EAAUQ,MAC7B1H,KAAKC,UAAUgH,EAAUxM,SAAS/C,KAAI,qBAAG3I,SACvCiR,KAAKC,UAAUiH,EAAUzM,SAAS/C,KAAI,qBAAG3I,OAIhCxD,WAAM4b,KAAKyE,GAAiB5E,I,+BCzD5B,SAAS8E,GAAWpjB,GACjC,IAAMyY,EAAMxD,GAAesE,IACrB8J,EAAUC,cAEhB,OAAO7K,EAAI5B,OACT,eAAC1W,EAAA,EAAD,CACED,GAAI,CACFM,SAAU,EACVJ,QAAS,OACTC,cAAe,SACfmB,WAAY,SACZoC,eAAgB,UANpB,UASE,cAACM,EAAA,EAAD,CACEhE,GAAI,CAAE+f,UAAW,SAAUhe,SAAU,WAAYiY,GAAI,GACrD/V,QAAQ,QACRpD,MAAM,iBAHR,6EAOA,eAACwiB,GAAA,EAAD,CACErjB,GAAI,CAAEqd,cAAe,cACrBpZ,QAAQ,YACRpD,MAAM,YACNsa,QAAS,WACPgI,EAAQ7c,KAAK,cALjB,UAQE,cAAC,KAAD,CAAsBtG,GAAI,CAAE+B,SAAU,UAAWuhB,GAAI,MARvD,qBAYA,KClBN,SAASC,GAASzjB,GAAuB,IAC/B0jB,EAAuB1jB,EAAvB0jB,IAAKC,EAAkB3jB,EAAlB2jB,cADyB,EAEZ9O,mBAAS,MAFG,mBAE/B5I,EAF+B,KAExB2X,EAFwB,OAGA/O,mBAAuB,MAHvB,mBAG/BgP,EAH+B,KAGlBC,EAHkB,KAIhC/R,EAAWkD,GAAejD,IAC1B+R,EAAetO,iBAAsB,IA+B3C,OAAOxJ,EACL,cAAC,GAAD,CAAOA,MAAOA,EAAO6O,UAAQ,IAE7B,qCACG/I,EAAS/J,OAAS,EACjB,cAAC,GAAD,CACEgX,KAAM0E,EACN3R,SAAUA,EACV0Q,QA7BY,SAACuB,GACnBJ,EAASI,IA6BHjI,SA1Ba,SAAC1K,GACpB,GAAIsS,IACFI,EAAapO,QAAQnP,KAAK6K,GACtB0S,EAAapO,QAAQ3N,SAAW+J,EAAS/J,QAAQ,CACnD,IAAMic,EAAQF,EAAapO,QAAQjC,QACjC,SAACwQ,EAAKC,GAAN,YAAe,CACbC,UAAWF,EAAIE,YAAa,UAAAD,EAAIpV,aAAJ,eAAW/G,SAAU,GACjDyH,MAAOyU,EAAIzU,OAAS0U,EAAI1U,OAAS,MAEnC,CAAE2U,UAAW,EAAG3U,MAAO,IAEzBkU,EAAcD,EAAKO,GACnBF,EAAapO,QAAU,KAerB+J,YAvCgB,SAACzM,GACvB6Q,EAAe7Q,MAyCX,cAACmQ,GAAD,IAEF,cAAC,GAAD,CACEzI,OAAQkJ,EACR5Q,MAAO4Q,EACP7I,QA3CyB,WAC7B8I,EAAe,YAgDJjhB,WAAM4b,KAAKgF,I,6DCnE1B,SAASY,GAAmBrkB,GAAiC,IACnD2a,EAA+B3a,EAA/B2a,KAAMzL,EAAyBlP,EAAzBkP,MAAO7M,EAAkBrC,EAAlBqC,KAAM2Y,EAAYhb,EAAZgb,QAMrB6C,EAAc,WAClB7C,GAAQ,IAGV,OACE,eAACkD,GAAA,EAAD,CAAQvD,KAAMA,EAAMK,QAAS6C,EAA7B,UACE,eAACO,GAAA,EAAD,WACE,cAACkG,GAAA,EAAD,CAAapkB,GAAI,CAAE8Z,GAAI,EAAG4G,GAAI,GAA9B,SAAoC1R,IACpC,cAACqV,GAAA,EAAD,UAAoBliB,OAEtB,eAACmiB,GAAA,EAAD,CAAetkB,GAAI,CAAE8Z,GAAI,EAAG6E,GAAI,GAAhC,UACE,cAAC0E,GAAA,EAAD,CAAQxiB,MAAM,UAAUsa,QAASwC,EAAa4G,WAAS,EAAvD,oBAGA,cAAClB,GAAA,EAAD,CAAQxiB,MAAM,UAAUoD,QAAQ,YAAYkX,QAlB5B,WACpBL,GAAQ,IAiBJ,2BAQR,SAASsD,GACPC,EACAC,GAEA,OAAOD,EAAU5D,OAAS6D,EAAU7D,KAGvB9X,WAAM4b,KAAK4F,GAAoB/F,ICC/BoG,OA1Cf,SAA+B1kB,GAC7B,IAAM2kB,EAAc1P,GAAenC,IAC7BiF,EAAWmB,KAF+C,EAI9DrE,mBAAkC,CAChC8F,MAAM,EACNzL,MAAO,GACP7M,KAAM,GACN2Y,QAAS,eARmD,mBAGzD4J,EAHyD,KAGhCC,EAHgC,KA4BhE,OACE,qCACE,cAACC,GAAA,EAAD,CAAM3J,GAAIwJ,EAAc,EAAxB,SACE,cAACzF,GAAA,EAAD,CAAShQ,MAAM,2BAA2B6V,UAAU,OAAOC,OAAK,EAAhE,SACE,cAAC5J,GAAA,EAAD,CAAYrB,aAAW,gBAAgBsB,QArBpB,WACzBwJ,EAA2B,CACzBlK,MAAM,EACNzL,MAAO,2BACP7M,KAAM,oFACN2Y,QAAS,SAACiK,GACJA,GACFlN,EAAStB,MAEXoO,GAA2B,SAACjf,GAAD,mBAAC,eACvBA,GADsB,IAEzB+U,MAAM,WAUN,SACE,cAAC,KAAD,CAAcza,GAAI,CAAE+B,SAAU,kBAIpC,cAAC,GAAD,eAAwB2iB,Q,0CCmBfM,OAzDf,SAA2BllB,GACzB,IAAM+R,EAAWkD,GAAejD,IAC1BnE,EAAWoH,GAAeoE,IAC1BtB,EAAWmB,KAHuC,EAKtDrL,EAAS3I,2BADHC,EAJgD,EAIhDA,iBAAkBC,EAJ8B,EAI9BA,qBAyB1B,OACE,qCACE,cAAC0f,GAAA,EAAD,CAAM3J,GAAIpJ,EAAS/J,OAAS,EAA5B,SACE,cAACkX,GAAA,EAAD,CAAShQ,MAAM,uBAAuB6V,UAAU,OAAOC,OAAK,EAA5D,SACE,cAAC5J,GAAA,EAAD,CACElb,GAAIiF,EAAmB,CAAEf,QAAS,mBAAsB,GACxD2V,aAAW,gBACXsB,QA7BuB,WAC/BtD,EACEpS,GAAY,CACVT,2BAA2B,2BACtB2I,EAAS3I,4BADY,IAExBC,kBAAmBA,QAqBnB,SAKE,cAAC,KAAD,CAAmBjF,GAAI,CAAE+B,SAAU,kBAIzC,cAAC6iB,GAAA,EAAD,CAAM3J,GAAIpJ,EAAS/J,OAAS,EAA5B,SACE,cAACkX,GAAA,EAAD,CAAShQ,MAAM,4BAA4B6V,UAAU,OAAOC,OAAK,EAAjE,SACE,cAAC5J,GAAA,EAAD,CACElb,GAAIkF,EAAuB,CAAEhB,QAAS,mBAAsB,GAC5D2V,aAAW,qBACXsB,QA7B2B,WACnCtD,EACEpS,GAAY,CACVT,2BAA2B,2BACtB2I,EAAS3I,4BADY,IAExBE,sBAAuBA,QAqBvB,SAKE,cAAC,KAAD,CAAclF,GAAI,CAAE+B,SAAU,sBClD1C,SAASkjB,GAAWnlB,GAAyB,IACnC0jB,EAA2B1jB,EAA3B0jB,IAAK0B,EAAsBplB,EAAtBolB,kBAEb,OAAO1B,IAAQ9jB,WAASujB,OACtBiC,EAAoB,EAClB,cAAC,GAAD,IACE,KACF1B,IAAQ9jB,WAASqf,WACnB,cAAC,GAAD,IACE,KAGSpc,WAAM4b,KAAK0G,ICTnB,SAASE,GAAKrlB,GACnB,IAAM6N,EAAWoH,GAAeoE,IADK,EAEHxE,mBAAShH,EAASlJ,aAFf,mBAE9B2gB,EAF8B,KAEnBC,EAFmB,OAGa1Q,mBAChD,CACEuP,UAAW,EACX3U,MAAO,IAN0B,mBAG9B2V,EAH8B,KAGXI,EAHW,KAS/BC,EAAwBxQ,GAAexC,IAE7CiD,qBAAU,WACJ4P,IAAczX,EAASlJ,aACzB4gB,EAAa1X,EAASlJ,eAGvB,CAACkJ,EAASlJ,cAYb,OACE,eAAC5E,EAAD,WACE,eAACI,EAAA,EAAD,CACED,GAAI,CACFE,QAAS,OACToB,WAAY,SACZkkB,aAAc,EACdlhB,YAAa,UACbX,IAAK,EACLmW,GAAI,GAPR,UAUE,eAAC2L,EAAA,EAAD,CACEzlB,GAAI,CAAEM,SAAU,EAAGogB,GAAI,GACvB1J,MAAOoO,EACPvJ,SAzBgB,SAACO,EAAwBpF,GAC/CqO,EAAarO,IAyBP6C,aAAW,OAJb,UAME,cAAC,GAAD,CAAKqD,MAAM,MAAMlG,MAAOtX,WAASgF,MACjC,cAAC,GAAD,CACEwY,MAAM,SACNlG,MAAOtX,WAASujB,OAChB7gB,MAAO8iB,EAAkBhB,YAE3B,cAAC,GAAD,CACEhH,MAAM,cACNlG,MAAOtX,WAASqf,WAChB3c,MAAOmjB,OAGX,cAAC,GAAD,CACE/B,IAAK4B,EACLF,kBAAmBA,EAAkB3V,WAGzC,cAAC,GAAD,CAAUiU,IAAK4B,EAAW3B,cAzCJ,SAACD,EAAeO,GACpCP,IAAQ9jB,WAASujB,QACnBqC,EAAqBvB,S,gIC7B3B,SAAS2B,GAAe5lB,GAA6B,IAC3CuG,EAAYvG,EAAZuG,QAER,OACE,cAACue,GAAA,EAAD,CAAM3J,IAAI,EAAV,SACE,cAAChB,EAAA,EAAD,CACEja,GAAI,CAAEka,eAAgB,QACtBC,KAAM9T,EAAQ6F,IACdkO,OAAO,SACPC,IAAI,WAJN,SAME,cAACuE,GAAA,EAAD,CACE5e,GAAI,CACFkT,MAAO,GACP9S,OAAQ,IAEVka,IAAKjU,EAAQ2I,MACbuL,IAAKlU,EAAQ+I,UACbyK,aAAW,gBAOrB,SAASuE,GACPC,EACAC,GAEA,OACED,EAAUhY,QAAQ2I,QAAUsP,EAAUjY,QAAQ2I,OAC9CqP,EAAUhY,QAAQ+I,YAAckP,EAAUjY,QAAQ+I,WAClDiP,EAAUhY,QAAQ6F,MAAQoS,EAAUjY,QAAQ6F,IAIjCvJ,WAAM4b,KAAKmH,GAAgBtH,ICpC1C,SAASM,GAAa5e,GAA2B,IACvCuG,EAAYvG,EAAZuG,QAER,OACE,cAAC4T,EAAA,EAAD,CACEja,GAAI,CACFa,MAAO,eACPqZ,eAAgB,QAElBC,KAAM9T,EAAQ6F,IACdkO,OAAO,SACPC,IAAI,WAPN,SASGhU,EAAQ2I,QAKf,SAASoP,GACPC,EACAC,GAEA,OACED,EAAUhY,QAAQ2I,QAAUsP,EAAUjY,QAAQ2I,OAC9CqP,EAAUhY,QAAQ6F,MAAQoS,EAAUjY,QAAQ6F,IAIjCvJ,WAAM4b,KAAKG,GAAcN,ICrBzB,SAASuH,GAAgB7lB,GAA8B,IAC5DuG,EAAYvG,EAAZuG,QAD2D,EAErCsO,oBAAS,GAF4B,mBAE5DiR,EAF4D,KAEnDC,EAFmD,KAG7DC,EAAS/Q,GlDkBY,SAAC1O,GAAD,OAC3B0L,aAAeH,IAAgB,SAACC,GAAD,OAC7BA,EAASzL,MAAK,qBAAGD,KAAgBE,EAAQF,SkDpBb4f,CAAc1f,IACtCwR,EAAWmB,KAEjB,OACE,cAAC/Y,EAAA,EAAD,CAAKD,GAAI,CAAEE,QAAS,QAApB,SACE,cAAC8lB,GAAA,EAAD,CACEC,UAAW,EACXjmB,GAAI,CACFM,SAAU,EACV4D,QAAS,eAJb,SAOE,cAACgiB,GAAA,EAAD,CACElmB,GAAI,CACF0gB,GAAI,IACJhH,GAAI,EACJuG,GAAI,EACJ,yBAA0B,CACxBle,SAAU,WACViY,GAAI,KAEN,0BAA2B,CACzBmM,UAAW,SACX/iB,GAAI,IAGRgjB,OAAQ,cAAC,GAAD,CAAgB/f,QAASA,IACjCV,OACE,cAACqZ,GAAA,EAAD,CACEhQ,MAAO8W,EAAUF,EAAU,iBAAmB,GAAM,cACpDf,UAAU,OACVC,OAAK,EAHP,SAKE,cAAC5J,GAAA,EAAD,CACElb,GAAE,aACAqE,OAAQ,EACRwb,WAAY,SAACrf,GAAD,OACVA,EAAM6lB,YAAYha,OAAO,CACvB,QACA,mBACA,mBAEAyZ,EACA,CACE5hB,QAAS,iBACTrD,MAAO,eACPyD,YAAa,iBACb,SAAU,CACRJ,QAAS,iBACTrD,MAAO,eACPyD,YAAa,kBAEf,iBAAkB,CAChBJ,QAAS,kBACTrD,MAAO,eACP4e,QAAS,KAGb,CACEnb,YAAa,qBACb,SAAU,CACRJ,QAAS,cACTrD,MAAO,iBACPyD,YAAa,oBAIvBP,KAAK,QACL8V,aAAW,MACX4H,SAAUqE,IAAWF,EACrBzK,QAAS,WAEPtD,GADeiO,EAASvf,GAAgBL,IACxBG,IAChBwf,GAAW,IAEb5iB,eAAa,EA1Cf,SA4CE,cAAC,KAAD,QAIN+L,MAAO,cAAC,GAAD,CAAc3I,QAASA,IAC9BigB,UAAWjgB,EAAQ8I,kBCzFd,SAASoX,GAAezmB,GAA6B,IAC1D0mB,EAAW1mB,EAAX0mB,OADyD,EAE9BhV,GACjC,CAAEjM,KAAMihB,GACR,CAAEtR,KAAiB,KAAXsR,IAFFrV,EAFyD,EAEzDA,KAAMpF,EAFmD,EAEnDA,MAAOwV,EAF4C,EAE5CA,UAIfkF,GAAc,OAAJtV,QAAI,IAAJA,OAAA,EAAAA,EAAMtC,QAAS,GAE/B,OAAO9C,EACL,cAAC,GAAD,CAAOA,MAAOA,EAAO6O,UAAQ,IAC3B2G,EACF,cAACvE,GAAD,CAAa/Y,QAAQ,kBAErB,cAACyiB,GAAA,EAAD,CAAO1mB,GAAI,CAAE8Z,GAAI,EAAGmE,SAAU,QAAU0I,QAAS,cAACC,GAAA,EAAD,IAAjD,SACGH,EAAQ3X,KAAI,SAACzI,EAAkB0b,GAAnB,OACX,cAAC4D,GAAD,CAA6Btf,QAASA,GAAhB0b,Q,4CCsBf8E,GA7CI9lB,aAAO,SAACjB,GAAD,OACxB,cAACgnB,GAAA,EAAD,aACEb,UAAW,EACXc,aAAc,CACZC,SAAU,SACVC,WAAY,SAEdC,gBAAiB,CACfF,SAAU,MACVC,WAAY,UAEVnnB,MAXWiB,EAahB,gBAAGP,EAAH,EAAGA,MAAH,MAAgB,CACjB,mBAAoB,CAClBS,aAAc,EACdkmB,UAAW3mB,EAAMW,QAAQ,GACzBW,SAAU,IACVjB,MACyB,UAAvBL,EAAME,QAAQyD,KACV,kBACA3D,EAAME,QAAQoc,KAAK,KACzBsK,UACE,uJACF,kBAAmB,CACjBhjB,QAAS,SAEX,sBAAuB,CACrB,qBAAsB,CACpBrC,SAAU,GACVslB,YAAa7mB,EAAMW,QAAQ,KAC3B,wBAAyB,CACvBN,MAAOL,EAAME,QAAQyB,KAAKmlB,YAG9B,WAAY,CACV7mB,gBAAiB8mB,aACf/mB,EAAME,QAAQiF,OAAOpD,SACrB/B,EAAME,QAAQiF,OAAO6hB,wB,8HCtBhB,SAASC,GAAoB3nB,GAAkC,IACpE2a,EAA2B3a,EAA3B2a,KAAMpU,EAAqBvG,EAArBuG,QAASyU,EAAYhb,EAAZgb,QAMjB6C,EAAc,WAClB7C,GAAQ,IAGV,OACE,eAACkD,GAAA,EAAD,CAAQvD,KAAMA,EAAMK,QAAS6C,EAA7B,UACE,cAACO,GAAA,EAAD,UACE,eAACje,EAAA,EAAD,CAAKD,GAAI,CAAEE,QAAS,QAApB,UACE,cAAC,GAAD,CAAgBmG,QAASA,IACzB,eAACpG,EAAA,EAAD,CACED,GAAI,CACFM,SAAU,EACVJ,QAAS,OACTC,cAAe,SACf2Z,GAAI,GALR,UAQE,eAACsK,GAAA,EAAD,CAAapkB,GAAI,CAAE8Z,GAAI,EAAG4G,GAAI,GAA9B,oBACUra,EAAQ2I,MADlB,kBAGA,cAACqV,GAAA,EAAD,yEAMN,eAACC,GAAA,EAAD,CAAetkB,GAAI,CAAE8Z,GAAI,EAAG6E,GAAI,GAAhC,UACE,cAAC0E,GAAA,EAAD,CAAQxiB,MAAM,UAAUsa,QAASwC,EAAa4G,WAAS,EAAvD,oBAGA,cAAClB,GAAA,EAAD,CAAQxiB,MAAM,UAAUoD,QAAQ,YAAYkX,QAlC5B,WACpBL,GAAQ,IAiCJ,2BC5CR,SAAS4M,GAAe5nB,GAA6B,IAC3CuG,EAAmCvG,EAAnCuG,QAASshB,EAA0B7nB,EAA1B6nB,aAAc7M,EAAYhb,EAAZgb,QACzBjD,EAAWmB,KAEjB,OACE,cAACyO,GAAD,CACEhN,KAAuB,mBAAjBkN,EACNthB,QAASA,EACTyU,QAAS,SAACiK,GACJA,GACFlN,EAAStR,GAAcF,IAEzByU,OAMR,SAASsD,GACPC,EACAC,GAEA,OACED,EAAUsJ,eAAiBrJ,EAAUqJ,cACrCtJ,EAAUhY,QAAQF,KAAOmY,EAAUjY,QAAQF,GAIhCxD,WAAM4b,KAAKmJ,GAAgBtJ,ICnB1C,SAASwJ,GAAe9nB,GAA6B,IAAD,EAC1CuG,EAAYvG,EAAZuG,QAD0C,EAElBsO,mBAA6B,MAFX,mBAE3CkT,EAF2C,KAEjCC,EAFiC,OAGVnT,mBAAwB,MAHd,mBAG3CgT,EAH2C,KAG7BI,EAH6B,KAI5ClQ,EAAWmB,KACXgP,EAAaC,QAAQJ,GAMrBK,EAAkB,WACtBJ,EAAY,OAYd,OACE,qCACE,cAAC5M,GAAA,EAAD,CAAYrB,aAAW,WAAWsB,QAnBd,SAACiB,GACvB0L,EAAY1L,EAAM+L,gBAkBhB,SACE,cAAC,KAAD,MAEF,eAAC,GAAD,CACEN,SAAUA,EACVpN,KAAMuN,EACNlN,QAASoN,EAHX,UAKE,cAACE,GAAA,EAAD,CACEjN,QAAS,WACPtD,EAAS9Q,GAA2BV,IACpC6hB,KAEFjlB,eAAa,EALf,UAOG,UAAAoD,EAAQW,qBAAR,eAAuBC,YACtB,qCACE,cAAC,KAAD,IADF,0BAKA,qCACE,cAAC,KAAD,IADF,6BAMJ,cAAC2f,GAAA,EAAD,CAAS5mB,GAAI,CAAEwc,GAAI,MACnB,cAAC4L,GAAA,EAAD,CACEjN,QAAS,WACPtD,EAASjR,GAAcP,IACvB6hB,KAEFjlB,eAAa,EALf,SAOGoD,EAAQS,SACP,qCACE,cAAC,KAAD,IADF,YAKA,qCACE,cAAC,KAAD,IADF,YAMJ,eAACshB,GAAA,EAAD,CACEpoB,GAAI,CAAEa,MAAO,gBACbsa,QA5DkB,WACxB4M,EAAgB,kBAChBG,KA2DMjlB,eAAa,EAHf,UAKE,cAAC,KAAD,CAA2B6c,UAAU,kBALvC,eASF,cAAC,GAAD,CACEzZ,QAASA,EACTshB,aAAcA,EACd7M,QAjEqB,WACzBiN,EAAgB,YAsEpB,SAAS3J,GACPC,EACAC,GAEA,OACElH,KAAKC,UAAUgH,EAAUhY,WAAa+Q,KAAKC,UAAUiH,EAAUjY,SAIpD1D,WAAM4b,KAAKqJ,GAAgBxJ,I,qBCnH3B,SAASiK,GAAWvoB,GACjC,OACE,cAACob,GAAA,EAAD,yBACElb,GAAI,CAAE4D,OAAQ,OAAQ0f,GAAI,KAC1BzJ,aAAW,eACP/Z,GAHN,aAKE,cAAC,KAAD,OCIN,IAkEewoB,GAlEK3lB,IAAME,YACxB,SAAC/C,EAAyBiD,GAA0C,IAC1DsD,EAA2DvG,EAA3DuG,QAASkiB,EAAkDzoB,EAAlDyoB,UAAWC,EAAuC1oB,EAAvC0oB,eAAgBC,EAAuB3oB,EAAvB2oB,UAActL,EADO,aACErd,EADF,sDAG3D4oB,EAAa/lB,IAAMC,SACvB,kBACE,cAACojB,GAAA,EAAD,CAAMC,UAAW,EAAGjmB,GAAI,CAAEM,SAAU,EAAG4D,QAAS,eAAhD,SACE,cAACgiB,GAAA,EAAD,CACElmB,GAAE,aACA0gB,GAAI,IACJhH,GAAI,EACJuG,GAAI,EACJ,yBAA0B,CACxBle,SAAU,WACViY,GAAI,KAEN,0BAA2B,CACzB5W,GAAI,IAEFiD,EAAQS,SACR,CACE,0BAA2B,CACzB2Y,QAAS,IAEX,2BAA4B,CAC1BvF,eAAgB,eAChBuF,QAAS,KAGb,IAEN2G,OAAQ,cAAC,GAAD,CAAgB/f,QAASA,IACjCV,OAAQ,cAAC,GAAD,CAAgBU,QAASA,IACjC2I,MAAO,cAAC,GAAD,CAAc3I,QAASA,IAC9BigB,UAAWjgB,EAAQ8I,kBAIzB,CAAC9I,IAGH,OACE,6CAAKtD,IAAKA,GAASoa,GAAnB,aACE,cAACwL,GAAA,EAAD,CAAO1C,UAAWsC,EAAY,EAAI,EAAlC,SACE,eAACtoB,EAAA,EAAD,CACED,GAAI,CACFE,QAAS,OACToB,WAAY,SACZ4C,QAAS,sBAJb,UAOGqkB,EACC,cAACF,GAAD,IAEA,cAACrN,GAAA,EAAD,CAAUC,GAAIuN,EAAgBI,YAAY,aAA1C,SACE,cAACP,GAAD,eAAgBI,MAGnBC,a,SCtEE,SAASG,GAAc/oB,GAA0B,IACtDuG,EAAqBvG,EAArBuG,QAAY8W,EADyC,aAChCrd,EADgC,eAUzDgpB,aAAY,CACd3iB,GAAIE,EAAQF,GACZgL,KAAM,CAAE9K,aATR0iB,EAH2D,EAG3DA,WACAN,EAJ2D,EAI3DA,UACAO,EAL2D,EAK3DA,WACAtnB,EAN2D,EAM3DA,UACAme,EAP2D,EAO3DA,WACAoJ,EAR2D,EAQ3DA,WAOIC,EAAQ,CACZrJ,WAhB2D,EAS3DsJ,UAOwBtJ,EAAa,OACrCJ,QAASwJ,EAAa,GAAM,EAC5BvnB,UAAW0nB,KAAIC,UAAUxc,SAASnL,IAGpC,OACE,cAAC,GAAD,yBACEqB,IAAKimB,EACL3iB,QAASA,EACT6iB,MAAOA,EACPT,UAAWA,GACPM,GACA5L,I,uBCLV,SAASmM,GAAYxpB,GAA0B,IACrC+R,EAA8B/R,EAA9B+R,SAAU0X,EAAoBzpB,EAApBypB,gBAD0B,EAEA5U,mBAAyB,MAFzB,mBAErC6U,EAFqC,KAErBC,EAFqB,KAGtC5R,EAAWmB,KAiBjB,OACE,mCACE,eAAC,KAAD,CACE0Q,mBAAoBC,KACpBC,UAAW,CAACC,KAAwBC,MACpCC,YApBkB,SAAC3N,GAA2B,IAAD,EACzC9P,EAAW8P,EAAX9P,OACRmd,EAAiB,UAACnd,EAAO6E,KAAKsE,eAAb,aAAC,EAAqBpP,UAmBnC2jB,UAhBgB,SAAC5N,GAAyB,IACtC9P,EAAiB8P,EAAjB9P,OAAQ2d,EAAS7N,EAAT6N,KAChB,GAAI3d,EAAOnG,MAAP,OAAc8jB,QAAd,IAAcA,OAAd,EAAcA,EAAM9jB,IAAI,CAC1B,IAAMO,EAAOmL,EAASqY,WAAU,SAACC,GAAD,OAAgBA,EAAEhkB,KAAOmG,EAAOnG,MAC1D7D,EAAKuP,EAASqY,WAAU,SAACC,GAAD,OAAgBA,EAAEhkB,MAAF,OAAS8jB,QAAT,IAASA,OAAT,EAASA,EAAM9jB,OAC7D0R,EAASpR,GAAY,CAAEC,OAAMpE,QAE/BmnB,EAAkB,OAKhB,UAME,cAAC,KAAD,CACE5a,MAAOgD,EACPuY,SAAUC,KAFZ,SAIE,cAAC3D,GAAA,EAAD,CAAO1mB,GAAI,CAAE8Z,GAAI,EAAGmE,SAAU,QAAU0I,QAAS,cAACC,GAAA,EAAD,IAAjD,SACG/U,EAAS/C,KAAI,SAACzI,EAAkB0b,GAAnB,OACZ,cAAC,GAAD,CAEE1b,QAASA,EACTmiB,eAAgBe,GAFXxH,UAOb,cAAC,KAAD,UACGyH,EACC,cAAC,GAAD,CAAanjB,QAASmjB,EAAgBjB,WAAS,IAC7C,YAOd,SAASnK,GACPC,EACAC,GAEA,OACED,EAAUkL,kBAAoBjL,EAAUiL,iBACxCnS,KAAKC,UAAUgH,EAAUxM,YAAcuF,KAAKC,UAAUiH,EAAUzM,UAIrDlP,WAAM4b,KAAK+K,GAAalL,I,qBCjFxB,SAAS8E,GAAWpjB,GACjC,IAAMwqB,EAAe/U,iBAAgC,MAC/CsC,EAAWmB,KAiBjB,OACE,eAAC/Y,EAAA,EAAD,CACED,GAAI,CACFM,SAAU,EACVJ,QAAS,OACTC,cAAe,SACfmB,WAAY,SACZoC,eAAgB,UANpB,UASE,cAACM,EAAA,EAAD,CAAYC,QAAQ,KAAKsc,cAAY,EAArC,gCAGA,eAACvc,EAAA,EAAD,CACEhE,GAAI,CAAE+f,UAAW,SAAUhe,SAAU,YACrCkC,QAAQ,QACRpD,MAAM,iBACN0f,cAAY,EAJd,mEAOE,uBAPF,QAUA,eAAC8C,GAAA,EAAD,CACErjB,GAAI,CAAEqd,cAAe,cACrBpZ,QAAQ,YACRpD,MAAM,YACNsa,QAAS,WAAO,IAAD,EACb,UAAAmP,EAAa7U,eAAb,SAAsB8U,SAL1B,4BASE,cAAC,KAAD,CAAYvqB,GAAI,CAAE+B,SAAU,UAAWqB,GAAI,SAE7C,uBACEqL,KAAK,OACL1L,IAAKunB,EACLpB,MAAO,CACLhpB,QAAS,OACTsqB,WAAY,SACZvM,SAAU,SACV/K,MAAO,EACP9S,OAAQ,GAEVqqB,OAAO,QACPtP,QAAS,SAACiB,GACRA,EAAM+L,cAAcnR,MAAQ,IAE9B6E,SA/DiB,SAACO,GAA0C,IAAD,EACzDsO,EAAI,UAAGtO,EAAMhC,OAAOuQ,aAAhB,aAAG,EAAqB,GAClC,GAAKD,EAGL,KCCG,SAAkBA,GACvB,OAAO,IAAIE,SAAQ,SAAUC,EAASC,GACpC,IAAMC,EAAa,IAAIC,WACvBD,EAAWE,WAAWP,EAAM,SAC5BK,EAAWG,OAAS,WAClBL,EAAQE,EAAW3Z,SAErB2Z,EAAWI,QAAU,SAAUpf,GAC7B+e,EAAO/e,QDRPqf,CAASV,GAAMW,MAAK,SAACC,GACnB,IAAMzZ,EAAWuF,KAAKD,MAAMmU,GAC5BzT,EAAS5R,GAAY,CAAED,KAAM6L,QAE/B,MAAO0Z,GACPhX,QAAQxI,MAAMwf,UETb,SAASC,GAAS1rB,GAAuB,IAAD,EACjB6U,mBAAS,IADQ,mBACtC6R,EADsC,KAC9BiF,EAD8B,OAEC9W,oBAAS,GAFV,mBAEtC4U,EAFsC,KAErBmC,EAFqB,KAGvC7Z,EAAWkD,GAAenD,IAC1B+Z,EAAiB1D,QAAQzB,GAEzBoF,EAAW,WACfH,EAAU,KAaZ,OACE,eAAC5rB,EAAD,WACE,eAACI,EAAA,EAAD,CACED,GAAI,CACFE,QAAS,OACToB,WAAY,SACZkkB,aAAc,EACdlhB,YAAa,UACbX,IAAK,EACL8V,GAAI,IACJwG,GAAI,EACJvG,GAAI,GATR,UAYE,eAACzZ,EAAA,EAAD,CAAKD,GAAI,CAAEM,SAAU,EAAGJ,QAAS,QAAjC,UACE,cAAC8a,GAAA,EAAD,CAAUC,GAAI0Q,EAAgB/C,YAAY,aAA1C,SACE,cAAC5J,GAAA,EAAD,CAAShQ,MAAM,2BAA2B6V,UAAU,SAASC,OAAK,EAAlE,SACE,cAAC5J,GAAA,EAAD,CACElb,GAAI,CAAEsjB,GAAI,EAAGpf,QAAS,oBACtB2V,aAAW,YACXsB,QAASyQ,EAHX,SAKE,cAAC,KAAD,UAIN,cAACnQ,GAAD,CACEvI,MAAO,IACPwI,YAAY,6BACZE,aAAc,IACdC,SAAU,SAAC7E,GACTyU,EAAUzU,IAEZ8E,QAAS8P,EACTjQ,WAAS,OAGb,cAACiJ,GAAA,EAAD,CAAM3J,IAAK0Q,GAAkB9Z,EAAS/J,OAAS,EAA/C,SACE,cAACkX,GAAA,EAAD,CAAShQ,MAAM,sBAAsB6V,UAAU,OAAOC,OAAK,EAA3D,SACE,cAAC5J,GAAA,EAAD,CACElb,GAAIupB,EAAkB,CAAErlB,QAAS,mBAAsB,GACvD2V,aAAW,sBACXsB,QApDc,WACxBuQ,GAAoBnC,IAgDZ,SAKE,cAAC,KAAD,UAIN,cAAC3E,GAAA,EAAD,CAAM3J,IAAK0Q,GAAkB9Z,EAAS/J,OAAS,EAA/C,SACE,cAACkX,GAAA,EAAD,CAAShQ,MAAM,SAAS6V,UAAU,OAAOC,OAAK,EAA9C,SACE,cAAC5J,GAAA,EAAD,CAAYrB,aAAW,SAASsB,QAxDnB,WACrB,IAAMhK,EAAOiG,KAAKC,UAAUxF,EAAU,KAAM,ID9BzC,SAAsBga,EAAYC,GACvC,GAAKC,OAAO/e,UAAkBgf,iBAE3BD,OAAO/e,UAAkBgf,iBAAiBH,EAAMC,OAC5C,CAEL,IAAM5a,EAAI+a,SAASC,cAAc,KAC/BhgB,EAAMigB,IAAIC,gBAAgBP,GAC5B3a,EAAEiJ,KAAOjO,EACTgF,EAAEmb,SAAWP,EACbG,SAASK,KAAKC,YAAYrb,GAC1BA,EAAEqZ,QACF5e,YAAW,WACTsgB,SAASK,KAAKE,YAAYtb,GAC1B6a,OAAOI,IAAIM,gBAAgBvgB,KAC1B,ICiBHwgB,CADa,IAAIC,KAAK,CAACxb,GAAO,CAAE1C,KAAM,cACnB,kBAqDX,SACE,cAAC,KAAD,aAKP+X,EACC,cAACD,GAAD,CAAgBC,OAAQA,IACtB3U,EAAS/J,OAAS,EACpB,cAAC,GAAD,CAAa+J,SAAUA,EAAU0X,gBAAiBA,IAElD,cAAC,GAAD,OC7FR,IAsBenO,GAtBDra,YAAOsa,KAAPta,EAAkB,gBAAGP,EAAH,EAAGA,MAAH,MAAgB,CAC9C,wBAAyB,CACvBS,aAAc,EACdQ,SAAU,WACVhB,gBAAiBD,EAAME,QAAQksB,WAAWC,QAC1CxoB,OAAO,aAAD,OACmB,UAAvB7D,EAAME,QAAQyD,KACV,sBACA,6BAENpC,SAAU,SACVmR,MAAO,OACPpR,SAAU,IACVsC,QAAS5D,EAAMW,QAAQ,EAAG,KAC1B0e,WAAYrf,EAAM6lB,YAAYha,OAAO,CAAC,eAAgB,eACtD,UAAW,CACT+a,UAAU,GAAD,OAAKG,aAAM/mB,EAAME,QAAQ4mB,UAAU1mB,KAAM,KAAzC,iBACT0D,YAAa9D,EAAME,QAAQ4mB,UAAU1mB,W,UCiB5BksB,GAlCA/rB,YAAOgsB,KAAPhsB,EAAkB,gBAAGP,EAAH,EAAGA,MAAH,MAAgB,CAC/C0S,MAAO,GACP9S,OAAQ,GACRgE,QAAS,EACTlE,QAAS,OACT,0BAA2B,CACzBkE,QAAS,EACTvD,MAAOL,EAAME,QAAQoc,KAAK,KAC1B,gBAAiB,CACfpb,UAAW,mBACXb,MAAOL,EAAME,QAAQkB,OAAOC,MAC5B,uBAAwB,CACtB4d,QAAS,EACThf,gBAAiBD,EAAME,QAAQ4mB,UAAU1mB,KACzC0D,YAAa9D,EAAME,QAAQ4mB,UAAU1mB,QAI3C,qBAAsB,CACpBsS,MAAO,GACP9S,OAAQ,GACRgnB,UAAW,QAEb,qBAAsB,CACpB/iB,OAAO,aAAD,OAAe7D,EAAME,QAAQoc,KAAK,MACxC7b,aAAc,GACdwe,QAAS,EACThf,gBACyB,UAAvBD,EAAME,QAAQyD,KACV3D,EAAME,QAAQkB,OAAOC,MACrB,mB,UCrBKmrB,GATAjsB,YAAOksB,KAAPlsB,EAAkB,kBAAgB,CAC/CgB,SAAU,SACV,gBAAiB,CACf,qCAAsC,CACpCuC,YAJ2B,EAAG9D,MAIXE,QAAQ4mB,UAAU4F,YCJrCC,GAAwB,SAAC3sB,GAAD,MAAmB,CAC/CC,gBAAiBD,EAAME,QAAQ4mB,UAAU1mB,KACzCC,MAAOL,EAAME,QAAQkB,OAAOC,QAYfumB,GATErnB,YAAOqsB,KAAPrsB,EAAoB,gBAAGP,EAAH,EAAGA,MAAH,MAAgB,CACnDuB,SAAU,SACV,iBAAiB,2BACZorB,GAAsB3sB,IAD3B,IAEE,qBAAsB2sB,GAAsB3sB,KAE9C,uBAAwB2sB,GAAsB3sB,OCWjC,SAAS6sB,GAAMvtB,GAAoB,IAE9Cod,EAOEpd,EAPFod,MACA/N,EAMErP,EANFqP,YACAuM,EAKE5b,EALF4b,YAJ6C,EAS3C5b,EAJFwtB,eAL6C,MAKnC,GALmC,EAM7CtW,EAGElX,EAHFkX,MACAvI,EAEE3O,EAFF2O,KACAoN,EACE/b,EADF+b,SAGI0R,EAAe,SACnBnR,GAIA,GAAIP,EAAU,CACZ,IAAM7E,EACJvI,IAAS7O,cAAYqoB,QAChB7L,EAAMhC,OAA4BoT,QACnCpR,EAAMhC,OAAOpD,MACnB6E,EAAS7E,KAIb,OACE,eAAC/W,EAAA,EAAD,CACED,GAAI,CACFE,QAAS,OACToB,WAAY,SACZoC,eAAgB,gBAChBwP,MAAO,OACPuG,GAAI,KANR,UASE,eAACxZ,EAAA,EAAD,CACED,GAAI,CACFE,QAAS,OACTC,cAAe,SACfuD,eAAgB,UAJpB,UAOE,cAACM,EAAA,EAAD,CAAYC,QAAQ,YAApB,SAAiCiZ,IAChC/N,EACC,cAACnL,EAAA,EAAD,CAAYC,QAAQ,QAAQpD,MAAM,gBAAlC,SACGsO,IAED,QAELV,IAAS7O,cAAY6tB,OACpB,cAAC,GAAD,CACEzW,MAAOA,EACP0E,YAAaA,EACbG,SAAU0R,IAEV,KACH9e,IAAS7O,cAAYqoB,QACpB,cAAC,GAAD,CACEuF,QAASxW,EACT6E,SAAU0R,EACVpR,WAAY,CAAE,aAAc,cAE5B,KACH1N,IAAS7O,cAAYga,KACpB,cAAC,GAAD,CAAQ5C,MAAOA,EAAiBjT,KAAK,QAAQ8X,SAAU0R,EAAvD,SACGD,EAAQxe,KAAI,SAAC4e,EAAoB3L,GAArB,OACX,cAAC,GAAD,CAAsB/K,MAAO0W,EAAO1W,MAApC,SACG0W,EAAOxQ,OADK6E,QAKjB,Q,ICxFyB4L,GAAoBtqB,0CAMxC,SAASuqB,GAAO9tB,GAAqB,IAC1C6N,EAAa7N,EAAb6N,SACF4K,EAAMxD,GAAesE,IACrBxB,EAAWmB,KAOjB,OACE,qCACE,eAAC,GAAD,CACEyB,KAAMlC,EAAI5B,SAAWhJ,EAAShJ,OAC9BgW,SAAS,UACTC,UAAQ,EACRC,UAAQ,EAJV,iEAMuD,IACrD,cAACZ,EAAA,EAAD,CACEE,KAAK,IACLtZ,MAAM,YACNwZ,IAAI,WACJc,QAlBsB,SAACiB,GAC7BA,EAAM0B,iBACNjG,EAASpS,GAAY,CAAEd,OAAQgpB,OAY3B,qCASF,cAAC,GAAD,CACElT,KAAMlC,EAAI5B,QAAUhJ,EAAShJ,SAAWgpB,GACxChT,SAAS,UACTC,UAAQ,EACRC,UAAQ,EAJV,qKC5BC,SAASgT,GAAS/tB,GAAuB,IAAD,EACH6U,mBAAS,MADN,mBACtCmZ,EADsC,KACvBC,EADuB,KAEvCpgB,EAAWoH,GAAeoE,IAC1BtB,EAAWmB,KAajB,OAXAxD,qBAAU,WACJ3J,IxE8CD,SAAqByI,GAAkC,IAAD,uBAAbhG,EAAa,iCAAbA,EAAa,kBAC3D,OAAOxC,QAAQW,QAAQuhB,YAAY,CACjC1Z,UACAhG,WwEhDE0f,CAAY,oBAAoB3C,MAAK,SAAC/gB,GACpC,GAAIA,EAAM,CACR,IAAMlD,EAAO,IAAIsC,KAAKY,GAAMS,UAC5BgjB,EAAiBtlB,GAAQgI,QAAQrJ,UAItC,IAGD,eAACvH,EAAD,WACE,cAAC+tB,GAAD,CAAQjgB,SAAUA,IAClB,eAAC+Y,GAAA,EAAD,CAAO1mB,GAAI,CAAE8Z,GAAI,EAAGmE,SAAU,QAAU0I,QAAS,cAACC,GAAA,EAAD,IAAjD,UACE,cAACyG,GAAD,CACEnQ,MAAM,eACNlG,MAAOrJ,EAASlJ,YAChBoX,SAAU,SAACpX,GACToT,EAASpS,GAAY,CAAEhB,kBAEzB6oB,QAAS,CACP,CACEpQ,MAAO,MACPlG,MAAOtX,WAASgF,KAElB,CACEwY,MAAO,SACPlG,MAAOtX,WAASujB,QAElB,CACE/F,MAAO,cACPlG,MAAOtX,WAASqf,aAGpBtQ,KAAM7O,cAAYga,OAEpB,cAACyT,GAAD,CACEnQ,MAAM,0BACNlG,MAAOrJ,EAAS7I,sBAChB+W,SAAU,SAAC/W,GACT+S,EAASpS,GAAY,CAAEX,4BAEzBwoB,QAAS,CACP,CACEpQ,MAAO,QACPlG,MAAOrX,kBAAgBoF,QAEzB,CACEmY,MAAO,SACPlG,MAAOrX,kBAAgBsuB,WAEzB,CACE/Q,MAAO,SACPlG,MAAOrX,kBAAgBuuB,YAG3Bzf,KAAM7O,cAAYga,OAEpB,cAACyT,GAAD,CACEnQ,MAAM,YACNlG,MAAOrJ,EAAS/I,SAChBiX,SAAU,SAACjX,GACTiT,EAASpS,GAAY,CAAEb,eAEzB6J,KAAM7O,cAAYqoB,UAEpB,cAACoF,GAAD,CACEnQ,MAAM,mBACNlG,MAAOrJ,EAAS9I,eAChBgX,SAAU,SAAChX,GACTgT,EAASpS,GAAY,CAAEZ,qBAEzB4J,KAAM7O,cAAYqoB,UAEnBpc,GACC,cAACwhB,GAAD,CACEnQ,MAAM,uBACN/N,YAAW,+DACT2e,EAAa,wBAAoBA,EAApB,KAAuC,IAEtD9W,MAAOrJ,EAASxI,oBAChB0W,SAAU,SAAC1W,GACT0S,EAASpS,GAAY,CAAEN,0BAEzBsJ,KAAM7O,cAAYqoB,UAElB,KACJ,cAACoF,GAAD,CACEnQ,MAAM,kBACNxB,YAAY,0CACZvM,YACE,8DAC6B,IAC3B,cAAC8K,EAAA,EAAD,CACEE,KAAK,2DACLC,OAAO,SACPvZ,MAAM,YACNwZ,IAAI,WAJN,8BAUJrD,MAAOrJ,EAAShJ,OAChBkX,SAAU,SAAClX,GACTkT,EAASpS,GAAY,CAAEd,aAEzB8J,KAAM7O,cAAY6tB,e,iECrHb,SAASU,GAAOruB,GAAqB,IAC1CsuB,EAA0BtuB,EAA1BsuB,OAAQC,EAAkBvuB,EAAlBuuB,cAEhB,OACE,eAACrqB,EAAA,EAAD,CACEhE,GAAI,CACFE,QAAS,OACToB,WAAY,SACZoC,eAAgB,SAChBC,IAAK,IAEP9C,MAAM,iBAPR,uBASY,cAAC,KAAD,CAAqBb,GAAI,CAAEa,MAAO,UAAWkB,SAAU,MAAS,IAT5E,MAUMqsB,EACHC,EACC,cAACpU,EAAA,EAAD,CAAME,KAAMkU,EAAejU,OAAO,SAASC,IAAI,WAA/C,SACE,cAACa,GAAA,EAAD,CAAYlb,GAAI,CAAEme,EAAG,GAAKpa,KAAK,QAAQ8V,aAAW,cAAlD,SACE,cAAC,KAAD,CAAY9X,SAAS,gBAGvB,QCtBK,SAASusB,GAAWxuB,GAAyB,IAClDC,EAA+CD,EAA/CC,SAAUwuB,EAAqCzuB,EAArCyuB,QAASpU,EAA4Bra,EAA5Bqa,KAD8B,EACFra,EAAtBsa,cADwB,MACf,SADe,EAGzD,OACE,cAAC4E,GAAA,EAAD,CAAShQ,MAAOuf,EAAS1J,UAAU,SAASC,OAAK,EAAjD,SACE,cAAC7K,EAAA,EAAD,CAAME,KAAMA,EAAMC,OAAQA,EAAQvZ,MAAM,UAAUwZ,IAAI,WAAtD,SACGta,M,8CCIF,SAASyuB,GAAM1uB,GACpB,OACE,cAACD,EAAD,UACE,cAACI,EAAA,EAAD,CACED,GAAI,CACFkE,QAAS,SAAC1D,GAAD,MACgB,UAAvBA,EAAME,QAAQyD,KAAmB,UAAY,eAC/C7D,SAAU,EACVJ,QAAS,OACToB,WAAY,SACZoC,eAAgB,UAPpB,SAUE,eAACsiB,GAAA,EAAD,CAAM/hB,QAAQ,WAAd,UACE,eAACwqB,GAAA,EAAD,CACEzuB,GAAI,CACF0gB,GAAI,EACJ/B,GAAI,GACJ7E,GAAI,GACJ5Z,QAAS,OACTC,cAAe,SACfmB,WAAY,SACZoC,eAAgB,UARpB,UAWE,cAACI,GAAD,CAAMC,KAAM,GAAI/D,GAAI,CAAEga,GAAI,KAC1B,cAAChW,EAAA,EAAD,CACEhE,GAAI,CAAE+B,SAAU,UAAWiY,GAAI,GAC/B/V,QAAQ,KACRpD,MAAM,eAHR,4BAOA,cAACstB,GAAD,CAAQC,OAAO,SACf,eAACnuB,EAAA,EAAD,CACED,GAAI,CACFE,QAAS,OACTyD,IAAK,IACL9C,MAAO,SAACL,GAAD,MACkB,UAAvBA,EAAME,QAAQyD,KAAmB,WAAa,YAChD+b,GAAI,GANR,UASE,cAACoO,GAAD,CACEC,QAAQ,QACRpU,KAAK,oCAFP,SAIE,cAAC,KAAD,MAEF,cAACmU,GAAD,CACEC,QAAQ,UACRpU,KAAK,gCAFP,SAIE,cAAC,KAAD,MAEF,cAACmU,GAAD,CACEC,QAAQ,SACRpU,KAAK,6CAFP,SAIE,cAAC,KAAD,YAIN,cAACuU,GAAA,EAAD,CAAa1uB,GAAI,CAAE+Z,UAAW,EAAGzV,YAAa,UAAWwV,GAAI,KAA7D,SACE,cAACG,EAAA,EAAD,CACEja,GAAI,CAAEka,eAAgB,QACtBC,KAAK,iEACLC,OAAO,SACPC,IAAI,WAJN,SAME,cAACgJ,GAAA,EAAD,CACErjB,GAAI,CACF+B,SAAU,WACVqb,WAAY,IACZC,cAAe,cAEjBtZ,KAAK,QACLlD,MAAM,YAPR,8BAaJ,cAAC6tB,GAAA,EAAD,CAAa1uB,GAAI,CAAE+Z,UAAW,EAAGzV,YAAa,UAAWwV,GAAI,KAA7D,SACE,cAACuJ,GAAA,EAAD,CACErjB,GAAI,CACF+B,SAAU,WACVqb,WAAY,IACZC,cAAe,cAEjBtZ,KAAK,QACLlD,MAAM,YAPR,qCCzEL,SAAS8tB,GAAW7uB,GACzB,IAAM8uB,EAAYrZ,iBAAuB,IACnCsZ,EAAgBtZ,iBAAoB,MACpC1D,EAAWkD,GAAe9C,IAC1BtE,EAAWoH,GAAeoE,IAC1BZ,EAAMxD,GAAesE,IAE3B7D,qBAAU,WACJ7H,EAASxI,sBACXypB,EAAUnZ,QAAU,MAErB,CAAC9H,EAASxI,sBAEb,IAAM2pB,EAAe,WACnBniB,GAAa,IACbV,GAAUO,KAGNuiB,EAAgB,SACpBC,EACAC,EACAC,GAEA7a,GAAI,kBAAmB2a,GACvB,IAAIpgB,EAAgB,KACpB,OAAO,IAAIgc,SAAQ,SAACC,GAClB,OAAQmE,EAAQ1a,SAEd,IAAK,mBACH1F,EAAWigB,EAAcpZ,QAM7BpB,GAAI,YAAazF,GACjBic,EAAQjc,OA0CZ4G,qBAAU,WACJ3J,KAtCJiB,GAAe,OAAQ,QAEvBhB,QAAQW,QAAQ0iB,UAAUC,YAAYL,GAEtCjjB,QAAQ9E,cAAcqoB,UAAUD,aAAY,SAACE,GAC3Cjb,GAAI,wBAAyBib,GAC7BR,OAEFhjB,QAAQ9E,cAAcuoB,gBAAgBH,aACpC,SAACE,EAAwBE,GAAyB,IAAD,EAC/Cnb,GAAI,uBAAD,OAAwBmb,EAAxB,aAAgDF,GACnDjb,GAAI,WAAYxC,GAF+B,MAGzByd,EAAeG,MAAM,MAAlCvgB,EAHsC,oBAIzChD,EAAG,UAAG2F,EAASzL,MAAK,SAACC,GAAD,OAAaA,EAAQF,KAAO+I,YAA7C,aAAG,EAAsDhD,KAClE,OAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAKpE,SACPmE,GAAUC,MAMhBJ,QAAQc,cAAcyiB,UAAUD,aAAY,SAAC5L,GAC3CnP,GAAI,0BAA2BmP,GAC/BsL,OAGFhjB,QAAQ+K,QAAQ6Y,UAAUN,aAAY,SAACO,EAAcC,GAEnD,GADAvb,GAAI,mBAAoBub,EAAUD,GACjB,UAAbC,EAAsB,CAAC,IAAD,EACeD,EAAQjY,IAAYmY,SAAnDliB,EADgB,EAChBA,SAAUkE,EADM,EACNA,SAAUQ,EADJ,EACIA,OAC5BwF,GAASpS,GAAYkI,IACrBkK,GAAS5R,GAAY4L,IACrBgG,GAAS5B,GAAU5D,QAQrBgC,GAAI,mCAGL,IAEHmB,qBAAU,WACJ3J,IAAkB0M,EAAI5B,SACxBtC,GAAI,6BACJwD,GAASvB,MAAwB,MAGlC,CAACiC,EAAI5B,SAER,IAAMmZ,EAAW,uCAAG,WAAO/L,GAAP,eAAA7S,EAAA,sE5ElCbpF,QAAQc,cAAcmjB,aAAa,I4EkCtB,QACZC,EADY,QAEJloB,SACZic,IAAUiM,GAEZ3b,GAAI,kBAAmB0P,GACvBpX,GAAaoX,GANK,2CAAH,sDASXkM,EAAiB,SAAC9e,GAGtB,GAFAyd,EAAUnZ,QAAQnP,KAAK6K,GAEnByd,EAAUnZ,QAAQ3N,SAAW+J,EAAS/J,OAAQ,CAEhD+mB,EAAcpZ,QAAU,IAAI/L,KAE5B,IAAMqa,EAAQ6K,EAAUnZ,QAAQjC,QAC9B,SAACwQ,EAAKC,GAAN,OAAcD,EAAMC,EAAIpO,UAAU/N,SAClC,GAIF,GAFAuM,GAAI,oDAAqD0P,GAErDA,EAAQ,EAAG,CACb+L,EAAY/L,GACZ,IACMmM,EAAqBtB,EAAUnZ,QAAQjP,QAC3C,qBAAGqP,UAA0B/N,OAAS,KAElCqoB,EAAgBD,EACnBloB,MAAM,EAAGM,KAAKuZ,IALQ,EAKcqO,EAAmBpoB,SACvDgH,KAAI,qBAAGzI,QAAsB2I,SAC7BrH,KAAK,O5EzGT,SAA0B2G,GAAuC,IAEpEnI,EAKEmI,EALFnI,GAFmE,EAOjEmI,EAJFG,YAHmE,MAG5D,QAH4D,IAOjEH,EAHFU,aAJmE,MAI3D,iBAJ2D,IAOjEV,EAFF8hB,eALmE,MAKzD,gBALyD,EAMhEjT,EANgE,aAOjE7O,EAPiE,iCAQrExC,QAAQ9E,cAAcqF,OAAOlG,EAA7B,aACEsI,OACAO,QACAohB,WACGjT,I4E8FCkT,CAAiB,CACfrhB,MAAM,mBAAD,OAAqB+U,EAArB,qBAAuCA,EAAQ,EAAI,IAAM,GAAzD,KACLzP,QAAQ,aAAD,OAAe6b,GAAf,OACLD,EAAmBpoB,OAXE,EAW0B,YAAc,GADxD,OAgBT,IAAMuK,EAAS6d,EAAmB1c,QAChC,SAACwQ,EAAcC,GAAf,6BAAyCD,GAAzC,aAAiDC,EAAIpO,cACrD,IAEFxB,GAAI,0BAA2BhC,GAC/BwF,GAASrB,GAAkBnE,IAAS,GAGtCuc,EAAUnZ,QAAU,KAIxB,OAAO5J,GACL,mCACG0M,EAAI5B,QAAUhJ,EAASxI,oBACpB0M,EAAS/C,KAAI,SAACzI,EAAS0b,GAAV,OACX,cAACtN,GAAD,CAEEpO,QAASA,EACTqO,WAAYub,GAFPlO,MAKT,OAGN,mF,2CCnIW3O,I,mCA9CE,eAACjP,EAAD,uDAAqB,QAArB,OACfmsB,aAAY,CACV5vB,QAAQ,aACNyD,OACAxD,QAAS,CACPusB,MAAO,UACPtsB,KAAM,UACNe,KAAM,WAER2lB,UAAW,CACT4F,MAAO,UACPtsB,KAAM,UACNe,KAAM,YAEK,UAATwC,EACA,CACEyoB,WAAY,CACVC,QAAS,QAEXvR,OAAQ,CACNC,UAAW,UACXC,YAAa0R,KAAMvG,UAGvB,CACEiG,WAAY,CACVC,QAAS,WAEXvR,OAAQ,CACNC,UAAW,UACXC,YAAa,+BAIvBnI,YAAa,CACXkE,OAAQ,CACNsJ,IAAK,EACLC,GAAI,IACJC,GAAI,IACJC,GAAI,KACJC,GAAI,KACJC,GAAI,WCjCGqP,OApBf,WACE,IAAMpsB,EAAO4Q,GAAeqE,IACtB5Y,EAAQ4S,GAASjP,GAEvB,OACE,eAACqsB,GAAA,EAAD,CAAehwB,MAAOA,EAAtB,UACE,cAACiwB,GAAA,EAAD,IACA,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAACnkB,KAAK,IAAIvJ,UAAWmiB,KACjC,cAAC,IAAD,CAAOuL,OAAK,EAACnkB,KAAK,YAAYvJ,UAAWwoB,KACzC,cAAC,IAAD,CAAOkF,OAAK,EAACnkB,KAAK,YAAYvJ,UAAW6qB,KACzC,cAAC,IAAD,CAAO6C,OAAK,EAACnkB,KAAK,SAASvJ,UAAWwrB,KACtC,cAAC,IAAD,CAAOjiB,KAAK,cAAcvJ,UAAW2rB,cCThCgC,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBxF,MAAK,YAAkD,IAA/CyF,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCFdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUtZ,MAAOA,GAAjB,SACE,cAAC,GAAD,QAGJkU,SAASqF,eAAe,SAM1BX,O","file":"static/js/main.64e32961.chunk.js","sourcesContent":["export interface Settings {\n  defaultView: HomeView;\n  apiKey: string;\n  darkMode: boolean;\n  autoPlayVideos: boolean;\n  recentVideosSeniority: VideosSeniority;\n  recentVideosDisplayOptions: VideosDisplayOptions;\n  enableNotifications: boolean;\n}\n\nexport enum HomeView {\n  All = 'all',\n  Recent = 'recent',\n  WatchLater = 'watch-later',\n}\n\nexport enum VideosSeniority {\n  OneDay = 1,\n  ThreeDays = 3,\n  SevenDays = 7,\n}\n\nexport interface VideosDisplayOptions {\n  hideViewedVideos: boolean;\n  hideWatchLaterVideos: boolean;\n}\n\nexport enum SettingType {\n  String,\n  Number,\n  Boolean,\n  List,\n}\n","export * from './Channel';\nexport * from './Video';\nexport * from './Settings';\nexport * from './Api';\nexport * from './Webext';\n","import React from 'react';\nimport { Box } from '@mui/material';\nimport { SxProps } from '@mui/system';\nimport { Sidebar } from 'ui/components/shared';\n\ninterface LayoutProps {\n  children?: React.ReactNode;\n  sx?: SxProps;\n}\n\nexport function Layout(props: LayoutProps) {\n  const { children, sx } = props;\n\n  return (\n    <Box sx={{ display: 'flex', flexDirection: 'row', height: '100vh' }}>\n      <Sidebar />\n      <Box\n        sx={{ flexGrow: 1, display: 'flex', flexDirection: 'column', ...sx }}\n      >\n        {children}\n      </Box>\n    </Box>\n  );\n}\n","import { styled, Theme } from '@mui/material/styles';\nimport MuiListItemButton from '@mui/material/ListItemButton';\n\nconst ListItemSelectedStyle = (theme: Theme) => ({\n  backgroundColor: theme.palette.primary.main,\n  color: '#fff',\n  '& .MuiListItemIcon-root': {\n    color: '#fff',\n  },\n});\n\nconst ListItem = styled(MuiListItemButton)(({ theme }) => ({\n  borderRadius: '5px 0 0 5px',\n  marginBottom: theme.spacing(1),\n  '&.Mui-selected': ListItemSelectedStyle(theme),\n  '&.Mui-selected:hover': ListItemSelectedStyle(theme),\n})) as typeof MuiListItemButton;\n\nexport default ListItem;\n","import { styled } from '@mui/material/styles';\nimport MuiListItemText from '@mui/material/ListItemText';\n\nconst ListItemText = styled(MuiListItemText)(({ theme }) => ({\n  '& .MuiTypography-root': {\n    display: 'flex',\n    alignItems: 'center',\n  },\n})) as typeof MuiListItemText;\n\nexport default ListItemText;\n","import { styled } from '@mui/material/styles';\nimport MuiBadge from '@mui/material/Badge';\n\nconst Badge = styled(MuiBadge)(({ theme }) => ({\n  '& .MuiBadge-badge': {\n    position: 'relative',\n    transform: 'none',\n    backgroundColor: theme.palette.primary.dark,\n    color: theme.palette.common.white,\n    minWidth: 24,\n    height: 24,\n    fontSize: '0.75rem',\n    marginLeft: theme.spacing(3),\n    borderRadius: theme.spacing(1.5),\n  },\n}));\n\nexport default Badge;\n","import React from 'react';\nimport { Link, LinkProps, useLocation } from 'react-router-dom';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport ErrorOutlineIcon from '@mui/icons-material/ErrorOutline';\nimport ListItem from './ListItem';\nimport ListItemText from './ListItemText';\nimport Badge from './Badge';\n\ninterface ListItemLinkProps {\n  icon: React.ReactElement;\n  text: string;\n  badge?: React.ReactNode;\n  hasWarning?: boolean;\n  to: string;\n}\n\nexport default function ListItemLink(props: ListItemLinkProps) {\n  const { icon, text, badge, hasWarning, to } = props;\n  const location = useLocation();\n  const selected = location.pathname === to;\n\n  const renderLink = React.useMemo(\n    () =>\n      React.forwardRef<HTMLAnchorElement, Omit<LinkProps, 'to'>>(\n        (itemProps, ref) => <Link to={to} ref={ref} {...itemProps} />\n      ),\n    [to]\n  );\n\n  return (\n    <ListItem component={renderLink} selected={selected} disableRipple>\n      {icon ? <ListItemIcon>{icon}</ListItemIcon> : null}\n      <ListItemText\n        primary={\n          <>\n            {text}\n            {badge && selected ? <Badge badgeContent={badge} /> : null}\n            {hasWarning && !selected ? (\n              <ErrorOutlineIcon sx={{ ml: 3 }} color=\"warning\" />\n            ) : null}\n          </>\n        }\n      />\n    </ListItem>\n  );\n}\n","import React from 'react';\nimport { Box, Typography } from '@mui/material';\nimport { Logo } from 'ui/components/shared';\n\nconst { REACT_APP_NAME, REACT_APP_VERSION } = process.env;\n\ninterface HeaderProps {\n  showVersion?: boolean;\n}\n\nexport default function Header(props: HeaderProps) {\n  const { showVersion } = props;\n\n  return (\n    <Box\n      component=\"span\"\n      sx={{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        gap: '1rem',\n        cursor: 'default',\n        userSelect: 'none',\n      }}\n    >\n      <Logo size={32} />\n      <Box\n        component=\"span\"\n        sx={{\n          display: 'flex',\n          alignItems: 'center',\n          color: 'text.primary',\n        }}\n      >\n        <Typography variant=\"subtitle1\">{REACT_APP_NAME}</Typography>\n        {showVersion ? (\n          <Typography\n            variant=\"caption\"\n            sx={{\n              marginLeft: 1,\n              bgcolor: (theme) =>\n                theme.palette.mode === 'light' ? '#eee' : 'transparent',\n              padding: '3px 6px',\n              border: 1,\n              borderColor: (theme) =>\n                theme.palette.mode === 'light' ? 'transparent' : 'divider',\n              borderRadius: '4px',\n              color: 'text.primary',\n              fontSize: '0.75rem',\n              lineHeight: 1,\n            }}\n          >\n            v{REACT_APP_VERSION}\n          </Typography>\n        ) : null}\n      </Box>\n    </Box>\n  );\n}\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { HomeView, Settings, VideosSeniority } from 'types';\n\nconst { REACT_APP_YOUTUBE_API_KEY } = process.env;\n\nexport const defaultSettings = {\n  defaultView: HomeView.All,\n  apiKey: REACT_APP_YOUTUBE_API_KEY || '',\n  darkMode: false,\n  autoPlayVideos: true,\n  recentVideosSeniority: VideosSeniority.OneDay,\n  recentVideosDisplayOptions: {\n    hideViewedVideos: false,\n    hideWatchLaterVideos: false,\n  },\n  enableNotifications: true,\n};\n\ninterface SettingsState extends Settings {}\n\nconst initialState: SettingsState = {\n  ...defaultSettings,\n};\n\nexport const settingsSlice = createSlice({\n  name: 'settings',\n  initialState,\n  reducers: {\n    setSettings: (state, action: PayloadAction<Partial<SettingsState>>) => {\n      return {\n        ...state,\n        ...action.payload,\n      };\n    },\n    resetSettings: (state) => {\n      return {\n        ...state,\n        ...defaultSettings,\n      };\n    },\n  },\n});\n\nexport const { setSettings, resetSettings } = settingsSlice.actions;\n\nexport default settingsSlice.reducer;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { arrayMove } from '@dnd-kit/sortable';\nimport { Channel } from 'types';\n\ninterface ChannelsState {\n  list: Channel[];\n}\n\nconst initialState: ChannelsState = {\n  list: [],\n};\n\nexport const channelsSlice = createSlice({\n  name: 'channels',\n  initialState,\n  reducers: {\n    setChannels: (state, action: PayloadAction<Partial<ChannelsState>>) => {\n      return {\n        ...state,\n        ...action.payload,\n      };\n    },\n    addChannel: (state, action: PayloadAction<Channel>) => {\n      const { id } = action.payload;\n      const found = state.list.find((channel: Channel) => channel.id === id);\n      if (!found) {\n        state.list.push(action.payload);\n      }\n    },\n    removeChannel: (state, action: PayloadAction<Channel>) => {\n      const { id } = action.payload;\n      state.list = state.list.filter((channel: Channel) => channel.id !== id);\n    },\n    moveChannel: (\n      state,\n      action: PayloadAction<{ from: number; to: number }>\n    ) => {\n      const { from, to } = action.payload;\n      state.list = arrayMove(state.list, from, to);\n    },\n    toggleChannel: (state, action: PayloadAction<Channel>) => {\n      const { id } = action.payload;\n      const found = state.list.find((channel: Channel) => channel.id === id);\n      if (found) {\n        found.isHidden = !found.isHidden;\n      }\n    },\n    toggleChannelNotifications: (state, action: PayloadAction<Channel>) => {\n      const { id } = action.payload;\n      const found = state.list.find((channel: Channel) => channel.id === id);\n      if (found) {\n        found.notifications = {\n          ...found.notifications,\n          isDisabled: found.notifications\n            ? !found.notifications.isDisabled\n            : true,\n        };\n      }\n    },\n  },\n});\n\nexport const {\n  setChannels,\n  addChannel,\n  removeChannel,\n  moveChannel,\n  toggleChannel,\n  toggleChannelNotifications,\n} = channelsSlice.actions;\n\nexport default channelsSlice.reducer;\n","/**\n * Convert youtube duration to readable format\n *\n * @param ISO_8601_string {string}\n */\nexport function niceDuration(ISO_8601_string: string) {\n  let time = ISO_8601_string.replace('PT', '').toUpperCase();\n  let h = extract('H');\n  let m = extract('M');\n  let s = extract('S');\n  return h !== '00' ? [h, m, s].join(':') : [m, s].join(':');\n\n  function extract(stop: string) {\n    for (let i = 0; i < time.length; i++) {\n      if (time[i] === stop) {\n        let val = time.slice(0, i);\n        if (val.length === 1 && stop !== 'H') {\n          val = '0' + val;\n        }\n        time = time.slice(i + 1);\n        return val;\n      }\n    }\n    return '00';\n  }\n}\n\n// -------------------------------------------------------------------\n\n/**\n * Shorten number to thousands, millions, billions, etc.\n * http://en.wikipedia.org/wiki/Metric_prefix\n *\n * @param {number} num Number to shorten.\n * @param {number} [digits=0] The number of digits to appear after the decimal point.\n * @returns {string|number}\n *\n * @example\n * // returns '12.5k'\n * shortenLargeNumber(12543, 1)\n *\n * @example\n * // returns '-13k'\n * shortenLargeNumber(-12567)\n *\n * @example\n * // returns '51M'\n * shortenLargeNumber(51000000)\n *\n * @example\n * // returns 651\n * shortenLargeNumber(651)\n *\n * @example\n * // returns 0.12345\n * shortenLargeNumber(0.12345)\n */\nexport function shortenLargeNumber(num: number, digits: number = 0) {\n  let units = ['k', 'M', 'G', 'T', 'P', 'E', 'Z', 'Y'],\n    decimal;\n\n  for (let i = units.length - 1; i >= 0; i--) {\n    decimal = Math.pow(1000, i + 1);\n\n    if (num <= -decimal || num >= decimal) {\n      return +(num / decimal).toFixed(digits) + units[i];\n    }\n  }\n\n  return num;\n}\n\n// -------------------------------------------------------------------\n\n/**\n * Return Date & time in words\n * Stolen from: https://stackoverflow.com/a/37802747\n */\nexport const TimeAgo = (() => {\n  let self: any = {};\n\n  // Public Methods\n  self.locales = {\n    prefix: '',\n    sufix: 'ago',\n\n    seconds: 'less than a minute',\n    minute: 'about a minute',\n    minutes: '%d minutes',\n    hour: 'about an hour',\n    hours: 'about %d hours',\n    day: 'a day',\n    days: '%d days',\n    month: 'about a month',\n    months: '%d months',\n    year: 'about a year',\n    years: '%d years',\n  };\n\n  self.inWords = (timeAgo: any) => {\n    let seconds = Math.floor(((new Date() as any) - parseInt(timeAgo)) / 1000),\n      separator = self.locales.separator || ' ',\n      words = self.locales.prefix + separator,\n      interval = 0,\n      intervals: any = {\n        year: seconds / 31536000,\n        month: seconds / 2592000,\n        day: seconds / 86400,\n        hour: seconds / 3600,\n        minute: seconds / 60,\n      };\n\n    let distance = self.locales.seconds;\n\n    for (let key in intervals) {\n      interval = Math.floor(intervals[key]);\n\n      if (interval > 1) {\n        distance = self.locales[key + 's'];\n        break;\n      } else if (interval === 1) {\n        distance = self.locales[key];\n        break;\n      }\n    }\n\n    distance = distance.replace(/%d/i, interval);\n    words += distance + separator + self.locales.sufix;\n\n    return words.trim();\n  };\n\n  return self;\n})();\n\n// -------------------------------------------------------------------\n\n/**\n * Return current date minus number of days before\n *\n * @param before {number}\n */\nexport function getDateBefore(before: number = 0): Date {\n  let date = new Date();\n  date.setDate(date.getDate() - before);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}\n\n// -------------------------------------------------------------------\n\n/**\n * Check if the given timestamp is in today's date\n * Stolen from: https://stackoverflow.com/a/40628566\n *\n * @param timestamp\n */\nexport function isInToday(timestamp: number) {\n  let today = new Date();\n  if (today.setHours(0, 0, 0, 0) === new Date(timestamp).setHours(0, 0, 0, 0)) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\n// -------------------------------------------------------------------\n\n/**\n * Returns hours difference between two dates\n * Stolen from: https://www.w3resource.com/javascript-exercises/javascript-date-exercise-45.php\n *\n * @param dt1\n * @param dt2\n */\nexport function diffHours(dt1: Date | number, dt2: Date | number): number {\n  const tms1 = dt1 instanceof Date ? dt1.getTime() : dt1;\n  const tms2 = dt2 instanceof Date ? dt2.getTime() : dt2;\n  let diff = (tms2 - tms1) / 1000;\n  diff /= 60 * 60;\n  return Math.abs(Math.round(diff));\n}\n\n// -------------------------------------------------------------------\n\n/**\n * Returns days difference between two dates\n * Stolen from: https://www.w3resource.com/javascript-exercises/javascript-date-exercise-8.php\n *\n * @param dt1\n * @param dt2\n */\nexport function diffDays(dt1: Date | number, dt2: Date | number): number {\n  const tms1 = dt1 instanceof Date ? dt1.getTime() : dt1;\n  const tms2 = dt2 instanceof Date ? dt2.getTime() : dt2;\n  const diff = (tms2 - tms1) / (1000 * 60 * 60 * 24);\n  return Math.floor(diff);\n}\n\n// -------------------------------------------------------------------\n\n/**\n * Returns elapsed hours since the provided date\n *\n * @param dt\n */\nexport function elapsedHours(dt: Date | number): number {\n  const now = new Date();\n  return diffHours(now, dt);\n}\n\n// -------------------------------------------------------------------\n\n/**\n * Returns elapsed days since the provided date\n *\n * @param dt\n */\nexport function elapsedDays(dt: Date | number): number {\n  const now = new Date();\n  return diffDays(dt, now);\n}\n\n// -------------------------------------------------------------------\n\n/**\n * Return a new RegExp object instance\n *\n * @param pattern\n * @param modifiers\n */\nexport function regex(pattern: string, modifiers: string): RegExp {\n  return new RegExp(pattern, modifiers);\n}\n\n// -------------------------------------------------------------------\n\n/**\n * Return size of an object\n * Stolen from: https://gist.github.com/zensh/4975495\n *\n * @param obj\n */\nexport function memorySizeOf(obj: any) {\n  let bytes = 0;\n\n  function sizeOf(obj: any) {\n    if (obj !== null && obj !== undefined) {\n      switch (typeof obj) {\n        case 'number':\n          bytes += 8;\n          break;\n        case 'string':\n          bytes += obj.length * 2;\n          break;\n        case 'boolean':\n          bytes += 4;\n          break;\n        case 'object':\n          let objClass = Object.prototype.toString.call(obj).slice(8, -1);\n          if (objClass === 'Object' || objClass === 'Array') {\n            for (let key in obj) {\n              if (!obj.hasOwnProperty(key)) continue;\n              sizeOf(obj[key]);\n            }\n          } else bytes += obj.toString().length * 2;\n          break;\n      }\n    }\n    return bytes;\n  }\n\n  function formatByteSize(bytes: number) {\n    if (bytes < 1024) return bytes + ' bytes';\n    else if (bytes < 1048576) return (bytes / 1024).toFixed(3) + ' KiB';\n    else if (bytes < 1073741824) return (bytes / 1048576).toFixed(3) + ' MiB';\n    else return (bytes / 1073741824).toFixed(3) + ' GiB';\n  }\n\n  return formatByteSize(sizeOf(obj));\n}\n\n// -------------------------------------------------------------------\n\n/**\n * Create a new function that limits calls to func to once every given timeframe.\n * Stolen from: https://github.com/you-dont-need/You-Dont-Need-Lodash-Underscore#_throttle\n *\n * @param callback\n * @param timeFrame\n */\nexport function throttle(callback: Function, timeFrame: number) {\n  let lastTime = 0;\n  return (...args: any) => {\n    let now = new Date().getTime();\n    if (now - lastTime >= timeFrame) {\n      callback(...args);\n      lastTime = now;\n    }\n  };\n}\n\n// -------------------------------------------------------------------\n\n/**\n * Create a new function that calls func with thisArg and args.\n * Stolen from: https://github.com/you-dont-need/You-Dont-Need-Lodash-Underscore#_debounce\n *\n * @param callback\n * @param wait\n * @param immediate\n */\nexport function debounce(\n  callback: Function,\n  wait: number,\n  immediate?: boolean\n) {\n  let timeout: any = null;\n  return function (this: any, ...args: any) {\n    const context = this;\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      timeout = null;\n      if (!immediate) callback.apply(context, args);\n    }, wait);\n    if (immediate && !timeout) callback.apply(context, args);\n  };\n}\n\n// -------------------------------------------------------------------\n\n/**\n * Generates 26 [a-z0-9] characters, yielding a UID that is both shorter and more unique than RFC compliant GUIDs.\n * Dashes can be trivially added if human-readability matters.\n * Stolen from: https://stackoverflow.com/a/13403498\n */\nexport function generateGuid() {\n  return (\n    Math.random().toString(36).substring(2, 15) +\n    Math.random().toString(36).substring(2, 15)\n  );\n}\n\n// -------------------------------------------------------------------\n\n/**\n * A little function to help us with reordering lists\n *\n * @param list\n * @param currentIndex\n * @param newIndex\n */\nexport function reorder<T>(\n  list: T[],\n  currentIndex: number,\n  newIndex: number\n): T[] {\n  const result = Array.from(list);\n  const [removed] = result.splice(currentIndex, 1);\n  result.splice(newIndex, 0, removed);\n\n  return result;\n}\n\n// -------------------------------------------------------------------\n\n/**\n * Prevent default event operations\n *\n * @param event\n */\nexport function noop<T>(event: React.MouseEvent<T>) {\n  event.stopPropagation();\n  event.preventDefault();\n}\n","// import { browser } from \"webextension-polyfill-ts\";\nimport { SendNotificationParams } from 'types';\n\ndeclare var browser: any;\n\nfunction isBrowserAPIAvailable(): boolean {\n  try {\n    return !!browser;\n  } catch (error) {\n    return false;\n  }\n}\n\nexport const isWebExtension: boolean = isBrowserAPIAvailable();\n\nexport function isPopup(): boolean {\n  // have to be a function not a const, 'cause we need to check the window size multiple times not only once\n  return window.innerWidth < 1000;\n}\n\nexport function isFirefox(): boolean {\n  return navigator.userAgent.indexOf('Firefox') !== -1;\n}\n\nexport function isChrome(): boolean {\n  return navigator.userAgent.indexOf('Chrome') !== -1;\n}\n\nexport function createTab(url: string, isActive: boolean = true): Promise<any> {\n  return browser.tabs.create({\n    url,\n    active: isActive,\n  });\n}\n\nexport function getUrl(path: string): string {\n  return browser.runtime.getURL(path);\n}\n\nexport const indexUrl = isWebExtension ? getUrl('index.html') : '';\n\nexport function executeScript(tabId: number, code: string): void {\n  browser.tabs.executeScript(tabId, {\n    code,\n  });\n}\n\n// Notes:\n// - id will be auto-generated if empty\n// - Firefox only supports the 'basic' type @see https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/notifications/TemplateType#type\nexport function sendNotification(params: SendNotificationParams): void {\n  const {\n    id,\n    type = 'basic',\n    title = 'YouTube viewer',\n    iconUrl = 'icons/128.png',\n    ...rest\n  } = params;\n  browser.notifications.create(id, {\n    type,\n    title,\n    iconUrl,\n    ...rest,\n  });\n}\n\nexport function sendMessage(message: string, ...params: any) {\n  return browser.runtime.sendMessage({\n    message,\n    params,\n  });\n}\n\nexport function setBadgeText(text: string | number): void {\n  browser.browserAction.setBadgeText({\n    text: text === 0 ? '' : text.toString(),\n  });\n}\n\nexport function setBadgeColors(\n  backgroundColor: string,\n  textColor: string\n): void {\n  if (isFirefox()) {\n    browser.browserAction.setBadgeTextColor({ color: textColor });\n  }\n  browser.browserAction.setBadgeBackgroundColor({ color: backgroundColor });\n}\n\nexport function getBadgeText(): Promise<string> {\n  return browser.browserAction.getBadgeText({});\n}\n","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\nimport { RootState } from 'store';\n\nconst baseQuery = fetchBaseQuery({\n  baseUrl: 'https://www.googleapis.com/youtube/v3/',\n  prepareHeaders: (headers, { getState }) => {\n    const apiKey = (getState() as RootState).settings.apiKey;\n    if (apiKey) {\n      headers.set('X-Goog-Api-Key', apiKey);\n    }\n    return headers;\n  },\n});\n\nexport const youtubeApi = createApi({\n  reducerPath: 'youtubeApi',\n  baseQuery,\n  endpoints: () => ({}),\n});\n","import { youtubeApi } from './api';\nimport { FetchBaseQueryError } from '@reduxjs/toolkit/dist/query';\nimport { niceDuration, shortenLargeNumber, TimeAgo } from 'helpers/utils';\nimport { Channel, ChannelActivities, Response, Video } from 'types';\n\ntype FindChannelByNameArgs = {\n  name: string;\n  maxResults?: number;\n};\n\ntype FindChannelByNameResponse = {\n  items: Channel[];\n  total: number;\n};\n\ntype GetChannelActivitiesArgs = {\n  channel: Channel;\n  publishedAfter?: string;\n  publishedBefore?: string;\n  maxResults?: number;\n};\n\ntype GetChannelActivitiesResponse = {\n  items: ChannelActivities[];\n  total: number;\n};\n\ntype GetVideosByIdArgs = {\n  ids: string[];\n  maxResults?: number;\n};\n\ntype GetVideosByIdResponse = {\n  items: Video[];\n  total: number;\n};\n\ntype GetChannelVideosArgs = GetChannelActivitiesArgs;\n\nexport type GetChannelVideosResponse = GetVideosByIdResponse;\n\nconst queries = {\n  // Channel search query\n  findChannelByName: {\n    query: ({ name: q, maxResults = 10 }: FindChannelByNameArgs) => ({\n      url: 'search',\n      params: {\n        part: 'snippet',\n        fields: 'pageInfo,items(snippet)',\n        type: 'channel',\n        order: 'relevance',\n        maxResults,\n        q,\n      },\n    }),\n    transformResponse: (response: Response): FindChannelByNameResponse => ({\n      items: response.items.map((item) => ({\n        title: item.snippet.title,\n        url: `https://www.youtube.com/channel/${item.snippet.channelId}/videos`,\n        description: item.snippet.description,\n        thumbnail: item.snippet.thumbnails.medium.url,\n        id: item.snippet.channelId,\n      })),\n      total: response.pageInfo.totalResults,\n    }),\n  },\n  // Channel activities query\n  getChannelActivities: {\n    query: ({\n      channel,\n      publishedAfter,\n      publishedBefore,\n      maxResults = 10,\n    }: GetChannelActivitiesArgs) => ({\n      url: 'activities',\n      params: {\n        part: 'contentDetails',\n        fields: 'pageInfo,items(contentDetails)',\n        channelId: channel.id,\n        ...(publishedAfter ? { publishedAfter } : {}),\n        ...(publishedBefore ? { publishedBefore } : {}),\n        maxResults,\n      },\n    }),\n    transformResponse: (response: Response): GetChannelActivitiesResponse => ({\n      items: response.items\n        .filter((item) => item.contentDetails.upload?.videoId)\n        .map((item) => ({\n          videoId: item.contentDetails.upload.videoId,\n        })),\n      total: response.pageInfo.totalResults,\n    }),\n  },\n  // Videos informations query\n  getVideosById: {\n    query: ({ ids, maxResults = 10 }: GetVideosByIdArgs) => ({\n      url: 'videos',\n      params: {\n        part: 'snippet,contentDetails,statistics,id',\n        fields:\n          'pageInfo,items(id,contentDetails/duration,statistics/viewCount,snippet(title,channelTitle,channelId,publishedAt,thumbnails/medium))',\n        id: ids.slice(0, maxResults).join(','),\n      },\n    }),\n    transformResponse: (response: Response): GetVideosByIdResponse => ({\n      items: response.items.map((item) => {\n        const publishedAt = new Date(item.snippet.publishedAt).getTime();\n        return {\n          id: item.id,\n          title: item.snippet.title,\n          url: `https://www.youtube.com/watch?v=${item.id}`,\n          duration: niceDuration(item.contentDetails.duration),\n          views: shortenLargeNumber(item.statistics.viewCount),\n          thumbnail: item.snippet.thumbnails.medium.url,\n          channelId: item.snippet.channelId,\n          channelTitle: item.snippet.channelTitle,\n          publishedAt,\n          publishedSince: TimeAgo.inWords(publishedAt),\n        };\n      }),\n      total: response.pageInfo.totalResults,\n    }),\n  },\n};\n\nconst extendedApi = youtubeApi.injectEndpoints({\n  endpoints: (builder) => ({\n    findChannelByName: builder.query<\n      FindChannelByNameResponse,\n      FindChannelByNameArgs\n    >(queries.findChannelByName),\n    getChannelActivities: builder.query<\n      GetChannelActivitiesResponse,\n      GetChannelActivitiesArgs\n    >(queries.getChannelActivities),\n    getVideosById: builder.query<GetVideosByIdResponse, GetVideosByIdArgs>({\n      queryFn: async (_arg, _queryApi, _extraOptions, fetchWithBQ) => {\n        const { ids, maxResults } = _arg;\n        if (ids.length === 0) {\n          return {\n            data: {\n              items: [],\n              total: 0,\n            },\n          };\n        }\n        const result = await fetchWithBQ(\n          queries.getVideosById.query({\n            ids,\n            maxResults,\n          })\n        );\n        return result.data\n          ? {\n              data: queries.getVideosById.transformResponse(\n                result.data as Response\n              ),\n            }\n          : { error: result.error as FetchBaseQueryError };\n      },\n    }),\n    getChannelVideos: builder.query<\n      GetChannelVideosResponse,\n      GetChannelVideosArgs\n    >({\n      queryFn: async (_arg, _queryApi, _extraOptions, fetchWithBQ) => {\n        const { channel, publishedAfter, maxResults } = _arg;\n        // Fetch channel activities\n        const activities = await fetchWithBQ(\n          queries.getChannelActivities.query({\n            channel,\n            publishedAfter,\n            maxResults,\n          })\n        );\n        if (activities.error) {\n          return { error: activities.error as FetchBaseQueryError };\n        }\n        const { items, total } = queries.getChannelActivities.transformResponse(\n          activities.data as Response\n        );\n        // Fetch channel videos\n        const ids = items.map(({ videoId }) => videoId);\n        if (ids.length === 0) {\n          return {\n            data: {\n              items: [],\n              total: 0,\n            },\n          };\n        }\n        const result = await fetchWithBQ(\n          queries.getVideosById.query({\n            ids,\n            maxResults,\n          })\n        );\n        return result.data\n          ? {\n              data: {\n                ...queries.getVideosById.transformResponse(\n                  result.data as Response\n                ),\n                total,\n              },\n            }\n          : { error: result.error as FetchBaseQueryError };\n      },\n    }),\n  }),\n  overrideExisting: false,\n});\n\nexport const {\n  useFindChannelByNameQuery,\n  useGetChannelActivitiesQuery,\n  useGetVideosByIdQuery,\n  useGetChannelVideosQuery,\n} = extendedApi;\n","import { createSelector } from '@reduxjs/toolkit';\nimport type { RootState } from 'store';\nimport { Channel } from 'types';\n\nexport const selectChannels = (state: RootState) => state.channels.list;\n\nexport const selectActiveChannels = createSelector(selectChannels, (channels) =>\n  channels.filter(({ isHidden }) => !isHidden)\n);\n\nexport const selectHiddenChannels = createSelector(selectChannels, (channels) =>\n  channels.filter(({ isHidden }) => isHidden)\n);\n\nexport const selectNotificationEnabledChannels = createSelector(\n  selectChannels,\n  (channels) =>\n    channels.filter(\n      ({ isHidden, notifications }) => !isHidden && !notifications?.isDisabled\n    )\n);\n\nexport const selectActiveChannelsCount = createSelector(\n  selectActiveChannels,\n  (channels) => channels.length\n);\n\nexport const selectChannelsCount = createSelector(\n  selectChannels,\n  selectActiveChannels,\n  (channels, activeChannels) =>\n    channels.length === activeChannels.length\n      ? channels.length\n      : `${activeChannels.length}/${channels.length}`\n);\n\nexport const selectChannel = (channel: Channel) =>\n  createSelector(selectChannels, (channels) =>\n    channels.find(({ id }) => id === channel.id)\n  );\n","import type { RootState } from 'store';\nimport { createSelector } from '@reduxjs/toolkit';\nimport { Channel, Video } from 'types';\nimport { selectHiddenChannels } from './channels';\n\nexport const selectVideos = (state: RootState) => state.videos.list;\n\nexport const selectChannelVideos = (channel: Channel) =>\n  createSelector(selectVideos, (videos) =>\n    videos.filter(({ channelId }) => channel.id === channelId)\n  );\n\nexport const selectViewedVideos = (channel?: Channel) =>\n  createSelector(selectVideos, (videos) =>\n    videos.filter(\n      ({ isViewed, channelId }) =>\n        isViewed && (!channel || channel.id === channelId)\n    )\n  );\n\nexport const selectNotifiedVideos = (channel?: Channel) =>\n  createSelector(selectVideos, (videos) =>\n    videos.filter(\n      ({ isNotified, channelId }) =>\n        isNotified && (!channel || channel.id === channelId)\n    )\n  );\n\nexport const selectWatchLaterVideos = (channel?: Channel) =>\n  createSelector(selectVideos, (videos) =>\n    videos\n      .filter(\n        ({ isToWatchLater, channelId }) =>\n          isToWatchLater && (!channel || channel.id === channelId)\n      )\n      .sort((a, b) => b.publishedAt - a.publishedAt)\n  );\n\nexport const selectWatchLaterVideosCount = createSelector(\n  selectVideos,\n  selectHiddenChannels,\n  (videos, hiddenChannels) => {\n    const hiddenChannelsIds = hiddenChannels.map(({ id }) => id);\n    return videos.filter(\n      ({ isToWatchLater, channelId }) =>\n        isToWatchLater && !hiddenChannelsIds.includes(channelId)\n    ).length;\n  }\n);\n\nexport const selectViewedWatchLaterVideosCount = createSelector(\n  selectVideos,\n  selectHiddenChannels,\n  (videos, hiddenChannels) => {\n    const hiddenChannelsIds = hiddenChannels.map(({ id }) => id);\n    return videos.filter(\n      ({ isToWatchLater, isViewed, channelId }) =>\n        isToWatchLater && isViewed && !hiddenChannelsIds.includes(channelId)\n    ).length;\n  }\n);\n\nexport const selectVideoMeta = (video: Video) =>\n  createSelector(selectVideos, (videos) => {\n    const { isViewed = false, isToWatchLater = false } =\n      videos.find(({ id }) => id === video.id) || {};\n    return {\n      isViewed,\n      isToWatchLater,\n    };\n  });\n","import { useWidth } from './useWidth';\n\ninterface GridColumns {\n  [key: string]: number;\n}\n\nexport function useGrid(columns: GridColumns) {\n  const width = useWidth(null);\n\n  return {\n    itemsPerRow: width ? columns[width] : undefined,\n  };\n}\n","import { Breakpoint, useTheme } from '@mui/material/styles';\nimport useMediaQuery from '@mui/material/useMediaQuery';\n\n/**\n * Be careful using this hook. It only works because the number of\n * breakpoints in theme is static. It will break once you change the number of\n * breakpoints. See https://reactjs.org/docs/hooks-rules.html#only-call-hooks-at-the-top-level\n */\nexport function useWidth(defaultWidth: Breakpoint | null = 'xs') {\n  const theme = useTheme();\n  const keys = [...theme.breakpoints.keys].reverse();\n\n  return (\n    keys.reduce((output: string | null, key: Breakpoint) => {\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      const matches = useMediaQuery(theme.breakpoints.up(key));\n      return !output && matches ? key : output;\n    }, null) || defaultWidth\n  );\n}\n","const { REACT_APP_DEBUG } = process.env;\n\nfunction time() {\n  const now = new Date();\n  return `[${now.getHours()}:${now.getMinutes()}:${now.getSeconds()}]`;\n}\n\nexport function log(message: any, ...params: any) {\n  if (REACT_APP_DEBUG) {\n    console.log(time(), message, ...params);\n  }\n}\n","import React, { useState, useEffect } from 'react';\nimport { Channel, Video } from 'types';\nimport { useGetChannelVideosQuery } from 'store/services/youtube';\nimport { getDateBefore } from 'helpers/utils';\nimport { useAppSelector } from 'store';\nimport { selectChannelVideos } from 'store/selectors/videos';\nimport { useInterval } from 'hooks';\nimport { log } from 'helpers/logger';\n\nexport interface CheckEndData {\n  channel: Channel;\n  newVideos: Video[];\n}\n\ninterface ChannelCheckerProps {\n  channel: Channel;\n  onCheckEnd: (data: CheckEndData) => void;\n}\n\nexport const defaults = {\n  checkInterval: 30, // minute(s)\n  videosSeniority: 1, // day(s)\n};\n\nexport default function ChannelChecker(props: ChannelCheckerProps) {\n  const { channel, onCheckEnd } = props;\n  const [ready, setReady] = useState(false);\n  const cachedVideos = useAppSelector(selectChannelVideos(channel));\n  const publishedAfter = getDateBefore(defaults.videosSeniority).toISOString();\n  const pollingInterval = defaults.checkInterval * 60000; // convert minutes to milliseconds\n  const { data, isFetching, refetch } = useGetChannelVideosQuery(\n    {\n      channel,\n      publishedAfter,\n    },\n    {\n      skip: !ready,\n      // pollingInterval,\n    }\n  );\n\n  useInterval(() => {\n    if (!ready) {\n      setReady(true);\n    } else {\n      refetch();\n    }\n  }, pollingInterval);\n\n  useEffect(() => {\n    if (!isFetching && data) {\n      let newVideos: Video[] = [];\n      const videos = data?.items || [];\n      const total = data?.total || 0;\n      log('Fetch ended:', total, data);\n      if (total > 0) {\n        const checkedVideosIds = cachedVideos\n          .filter(\n            ({ isViewed, isToWatchLater, isNotified }) =>\n              isViewed || isToWatchLater || isNotified\n          )\n          .map(({ id }) => id);\n        newVideos = videos.filter(\n          (video) => !checkedVideosIds.includes(video.id)\n        );\n        if (newVideos.length > 0) {\n          log(`New videos for channel ${channel.title}:`, newVideos);\n        }\n      }\n      onCheckEnd({\n        channel,\n        newVideos,\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isFetching]);\n\n  return <span>Silence is golden!</span>;\n}\n","import { useEffect, useRef } from 'react';\n\nexport function useInterval(callback: () => void, delay: number | null) {\n  const savedCallback = useRef(callback);\n\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  useEffect(() => {\n    if (delay === null) {\n      return;\n    }\n    const id = setInterval(() => savedCallback.current(), delay);\n    return () => clearInterval(id);\n  }, [delay]);\n}\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { elapsedDays } from 'helpers/utils';\nimport { isWebExtension } from 'helpers/webext';\nimport { Video } from 'types';\nimport { defaults as channelCheckerDefaults } from 'ui/components/webext/Background/ChannelChecker';\n\ninterface VideoItem {\n  id: string;\n  channelId: string;\n  publishedAt: number;\n  isViewed?: boolean;\n  isToWatchLater?: boolean;\n  isNotified?: boolean;\n}\n\ninterface VideosState {\n  list: VideoItem[];\n}\n\nconst initialState: VideosState = {\n  list: [],\n};\n\nexport const videosSlice = createSlice({\n  name: 'videos',\n  initialState,\n  reducers: {\n    setVideos: (state, action: PayloadAction<Partial<VideosState>>) => {\n      return {\n        ...state,\n        ...action.payload,\n      };\n    },\n    addViewedVideo: (state, action: PayloadAction<Video>) => {\n      const video = action.payload;\n      const found = state.list.find(({ id }) => id === video.id);\n      if (found) {\n        found.isViewed = true;\n      } else {\n        state.list.push({\n          id: video.id,\n          channelId: video.channelId,\n          publishedAt: video.publishedAt,\n          isViewed: true,\n        });\n      }\n    },\n    addWatchLaterVideo: (state, action: PayloadAction<Video>) => {\n      const video = action.payload;\n      const found = state.list.find(({ id }) => id === video.id);\n      if (found) {\n        found.isToWatchLater = true;\n      } else {\n        state.list.push({\n          id: video.id,\n          channelId: video.channelId,\n          publishedAt: video.publishedAt,\n          isToWatchLater: true,\n        });\n      }\n    },\n    removeWatchLaterVideo: (state, action: PayloadAction<Video>) => {\n      const video = action.payload;\n      const found = state.list.find(({ id }) => id === video.id);\n      if (found) {\n        found.isToWatchLater = false;\n      }\n      if (!isWebExtension) {\n        // no need to for the webextension, since it will be done by the background page on each launch\n        videosSlice.caseReducers.removeOutdatedVideos(state);\n      }\n    },\n    clearWatchLaterList: (state) => {\n      state.list = state.list.map((video) =>\n        video.isToWatchLater\n          ? {\n              ...video,\n              isToWatchLater: !video.isViewed,\n            }\n          : video\n      );\n    },\n    addNotifiedVideos: (state, action: PayloadAction<Video[]>) => {\n      const videos = action.payload;\n      for (const video of videos) {\n        const found = state.list.find(({ id }) => id === video.id);\n        if (found) {\n          found.isNotified = true;\n        } else {\n          state.list.push({\n            id: video.id,\n            channelId: video.channelId,\n            publishedAt: video.publishedAt,\n            isNotified: true,\n          });\n        }\n      }\n    },\n    removeOutdatedVideos: (state) => {\n      state.list = state.list.filter(\n        ({ isViewed, isToWatchLater, isNotified, publishedAt }) =>\n          isViewed ||\n          isToWatchLater ||\n          (isNotified &&\n            elapsedDays(publishedAt) <= channelCheckerDefaults.videosSeniority)\n      );\n    },\n  },\n});\n\nexport const {\n  setVideos,\n  addViewedVideo,\n  addWatchLaterVideo,\n  removeWatchLaterVideo,\n  clearWatchLaterList,\n  addNotifiedVideos,\n  removeOutdatedVideos,\n} = videosSlice.actions;\n\nexport default videosSlice.reducer;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\ninterface AppState {\n  loaded: boolean;\n}\n\nconst initialState: AppState = {\n  loaded: false,\n};\n\nexport const appSlice = createSlice({\n  name: 'settings',\n  initialState,\n  reducers: {\n    setApp: (state, action: PayloadAction<Partial<AppState>>) => {\n      return {\n        ...state,\n        ...action.payload,\n      };\n    },\n  },\n});\n\nexport const { setApp } = appSlice.actions;\n\nexport default appSlice.reducer;\n","//import { browser } from \"webextension-polyfill-ts\";\n\ndeclare var browser: any;\n\n/**\n * Get data from storage\n *\n * e.g.: get('key1', 'key2', ...)\n *\n * @param keys\n */\nasync function get(...keys: string[]) {\n  try {\n    const result = await browser.storage.local.get(keys);\n    return keys.length > 1 ? result : result[keys[0]];\n  } catch (error) {\n    const result: { [key: string]: string } = {};\n    for (const key of keys) {\n      const value = localStorage.getItem(key);\n      result[key] = parse(value);\n    }\n    return keys.length > 1 ? result : result[keys[0]];\n  }\n}\n\nfunction parse(value: string | null) {\n  if (!value) {\n    return value;\n  }\n  try {\n    return JSON.parse(value);\n  } catch (error) {\n    return value;\n  }\n}\n\n/**\n * Save data to storage\n *\n * e.g.: save({ key1: value1, key2: value2, ... })\n *\n * @param values\n */\nfunction save(values: { [key: string]: any }) {\n  try {\n    browser.storage.local.set(values);\n  } catch (error) {\n    const keys = Object.keys(values);\n    for (const key of keys) {\n      const value = stringify(values[key]);\n      localStorage.setItem(key, value);\n    }\n  }\n}\n\nfunction stringify(value: any) {\n  try {\n    return JSON.stringify(value);\n  } catch (error) {\n    return value;\n  }\n}\n\nconst storage = {\n  get,\n  save,\n};\n\nexport default storage;\n","import store, { RootState } from 'store';\nimport storage from 'helpers/storage';\nimport { setSettings } from './reducers/settings';\nimport { setChannels } from './reducers/channels';\nimport { setVideos } from './reducers/videos';\nimport { setApp } from './reducers/app';\nimport { AnyAction } from '@reduxjs/toolkit';\nimport { log } from 'helpers/logger';\n\nexport const storageKey = 'APP_YOUTUBE_VIEWER';\n\nlet canPersistState = true;\nlet prevSerializedState = '';\n\nexport const dispatch = (action: AnyAction, persist: boolean = false) => {\n  canPersistState = persist;\n  store.dispatch(action);\n};\n\nexport const preloadState = async () => {\n  const state = await storage.get(storageKey);\n  if (!state) {\n    // Handle backward compatibility with v0.6.x\n    const legacy = (await storage.get('settings', 'channels')) || {};\n    if (legacy.settings) {\n      const { apiKey } = legacy.settings;\n      if (apiKey) {\n        dispatch(setSettings({ apiKey }));\n      }\n    }\n    if (legacy.channels) {\n      dispatch(setChannels({ list: legacy.channels }));\n    }\n  } else {\n    // Load stored data\n    const { settings, channels, videos } = state || {};\n    if (settings) {\n      dispatch(setSettings(settings));\n    }\n    if (channels) {\n      dispatch(setChannels(channels));\n    }\n    if (videos) {\n      dispatch(setVideos(videos));\n    }\n  }\n  dispatch(setApp({ loaded: true }), !state);\n};\n\nexport const persistState = (state: RootState, onlyIfChanged?: boolean) => {\n  log('Persist state:', {\n    canPersistState,\n    state,\n  });\n  if (!canPersistState) {\n    canPersistState = true;\n    return;\n  }\n  const { settings, channels, videos } = state;\n  if (onlyIfChanged) {\n    const serializedState = JSON.stringify({ settings, channels, videos });\n    if (prevSerializedState === serializedState) {\n      log('State did not change!');\n      return;\n    }\n    prevSerializedState = serializedState;\n  }\n  storage.save({\n    [storageKey]: {\n      settings,\n      channels,\n      videos,\n    },\n  });\n};\n","import { configureStore } from '@reduxjs/toolkit';\nimport { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport settingsReducer from './reducers/settings';\nimport channelsReducer from './reducers/channels';\nimport videosReducer from './reducers/videos';\nimport appReducer from './reducers/app';\nimport { debounce } from 'helpers/utils';\nimport { youtubeApi } from './services/youtube';\nimport { preloadState, persistState } from './persist';\n\nconst store = configureStore({\n  reducer: {\n    settings: settingsReducer,\n    channels: channelsReducer,\n    videos: videosReducer,\n    app: appReducer,\n    [youtubeApi.reducerPath]: youtubeApi.reducer,\n  },\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware().concat(youtubeApi.middleware),\n});\n\nstore.subscribe(\n  debounce(() => {\n    persistState(store.getState());\n  }, 1000)\n);\n\n(async () => await preloadState())();\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\nexport { storageKey } from './persist';\n\nexport default store;\n","import type { RootState } from 'store';\nimport { createSelector } from 'reselect';\n\nexport const selectSettings = (state: RootState) => state.settings;\n\nexport const selectMode = createSelector(selectSettings, (settings) =>\n  settings.darkMode ? 'dark' : 'light'\n);\n","import type { RootState } from 'store';\n\nexport const selectApp = (state: RootState) => state.app;\n","import React from 'react';\nimport { Box, Typography, Link, List } from '@mui/material';\nimport ExploreIcon from '@mui/icons-material/Explore';\nimport SubscriptionsIcon from '@mui/icons-material/Subscriptions';\nimport SettingsIcon from '@mui/icons-material/Settings';\nimport InfoOutlinedIcon from '@mui/icons-material/InfoOutlined';\nimport ContactSupportIcon from '@mui/icons-material/ContactSupport';\nimport ListItemLink from './ListItemLink';\nimport Header from './Header';\nimport { useAppSelector } from 'store';\nimport { selectChannelsCount } from 'store/selectors/channels';\nimport { selectSettings } from 'store/selectors/settings';\nimport { selectApp } from 'store/selectors/app';\n\ninterface SidebarProps {}\n\nexport function Sidebar(props: SidebarProps) {\n  const app = useAppSelector(selectApp);\n  const channelsCount = useAppSelector(selectChannelsCount);\n  const settings = useAppSelector(selectSettings);\n\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        flexDirection: 'column',\n        minWidth: 280,\n        maxWidth: 280,\n        bgcolor: 'custom.lightGrey',\n        borderRight: 1,\n        borderColor: 'divider',\n      }}\n    >\n      <Box\n        sx={{\n          flexGrow: 1,\n          display: 'flex',\n          flexDirection: 'column',\n          py: 2.5,\n          pl: 3,\n        }}\n      >\n        <Box\n          sx={{\n            display: 'flex',\n            flexDirection: 'row',\n            alignItems: 'center',\n            marginBottom: 6,\n          }}\n        >\n          <Header showVersion />\n        </Box>\n        <Box sx={{ flexGrow: 1, paddingLeft: 1, width: '100%' }}>\n          <List component=\"nav\" aria-label=\"main\">\n            <ListItemLink icon={<ExploreIcon />} text=\"Home\" to=\"/\" />\n            <ListItemLink\n              icon={<SubscriptionsIcon />}\n              text=\"Channels\"\n              to=\"/channels\"\n              badge={channelsCount}\n            />\n            <ListItemLink\n              icon={<SettingsIcon />}\n              text=\"Settings\"\n              to=\"/settings\"\n              hasWarning={app.loaded && !settings.apiKey}\n            />\n            <ListItemLink\n              icon={<InfoOutlinedIcon />}\n              text=\"About\"\n              to=\"/about\"\n            />\n          </List>\n        </Box>\n      </Box>\n      <Box\n        sx={{\n          display: 'flex',\n          flexDirection: 'column',\n          py: 2,\n          px: 3,\n          borderTop: 1,\n          borderColor: 'divider',\n        }}\n      >\n        <Typography\n          sx={{ fontSize: '0.8rem', mb: 1 }}\n          variant=\"caption\"\n          color=\"text.secondary\"\n        >\n          Facing issues or have some feedback?\n        </Typography>\n        <Link\n          sx={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: 0.5,\n            fontSize: '0.8rem',\n            textDecoration: 'none',\n            '&:hover': {\n              textDecoration: 'underline',\n            },\n          }}\n          href=\"https://github.com/AXeL-dev/youtube-viewer/issues\"\n          target=\"_blank\"\n          color=\"secondary\"\n          rel=\"noopener\"\n        >\n          <ContactSupportIcon sx={{ fontSize: 18 }} />\n          Report a bug | Feedback\n        </Link>\n      </Box>\n    </Box>\n  );\n}\n","import React from 'react';\nimport { Box } from '@mui/material';\nimport { SxProps } from '@mui/system/styleFunctionSx';\nimport { Theme } from '@mui/material/styles';\n\ninterface LogoProps {\n  size: number;\n  sx?: SxProps<Theme>;\n}\n\nexport function Logo(props: LogoProps) {\n  const { size = 32, sx = {} } = props;\n\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        '> img': {\n          width: size,\n          height: size,\n          filter: 'contrast(150%) brightness(100%)',\n        },\n        ...sx,\n      }}\n    >\n      <img alt=\"logo\" src=\"icons/128.png\" />\n    </Box>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport MuiAlert, { AlertColor } from '@mui/material/Alert';\nimport { IconButton, Collapse } from '@mui/material';\nimport CloseIcon from '@mui/icons-material/Close';\n\ninterface AlertProps {\n  open?: boolean;\n  children?: React.ReactNode;\n  error?: any;\n  severity?: AlertColor;\n  closable?: boolean;\n  syncOpen?: boolean;\n  onClose?: () => void;\n}\n\nexport function Alert(props: AlertProps) {\n  const {\n    open: openProp = true,\n    error,\n    severity = 'error',\n    closable,\n    syncOpen,\n    onClose,\n  } = props;\n  const children = props.children || error?.data?.error.message || error?.error;\n  const [open, setOpen] = useState(openProp);\n\n  useEffect(() => {\n    if (syncOpen && openProp !== open) {\n      setOpen(openProp);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [openProp, syncOpen]);\n\n  const handleClose = () => {\n    setOpen(false);\n    if (onClose) {\n      onClose();\n    }\n  };\n\n  return (\n    <Collapse in={open}>\n      <MuiAlert\n        sx={{ borderRadius: 'unset' }}\n        severity={severity}\n        action={\n          closable ? (\n            <IconButton\n              aria-label=\"close\"\n              color=\"inherit\"\n              size=\"small\"\n              onClick={handleClose}\n            >\n              <CloseIcon fontSize=\"inherit\" />\n            </IconButton>\n          ) : null\n        }\n      >\n        {children}\n      </MuiAlert>\n    </Collapse>\n  );\n}\n","import React from 'react';\n\ninterface RawHTMLProps {\n  children: string;\n  tag?: string;\n  nl2br?: boolean;\n}\n\nexport const RawHTML = ({\n  children,\n  tag = 'span',\n  nl2br,\n  ...rest\n}: RawHTMLProps) =>\n  React.createElement(tag, {\n    dangerouslySetInnerHTML: {\n      __html: nl2br\n        ? children.replace\n          ? children.replace(/\\n/g, '<br />')\n          : children\n        : children,\n    },\n    ...rest,\n  });\n","import { styled } from '@mui/material/styles';\nimport InputBase from '@mui/material/InputBase';\n\nconst Input = styled(InputBase)(({ theme }) => ({\n  flexGrow: 1,\n  color: theme.palette.text.primary,\n  backgroundColor: theme.palette.custom.lightGrey,\n  border: `1px solid ${theme.palette.custom.lightBorder}`,\n  borderRadius: 20,\n  '& .MuiInputBase-input': {\n    padding: theme.spacing(1, 5, 1, 6),\n    width: '100%',\n  },\n}));\n\nexport default Input;\n","import React from 'react';\nimport { Box, IconButton } from '@mui/material';\nimport { debounce } from 'helpers/utils';\nimport SearchIcon from '@mui/icons-material/Search';\nimport CloseIcon from '@mui/icons-material/Close';\nimport Input from './Input';\n\ninterface SearchInputProps {\n  placeholder?: string;\n  width?: string | number;\n  clearable?: boolean;\n  debounceTime?: number;\n  onChange: (value: string) => void;\n  onClear?: () => void;\n}\n\nexport function SearchInput(props: SearchInputProps) {\n  const {\n    placeholder = 'Search…',\n    width: maxWidth,\n    clearable,\n    debounceTime = 300,\n    onChange,\n    onClear,\n  } = props;\n  const [value, setValue] = React.useState('');\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setValue(event.target.value);\n  };\n\n  const handleClear = () => {\n    setValue('');\n    if (onClear) {\n      onClear();\n    }\n  };\n\n  const handleKeyUp = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    if (event.key === 'Enter') {\n      onChange(value);\n    }\n  };\n\n  const debounceChange = React.useMemo(\n    () =>\n      debounce((value: string) => {\n        onChange(value);\n      }, debounceTime),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n\n  React.useEffect(() => {\n    if (value === '') {\n      return;\n    }\n\n    debounceChange(value);\n  }, [value, debounceChange]);\n\n  return (\n    <Box sx={{ position: 'relative', display: 'flex', flexGrow: 1, maxWidth }}>\n      <Box\n        sx={{\n          width: 48,\n          height: '100%',\n          position: 'absolute',\n          pointerEvents: 'none',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          color: 'action.active',\n          zIndex: 1,\n        }}\n      >\n        <SearchIcon />\n      </Box>\n      <Input\n        placeholder={placeholder}\n        inputProps={{ value, 'aria-label': 'search' }}\n        onChange={handleChange}\n        onKeyUp={handleKeyUp}\n      />\n      {clearable && value?.length > 0 ? (\n        <IconButton\n          sx={{\n            position: 'absolute',\n            right: 0,\n            top: 0,\n            my: 0.75,\n            mx: 1,\n            color: 'action.active',\n          }}\n          aria-label=\"clear\"\n          size=\"small\"\n          onClick={handleClear}\n        >\n          <CloseIcon fontSize=\"inherit\" />\n        </IconButton>\n      ) : null}\n    </Box>\n  );\n}\n","import { styled } from '@mui/material/styles';\nimport MuiLinearProgress, {\n  linearProgressClasses,\n} from '@mui/material/LinearProgress';\n\nconst LinearProgress = styled(MuiLinearProgress)(({ theme }) => ({\n  height: 3,\n  [`&.${linearProgressClasses.colorPrimary}`]: {\n    backgroundColor:\n      theme.palette.grey[theme.palette.mode === 'light' ? 200 : 800],\n  },\n  [`& .${linearProgressClasses.bar}`]: {\n    borderRadius: 5,\n    backgroundColor: theme.palette.mode === 'light' ? '#1a90ff' : '#308fe8',\n  },\n}));\n\nexport default LinearProgress;\n","import * as React from 'react';\nimport { Box, LinearProgressProps } from '@mui/material';\nimport LinearProgress from './LinearProgress';\n\nexport function ProgressBar(props: LinearProgressProps) {\n  const { variant = 'determinate', value = 0 } = props;\n  return (\n    <Box sx={{ flexGrow: 1 }}>\n      <LinearProgress variant={variant} value={value} />\n    </Box>\n  );\n}\n","import { styled } from '@mui/material/styles';\nimport MuiBadge from '@mui/material/Badge';\n\nconst Badge = styled(MuiBadge)(({ theme }) => ({\n  '& .MuiBadge-badge': {\n    position: 'relative',\n    transform: 'none',\n    backgroundColor: theme.palette.primary.main,\n    color: theme.palette.common.white,\n    minWidth: 20,\n    height: 20,\n    fontSize: '0.75rem',\n    marginLeft: theme.spacing(1.5),\n    borderRadius: theme.spacing(1.5),\n  },\n}));\n\nexport default Badge;\n","import React from 'react';\nimport { Box } from '@mui/material';\nimport MuiTab, { TabProps as MuiTabProps } from '@mui/material/Tab';\nimport Badge from './Badge';\n\ninterface TabProps extends MuiTabProps {\n  badge?: React.ReactNode;\n  selected?: boolean;\n}\n\nexport default function Tab(props: TabProps) {\n  const { label, badge, selected, ...rest } = props;\n\n  return (\n    <MuiTab\n      sx={{\n        fontSize: '0.975rem',\n        fontWeight: 400,\n        minWidth: 140,\n        textTransform: 'capitalize',\n      }}\n      label={\n        <Box sx={{ display: 'flex', alignItems: 'center' }}>\n          {label}\n          {badge && selected ? <Badge badgeContent={badge} /> : null}\n        </Box>\n      }\n      disableRipple\n      {...rest}\n    />\n  );\n}\n","import React, { MouseEvent } from 'react';\nimport { IconButton } from '@mui/material';\nimport CloseIcon from '@mui/icons-material/Close';\n\ninterface CloseButtonProps {\n  onClick: (event: MouseEvent) => void;\n}\n\nexport default function CloseButton(props: CloseButtonProps) {\n  const { onClick } = props;\n\n  return (\n    <IconButton\n      sx={{\n        position: 'absolute',\n        top: (theme) => theme.spacing(-1.75),\n        right: (theme) => theme.spacing(-1.75),\n        bgcolor: 'primary.main',\n        color: 'common.white',\n        fontSize: '1.275rem',\n        '&:hover': {\n          bgcolor: 'primary.main',\n          color: 'common.white',\n        },\n      }}\n      size=\"small\"\n      onClick={onClick}\n    >\n      <CloseIcon fontSize=\"inherit\" />\n    </IconButton>\n  );\n}\n","import React, { MouseEvent } from 'react';\nimport YouTube, { PlayerVars } from 'react-youtube';\nimport { Dialog, DialogContent } from '@mui/material';\nimport { Video } from 'types';\nimport { noop } from 'helpers/utils';\nimport { useAppSelector } from 'store';\nimport { selectSettings } from 'store/selectors/settings';\nimport CloseButton from './CloseButton';\n\ninterface VideoPlayerDialogProps {\n  open: boolean;\n  video: Video | null;\n  onClose: () => void;\n}\n\nfunction VideoPlayerDialog(props: VideoPlayerDialogProps) {\n  const { open, video, onClose } = props;\n  const settings = useAppSelector(selectSettings);\n  const opts = {\n    height: '100%',\n    width: '100%',\n    playerVars: {\n      // https://developers.google.com/youtube/player_parameters\n      autoplay: settings.autoPlayVideos ? 1 : 0,\n    } as PlayerVars,\n  };\n\n  const handleClose = (event: MouseEvent, reason?: string) => {\n    if (reason === 'backdropClick') {\n      return noop(event);\n    }\n    onClose();\n  };\n\n  return (\n    <Dialog\n      sx={{\n        '& .MuiPaper-root': {\n          overflow: 'visible',\n          width: '80%',\n          maxWidth: 1200,\n          height: '80%',\n        },\n      }}\n      open={open}\n      onClose={handleClose}\n    >\n      <CloseButton onClick={handleClose} />\n      <DialogContent\n        sx={{\n          display: 'flex',\n          p: 2.5,\n          '> div': {\n            flexGrow: 1,\n          },\n        }}\n      >\n        {video ? <YouTube videoId={video.id} opts={opts} /> : null}\n      </DialogContent>\n    </Dialog>\n  );\n}\n\nfunction propsAreEqual(\n  prevProps: VideoPlayerDialogProps,\n  nextProps: VideoPlayerDialogProps\n) {\n  return (\n    prevProps.open === nextProps.open &&\n    prevProps.video?.id === nextProps.video?.id\n  );\n}\n\nexport default React.memo(VideoPlayerDialog, propsAreEqual);\n","import React from 'react';\nimport { Link } from '@mui/material';\nimport { Channel } from 'types';\n\ninterface ChannelLinkProps {\n  channel: Channel;\n  children: React.ReactNode;\n}\n\nfunction ChannelLink(props: ChannelLinkProps) {\n  const { channel, children } = props;\n\n  return (\n    <Link\n      sx={{ outline: 'none', textDecoration: 'none' }}\n      href={channel.url}\n      target=\"_blank\"\n      rel=\"noopener\"\n    >\n      {children}\n    </Link>\n  );\n}\n\nexport default ChannelLink;\n","import React from 'react';\nimport { Box, Avatar, Typography } from '@mui/material';\nimport { Channel } from 'types';\nimport ChannelLink from './ChannelLink';\n\ninterface ChannelTitleProps {\n  channel: Channel;\n}\n\nfunction ChannelTitle(props: ChannelTitleProps) {\n  const { channel } = props;\n\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        alignItems: 'center',\n        pb: 2,\n      }}\n    >\n      <ChannelLink channel={channel}>\n        <Avatar alt={channel.title} src={channel.thumbnail} />\n      </ChannelLink>\n      <ChannelLink channel={channel}>\n        <Typography sx={{ ml: 1.5 }} variant=\"subtitle1\" color=\"text.primary\">\n          {channel.title}\n        </Typography>\n      </ChannelLink>\n    </Box>\n  );\n}\n\nfunction propsAreEqual(\n  prevProps: ChannelTitleProps,\n  nextProps: ChannelTitleProps\n) {\n  return prevProps.channel.id === nextProps.channel.id;\n}\n\nexport default React.memo(ChannelTitle, propsAreEqual);\n","import React from 'react';\nimport { IconButton, Tooltip } from '@mui/material';\nimport WatchLaterOutlinedIcon from '@mui/icons-material/WatchLaterOutlined';\nimport CloseIcon from '@mui/icons-material/Close';\nimport { HomeView, Video } from 'types';\nimport { useAppDispatch, useAppSelector } from 'store';\nimport {\n  addWatchLaterVideo,\n  removeWatchLaterVideo,\n} from 'store/reducers/videos';\nimport { selectVideoMeta } from 'store/selectors/videos';\n\ninterface WatchLaterActionProps {\n  video: Video;\n  view: HomeView;\n}\n\nfunction WatchLaterAction(props: WatchLaterActionProps) {\n  const { video, view } = props;\n  const { isToWatchLater } = useAppSelector(selectVideoMeta(video));\n  const dispatch = useAppDispatch();\n\n  return !isToWatchLater ? (\n    <Tooltip title=\"Watch later\" aria-label=\"watch-later\">\n      <IconButton\n        sx={{\n          display: 'flex',\n          position: 'absolute',\n          top: 0,\n          right: 0,\n          margin: '4px',\n          color: '#eee',\n          backgroundColor: 'rgba(0, 0, 0, 0.8)',\n          padding: '4px',\n          borderRadius: '2px',\n          '&:hover': {\n            color: '#fff',\n          },\n        }}\n        size=\"small\"\n        onClick={() => {\n          dispatch(addWatchLaterVideo(video));\n        }}\n      >\n        <WatchLaterOutlinedIcon sx={{ fontSize: '1.25rem' }} />\n      </IconButton>\n    </Tooltip>\n  ) : view === HomeView.WatchLater ? (\n    <Tooltip title=\"Remove\" aria-label=\"remove-from-watch-later\">\n      <IconButton\n        sx={{\n          display: 'flex',\n          position: 'absolute',\n          top: 0,\n          right: 0,\n          margin: '4px',\n          color: '#eee',\n          backgroundColor: 'rgba(0, 0, 0, 0.8)',\n          padding: '4px',\n          borderRadius: '2px',\n          '&:hover': {\n            color: '#fff',\n          },\n        }}\n        size=\"small\"\n        onClick={() => {\n          dispatch(removeWatchLaterVideo(video));\n        }}\n      >\n        <CloseIcon sx={{ fontSize: '1.125rem' }} />\n      </IconButton>\n    </Tooltip>\n  ) : null;\n}\n\nfunction propsAreEqual(\n  prevProps: WatchLaterActionProps,\n  nextProps: WatchLaterActionProps\n) {\n  return (\n    prevProps.view === nextProps.view &&\n    prevProps.video.id === nextProps.video.id\n  );\n}\n\nexport default React.memo(WatchLaterAction, propsAreEqual);\n","import React from 'react';\nimport { Box, Tooltip } from '@mui/material';\nimport VisibilityIcon from '@mui/icons-material/Visibility';\nimport { Video } from 'types';\nimport { useAppSelector } from 'store';\nimport { selectVideoMeta } from 'store/selectors/videos';\n\ninterface ViewedBadgeProps {\n  video: Video;\n}\n\nfunction ViewedBadge(props: ViewedBadgeProps) {\n  const { video } = props;\n  const { isViewed } = useAppSelector(selectVideoMeta(video));\n\n  return isViewed ? (\n    <Tooltip title=\"Viewed\" aria-label=\"viewed\">\n      <Box\n        sx={{\n          display: 'flex',\n          position: 'absolute',\n          bottom: 0,\n          left: 0,\n          margin: '4px',\n          color: '#eee',\n          backgroundColor: 'rgba(0, 0, 0, 0.8)',\n          padding: '3px 5px',\n          borderRadius: '2px',\n          '&:hover': {\n            color: '#fff',\n          },\n        }}\n      >\n        <VisibilityIcon sx={{ fontSize: '1rem' }} />\n      </Box>\n    </Tooltip>\n  ) : null;\n}\n\nfunction propsAreEqual(\n  prevProps: ViewedBadgeProps,\n  nextProps: ViewedBadgeProps\n) {\n  return prevProps.video.id === nextProps.video.id;\n}\n\nexport default React.memo(ViewedBadge, propsAreEqual);\n","import React, { MouseEvent } from 'react';\nimport { Box, IconButton, Tooltip, Typography, Link } from '@mui/material';\nimport OpenInNewIcon from '@mui/icons-material/OpenInNew';\nimport PlayArrowIcon from '@mui/icons-material/PlayArrow';\nimport { HomeView, Video } from 'types';\nimport { useAppDispatch } from 'store';\nimport { addViewedVideo } from 'store/reducers/videos';\nimport WatchLaterAction from './WatchLaterAction';\nimport ViewedBadge from './ViewedBadge';\nimport { createTab, isWebExtension } from 'helpers/webext';\n\ninterface VideoCardProps {\n  video: Video;\n  view: HomeView;\n  thumbnailWidth?: number;\n  thumbnailHeight?: number;\n  onVideoPlay: (video: Video) => void;\n}\n\nfunction VideoCard(props: VideoCardProps) {\n  const {\n    video,\n    view,\n    thumbnailWidth = '100%',\n    thumbnailHeight = 120,\n    onVideoPlay,\n  } = props;\n  const dispatch = useAppDispatch();\n\n  return (\n    <>\n      <Box\n        sx={{\n          position: 'relative',\n          '&:hover .overlay': {\n            opacity: 1,\n          },\n          '&:hover .options': {\n            opacity: 1,\n          },\n        }}\n      >\n        <Box\n          sx={{\n            display: 'flex',\n            width: thumbnailWidth,\n            height: thumbnailHeight,\n            backgroundImage: `url(\"${video.thumbnail}\")`,\n            //backgroundPosition: 'center',\n            backgroundRepeat: 'no-repeat',\n            backgroundSize: 'cover',\n          }}\n        />\n        <Box\n          sx={{\n            backgroundColor: 'rgba(0, 0, 0, 0.7)',\n            position: 'absolute',\n            height: '100%',\n            width: '100%',\n            left: 0,\n            top: 0,\n            bottom: 0,\n            right: 0,\n            opacity: 0,\n            transition: 'opacity 0.4s ease-in-out 0s',\n          }}\n          className=\"overlay\"\n        ></Box>\n        <Box\n          sx={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            opacity: 0,\n            width: '100%',\n            height: '100%',\n            transition: 'opacity 0.3s ease-in-out 0s',\n          }}\n          className=\"options\"\n        >\n          <Box\n            sx={{\n              position: 'absolute',\n              top: '50%',\n              left: '50%',\n              transform: 'translate(-50%, -50%)',\n              width: '100%',\n              textAlign: 'center',\n              paddingLeft: '1rem',\n              paddingRight: '1rem',\n            }}\n          >\n            <Link\n              sx={{ textDecoration: 'none', outline: 'none' }}\n              href={video.url}\n              target=\"_blank\"\n              rel=\"noopener\"\n              onClick={(event: MouseEvent) => {\n                if (isWebExtension) {\n                  event.preventDefault();\n                  createTab(video.url, false);\n                }\n                dispatch(addViewedVideo(video));\n              }}\n            >\n              <IconButton sx={{ color: '#fff', margin: 0.5 }} size=\"small\">\n                <Tooltip title=\"Open in Youtube\" aria-label=\"watch-later\">\n                  <OpenInNewIcon sx={{ fontSize: '1.5rem' }} />\n                </Tooltip>\n              </IconButton>\n            </Link>\n            <IconButton\n              sx={{ color: '#fff', margin: 0.5 }}\n              size=\"small\"\n              onClick={() => {\n                onVideoPlay(video);\n                dispatch(addViewedVideo(video));\n              }}\n            >\n              <Tooltip title=\"Watch\" aria-label=\"watch\">\n                <PlayArrowIcon sx={{ fontSize: '2.1rem' }} />\n              </Tooltip>\n            </IconButton>\n          </Box>\n          <WatchLaterAction video={video} view={view} />\n        </Box>\n        <ViewedBadge video={video} />\n        <Typography\n          sx={{\n            position: 'absolute',\n            bottom: 0,\n            right: 0,\n            margin: '4px',\n            color: '#fff',\n            backgroundColor: 'rgba(0, 0, 0, 0.8)',\n            padding: '2px 4px',\n            borderRadius: '2px',\n          }}\n          variant=\"caption\"\n        >\n          {video.duration}\n        </Typography>\n      </Box>\n      <Box pr={2} mt={1}>\n        <Tooltip\n          title={video.title}\n          enterDelay={700}\n          enterNextDelay={700}\n          aria-label=\"video-title\"\n        >\n          <Typography\n            sx={{\n              display: '-webkit-box',\n              WebkitLineClamp: 2,\n              WebkitBoxOrient: 'vertical',\n              overflow: 'hidden',\n            }}\n            gutterBottom\n            variant=\"body2\"\n          >\n            {video.title}\n          </Typography>\n        </Tooltip>\n        <Typography display=\"block\" variant=\"caption\" color=\"textSecondary\">\n          {video.channelTitle}\n        </Typography>\n        <Typography variant=\"caption\" color=\"textSecondary\">\n          {`${video.views} • ${video.publishedSince}`}\n        </Typography>\n      </Box>\n    </>\n  );\n}\n\nfunction propsAreEqual(prevProps: VideoCardProps, nextProps: VideoCardProps) {\n  return (\n    prevProps.view === nextProps.view &&\n    prevProps.thumbnailHeight === nextProps.thumbnailHeight &&\n    prevProps.thumbnailWidth === nextProps.thumbnailWidth &&\n    prevProps.video.id === nextProps.video.id\n  );\n}\n\nexport default React.memo(VideoCard, propsAreEqual);\n","import React from 'react';\nimport { Skeleton, Box } from '@mui/material';\n\ninterface VideoSkeletonProps {\n  width?: string | number;\n  height?: string | number;\n}\n\nexport default function VideoSkeleton(props: VideoSkeletonProps) {\n  const { width = '100%', height = 120 } = props;\n\n  return (\n    <>\n      <Skeleton variant=\"rectangular\" width={width} height={height} />\n      <Box pt={0.5}>\n        <Skeleton />\n        <Skeleton width=\"60%\" />\n      </Box>\n    </>\n  );\n}\n","import React from 'react';\nimport { Grid, GridProps } from '@mui/material';\n\ninterface GridItemProps extends GridProps {}\n\nexport default function GridItem(props: GridItemProps) {\n  const { children, ...rest } = props;\n  const sizes = {\n    xxs: 1,\n    xs: 1,\n    sm: 1,\n    md: 1,\n    lg: 1,\n    xl: 1,\n  } as any;\n\n  return (\n    <Grid item {...sizes} {...rest}>\n      {children}\n    </Grid>\n  );\n}\n","const config = {\n  gridSpacing: { xxs: 1, sm: 2 },\n  gridColumns: { xxs: 1, xs: 2, sm: 3, md: 4, lg: 5, xl: 6 },\n};\n\nexport default config;\n","import React from 'react';\nimport { Box, IconButton } from '@mui/material';\nimport ArrowForwardIosIcon from '@mui/icons-material/ArrowForwardIos';\n\ninterface LoadMoreProps {\n  isLoading: boolean;\n  hasMore?: boolean;\n  onClick?: () => void;\n}\n\nexport default function LoadMore(props: LoadMoreProps) {\n  const { isLoading, hasMore, onClick } = props;\n\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'flex-end',\n        minWidth: (theme) => theme.spacing(3.5),\n        ml: 2,\n        gap: 2,\n      }}\n    >\n      {hasMore ? (\n        <IconButton\n          sx={{ height: 216, borderRadius: 0 }}\n          disabled={isLoading}\n          size=\"small\"\n          onClick={onClick}\n        >\n          <ArrowForwardIosIcon fontSize=\"inherit\" />\n        </IconButton>\n      ) : null}\n    </Box>\n  );\n}\n","import React from 'react';\nimport { Box, Grid } from '@mui/material';\nimport { HomeView, Video } from 'types';\nimport VideoCard from './VideoCard';\nimport VideoSkeleton from './VideoSkeleton';\nimport GridItem from './GridItem';\nimport config from './config';\nimport LoadMore from './LoadMore';\n\ninterface ChannelVideosProps {\n  videos: Video[];\n  view: HomeView;\n  isLoading: boolean;\n  itemsPerRow: number;\n  maxResults: number;\n  hasMore?: boolean;\n  onVideoPlay: (video: Video) => void;\n  onLoadMore?: () => void;\n}\n\nfunction ChannelVideos(props: ChannelVideosProps) {\n  const {\n    videos,\n    view,\n    isLoading,\n    itemsPerRow,\n    maxResults,\n    hasMore,\n    onVideoPlay,\n    onLoadMore,\n  } = props;\n  const skeletonNumber = Math.min(maxResults - videos.length, itemsPerRow);\n\n  return (\n    <Box sx={{ display: 'flex', pl: 6 }}>\n      <Grid container spacing={config.gridSpacing} columns={config.gridColumns}>\n        {videos.map((video: Video, index: number) => (\n          <GridItem key={index}>\n            <VideoCard video={video} view={view} onVideoPlay={onVideoPlay} />\n          </GridItem>\n        ))}\n        {isLoading && skeletonNumber > 0\n          ? Array.from(new Array(skeletonNumber)).map((_, index: number) => (\n              <GridItem key={index}>\n                <VideoSkeleton />\n              </GridItem>\n            ))\n          : null}\n      </Grid>\n      <LoadMore isLoading={isLoading} hasMore={hasMore} onClick={onLoadMore} />\n    </Box>\n  );\n}\n\nexport default ChannelVideos;\n","import React from 'react';\nimport { Box } from '@mui/material';\nimport { Channel, HomeView, Video } from 'types';\nimport ChannelTitle from './ChannelTitle';\nimport ChannelVideos from './ChannelVideos';\n\nexport interface ChannelRendererProps {\n  view: HomeView;\n  channel: Channel;\n  videos: Video[];\n  total: number;\n  isLoading: boolean;\n  itemsPerRow: number;\n  maxResults: number;\n  onLoadMore: () => void;\n  onVideoPlay: (video: Video) => void;\n}\n\nfunction ChannelRenderer(props: ChannelRendererProps) {\n  const { channel, videos, total, isLoading, maxResults, ...rest } = props;\n  const hasVideos = isLoading || videos.length > 0;\n  const canLoadMore = total > maxResults;\n  const hasMore =\n    videos.length > 0 && ((isLoading && canLoadMore) || canLoadMore);\n\n  return hasVideos ? (\n    <Box\n      sx={{\n        display: 'flex',\n        flexDirection: 'column',\n        pb: 3,\n      }}\n    >\n      <ChannelTitle channel={channel} />\n      <ChannelVideos\n        videos={videos}\n        isLoading={isLoading}\n        maxResults={maxResults}\n        hasMore={hasMore}\n        {...rest}\n      />\n    </Box>\n  ) : null;\n}\n\nfunction propsAreEqual(\n  prevProps: ChannelRendererProps,\n  nextProps: ChannelRendererProps\n) {\n  return (\n    prevProps.view === nextProps.view &&\n    prevProps.channel.id === nextProps.channel.id &&\n    prevProps.total === nextProps.total &&\n    prevProps.isLoading === nextProps.isLoading &&\n    prevProps.itemsPerRow === nextProps.itemsPerRow &&\n    prevProps.maxResults === nextProps.maxResults &&\n    JSON.stringify(prevProps.videos.map(({ id }) => id)) ===\n      JSON.stringify(nextProps.videos.map(({ id }) => id))\n  );\n}\n\nexport default React.memo(ChannelRenderer, propsAreEqual);\n","import React, { useState, useEffect } from 'react';\nimport { Channel, HomeView, Video } from 'types';\nimport { useGetChannelVideosQuery } from 'store/services/youtube';\nimport ChannelRenderer from './ChannelRenderer';\nimport config from './ChannelVideos/config';\nimport { useGrid } from 'hooks';\n\nexport interface DefaultRendererProps {\n  channel: Channel;\n  view: HomeView;\n  publishedAfter?: string;\n  excludedVideosIds?: string[];\n  onError?: (error: any) => void;\n  onChange?: (data: any) => void;\n  onVideoPlay: (video: Video) => void;\n}\n\nfunction DefaultRenderer(props: DefaultRendererProps) {\n  const {\n    channel,\n    publishedAfter,\n    excludedVideosIds = [],\n    onError,\n    onChange,\n    ...rest\n  } = props;\n  const [page, setPage] = useState(1);\n  const { itemsPerRow = 0 } = useGrid(config.gridColumns);\n  const maxResults = itemsPerRow * page;\n  const { data, error, isLoading, isFetching } = useGetChannelVideosQuery(\n    {\n      channel,\n      publishedAfter,\n      maxResults,\n    },\n    {\n      skip: itemsPerRow === 0,\n    }\n  );\n  const videos =\n    data?.items.filter((video) => !excludedVideosIds.includes(video.id)) || [];\n  const total = data?.total || 0;\n\n  const handleLoadMore = () => {\n    setPage(page + 1);\n  };\n\n  useEffect(() => {\n    if (error && onError) {\n      onError(error);\n    }\n  }, [error, onError]);\n\n  useEffect(() => {\n    if (!isFetching && data && onChange) {\n      onChange({ channel, items: videos, total });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isFetching, onChange, videos]);\n\n  return (\n    <ChannelRenderer\n      channel={channel}\n      videos={videos}\n      total={total}\n      isLoading={isLoading || isFetching}\n      itemsPerRow={itemsPerRow}\n      maxResults={maxResults}\n      onLoadMore={handleLoadMore}\n      {...rest}\n    />\n  );\n}\n\nexport default DefaultRenderer;\n","import React, { useMemo } from 'react';\nimport { useAppSelector } from 'store';\nimport { selectSettings } from 'store/selectors/settings';\nimport { getDateBefore } from 'helpers/utils';\nimport DefaultRenderer, { DefaultRendererProps } from './DefaultRenderer';\nimport { selectChannelVideos } from 'store/selectors/videos';\n\nexport interface RecentViewRendererProps\n  extends Omit<DefaultRendererProps, 'publishedAfter'> {}\n\nfunction RecentViewRenderer(props: RecentViewRendererProps) {\n  const { channel } = props;\n  const settings = useAppSelector(selectSettings);\n  const videos = useAppSelector(selectChannelVideos(channel));\n  const { hideViewedVideos, hideWatchLaterVideos } =\n    settings.recentVideosDisplayOptions;\n  const excludedVideosIds = useMemo(\n    () => [\n      ...(hideViewedVideos\n        ? videos.filter(({ isViewed }) => isViewed).map(({ id }) => id)\n        : []),\n      ...(hideWatchLaterVideos\n        ? videos\n            .filter(({ isToWatchLater }) => isToWatchLater)\n            .map(({ id }) => id)\n        : []),\n    ],\n    [videos, hideViewedVideos, hideWatchLaterVideos]\n  );\n  const publishedAfter = getDateBefore(\n    settings.recentVideosSeniority\n  ).toISOString();\n\n  return (\n    <DefaultRenderer\n      publishedAfter={publishedAfter}\n      excludedVideosIds={excludedVideosIds}\n      {...props}\n    />\n  );\n}\n\nexport default RecentViewRenderer;\n","import React, { useState, useEffect } from 'react';\nimport { Channel, HomeView, Video } from 'types';\nimport { useGetVideosByIdQuery } from 'store/services/youtube';\nimport { useAppSelector } from 'store';\nimport { selectWatchLaterVideos } from 'store/selectors/videos';\nimport ChannelRenderer from './ChannelRenderer';\nimport config from './ChannelVideos/config';\nimport { useGrid } from 'hooks';\n\nexport interface WatchLaterViewRendererProps {\n  channel: Channel;\n  onError?: (error: any) => void;\n  onVideoPlay: (video: Video) => void;\n}\n\nfunction WatchLaterViewRenderer(props: WatchLaterViewRendererProps) {\n  const { channel, onError, onVideoPlay } = props;\n  const [page, setPage] = useState(1);\n  const { itemsPerRow = 0 } = useGrid(config.gridColumns);\n  const watchLaterVideos = useAppSelector(selectWatchLaterVideos(channel));\n  const ids = watchLaterVideos.map(({ id }) => id);\n  const total = ids.length;\n  const maxResults = Math.min(total, itemsPerRow * page);\n  const { data, error, isLoading, isFetching } = useGetVideosByIdQuery(\n    {\n      ids,\n      maxResults: Math.max(maxResults, itemsPerRow),\n    },\n    {\n      skip: itemsPerRow === 0,\n    }\n  );\n  const videos = (data?.items || []).filter((video) => ids.includes(video.id)); // filter deleted videos (before refetch)\n\n  const handleLoadMore = () => {\n    setPage(page + 1);\n  };\n\n  useEffect(() => {\n    if (error && onError) {\n      onError(error);\n    }\n  }, [error, onError]);\n\n  return (\n    <ChannelRenderer\n      view={HomeView.WatchLater}\n      channel={channel}\n      videos={videos}\n      total={total}\n      isLoading={isLoading || isFetching}\n      itemsPerRow={itemsPerRow}\n      maxResults={maxResults}\n      onLoadMore={handleLoadMore}\n      onVideoPlay={onVideoPlay}\n    />\n  );\n}\n\nexport default WatchLaterViewRenderer;\n","import React, { useMemo } from 'react';\nimport { Box } from '@mui/material';\nimport { Channel, HomeView, Video } from 'types';\nimport {\n  DefaultRenderer,\n  RecentViewRenderer,\n  WatchLaterViewRenderer,\n} from './ChannelRenderer';\n\ninterface ChannelsWrapperProps {\n  view: HomeView;\n  channels: Channel[];\n  onError?: (error: any) => void;\n  onChange?: (data: any) => void;\n  onVideoPlay: (video: Video) => void;\n}\n\nfunction ChannelsWrapper(props: ChannelsWrapperProps) {\n  const { view, channels, onError, onChange, onVideoPlay } = props;\n  const ChannelRenderer = useMemo(() => {\n    switch (view) {\n      case HomeView.WatchLater:\n        return WatchLaterViewRenderer;\n      case HomeView.Recent:\n        return RecentViewRenderer;\n      default:\n        return DefaultRenderer;\n    }\n  }, [view]);\n\n  return (\n    <Box\n      sx={{\n        flexGrow: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        overflow: 'auto',\n        px: 3,\n        pt: 3,\n      }}\n    >\n      {channels.map((channel: Channel, index: number) => (\n        <ChannelRenderer\n          key={index}\n          view={view}\n          channel={channel}\n          onError={onError}\n          onChange={onChange}\n          onVideoPlay={onVideoPlay}\n        />\n      ))}\n    </Box>\n  );\n}\n\nfunction propsAreEqual(\n  prevProps: ChannelsWrapperProps,\n  nextProps: ChannelsWrapperProps\n) {\n  return (\n    prevProps.view === nextProps.view &&\n    JSON.stringify(prevProps.channels.map(({ id }) => id)) ===\n      JSON.stringify(nextProps.channels.map(({ id }) => id))\n  );\n}\n\nexport default React.memo(ChannelsWrapper, propsAreEqual);\n","import React from 'react';\nimport { Box, Typography, Button } from '@mui/material';\nimport { useHistory } from 'react-router-dom';\nimport PlaylistAddCheckIcon from '@mui/icons-material/PlaylistAddCheck';\nimport { useAppSelector } from 'store';\nimport { selectApp } from 'store/selectors/app';\n\ninterface NoChannelsProps {}\n\nexport default function NoChannels(props: NoChannelsProps) {\n  const app = useAppSelector(selectApp);\n  const history = useHistory();\n\n  return app.loaded ? (\n    <Box\n      sx={{\n        flexGrow: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n      }}\n    >\n      <Typography\n        sx={{ textAlign: 'center', fontSize: '1.125rem', mb: 2 }}\n        variant=\"body1\"\n        color=\"text.secondary\"\n      >\n        Welcome, stranger! To get started, you should add some channels\n      </Typography>\n      <Button\n        sx={{ textTransform: 'capitalize' }}\n        variant=\"contained\"\n        color=\"secondary\"\n        onClick={() => {\n          history.push('/channels');\n        }}\n      >\n        <PlaylistAddCheckIcon sx={{ fontSize: '1.25rem', mr: 0.5 }} />\n        Add channels\n      </Button>\n    </Box>\n  ) : null;\n}\n","import React, { useState, useRef } from 'react';\nimport { Alert } from 'ui/components/shared';\nimport { Channel, HomeView, Video } from 'types';\nimport { useAppSelector } from 'store';\nimport { selectActiveChannels } from 'store/selectors/channels';\nimport { GetChannelVideosResponse } from 'store/services/youtube';\nimport VideoPlayerDialog from './VideoPlayerDialog';\nimport ChannelsWrapper from './ChannelsWrapper';\nimport NoChannels from './NoChannels';\n\ninterface ChannelData extends GetChannelVideosResponse {\n  channel: Channel;\n}\n\nexport interface RecentVideosCount {\n  displayed: number;\n  total: number;\n}\n\ninterface TabPanelProps {\n  tab: HomeView;\n  onCountChange?: (tab: HomeView, count: RecentVideosCount) => void;\n}\n\nfunction TabPanel(props: TabPanelProps) {\n  const { tab, onCountChange } = props;\n  const [error, setError] = useState(null);\n  const [activeVideo, setActiveVideo] = useState<Video | null>(null);\n  const channels = useAppSelector(selectActiveChannels);\n  const channelsData = useRef<ChannelData[]>([]);\n\n  const handleVideoPlay = (video: Video) => {\n    setActiveVideo(video);\n  };\n\n  const handleVideoDialogClose = () => {\n    setActiveVideo(null);\n  };\n\n  const handleError = (err: any) => {\n    setError(err);\n  };\n\n  const handleChange = (data: ChannelData) => {\n    if (onCountChange) {\n      channelsData.current.push(data);\n      if (channelsData.current.length === channels.length) {\n        const count = channelsData.current.reduce(\n          (acc, cur) => ({\n            displayed: acc.displayed + (cur.items?.length || 0),\n            total: acc.total + (cur.total || 0),\n          }),\n          { displayed: 0, total: 0 }\n        );\n        onCountChange(tab, count);\n        channelsData.current = [];\n      }\n    }\n  };\n\n  return error ? (\n    <Alert error={error} closable />\n  ) : (\n    <>\n      {channels.length > 0 ? (\n        <ChannelsWrapper\n          view={tab}\n          channels={channels}\n          onError={handleError}\n          onChange={handleChange}\n          onVideoPlay={handleVideoPlay}\n        />\n      ) : (\n        <NoChannels />\n      )}\n      <VideoPlayerDialog\n        open={!!activeVideo}\n        video={activeVideo}\n        onClose={handleVideoDialogClose}\n      />\n    </>\n  );\n}\n\nexport default React.memo(TabPanel);\n","import React from 'react';\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n} from '@mui/material';\n\nexport interface ConfirmationDialogProps {\n  open: boolean;\n  title: string;\n  text: string;\n  onClose: (confirmed?: boolean) => void;\n}\n\nfunction ConfirmationDialog(props: ConfirmationDialogProps) {\n  const { open, title, text, onClose } = props;\n\n  const handleConfirm = () => {\n    onClose(true);\n  };\n\n  const handleClose = () => {\n    onClose(false);\n  };\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <DialogContent>\n        <DialogTitle sx={{ px: 0, pt: 0 }}>{title}</DialogTitle>\n        <DialogContentText>{text}</DialogContentText>\n      </DialogContent>\n      <DialogActions sx={{ px: 2, pb: 2 }}>\n        <Button color=\"inherit\" onClick={handleClose} autoFocus>\n          Cancel\n        </Button>\n        <Button color=\"primary\" variant=\"contained\" onClick={handleConfirm}>\n          Confirm\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nfunction propsAreEqual(\n  prevProps: ConfirmationDialogProps,\n  nextProps: ConfirmationDialogProps\n) {\n  return prevProps.open === nextProps.open;\n}\n\nexport default React.memo(ConfirmationDialog, propsAreEqual);\n","import React, { useState } from 'react';\nimport { Fade, IconButton, Tooltip } from '@mui/material';\nimport { useAppDispatch, useAppSelector } from 'store';\nimport ClearAllIcon from '@mui/icons-material/ClearAll';\nimport { clearWatchLaterList } from 'store/reducers/videos';\nimport { selectViewedWatchLaterVideosCount } from 'store/selectors/videos';\nimport ConfirmationDialog, {\n  ConfirmationDialogProps,\n} from './ConfirmationDialog';\n\ninterface WatchLaterViewActionsProps {}\n\nfunction WatchLaterViewActions(props: WatchLaterViewActionsProps) {\n  const viewedCount = useAppSelector(selectViewedWatchLaterVideosCount);\n  const dispatch = useAppDispatch();\n  const [confirmationDialogProps, setConfirmationDialogProps] =\n    useState<ConfirmationDialogProps>({\n      open: false,\n      title: '',\n      text: '',\n      onClose: () => {},\n    });\n\n  const handleRemoveViewed = () => {\n    setConfirmationDialogProps({\n      open: true,\n      title: 'Remove all viewed videos',\n      text: 'Are you sure that you want to remove all viewed videos from the watch later list?',\n      onClose: (confirmed) => {\n        if (confirmed) {\n          dispatch(clearWatchLaterList());\n        }\n        setConfirmationDialogProps((state) => ({\n          ...state,\n          open: false,\n        }));\n      },\n    });\n  };\n\n  return (\n    <>\n      <Fade in={viewedCount > 0}>\n        <Tooltip title=\"Remove all viewed videos\" placement=\"left\" arrow>\n          <IconButton aria-label=\"remove-viewed\" onClick={handleRemoveViewed}>\n            <ClearAllIcon sx={{ fontSize: '1.5rem' }} />\n          </IconButton>\n        </Tooltip>\n      </Fade>\n      <ConfirmationDialog {...confirmationDialogProps} />\n    </>\n  );\n}\n\nexport default WatchLaterViewActions;\n","import React from 'react';\nimport { Fade, IconButton, Tooltip } from '@mui/material';\nimport { useAppDispatch, useAppSelector } from 'store';\nimport VisibilityOffIcon from '@mui/icons-material/VisibilityOff';\nimport TimerOffIcon from '@mui/icons-material/TimerOff';\nimport { selectSettings } from 'store/selectors/settings';\nimport { setSettings } from 'store/reducers/settings';\nimport { selectActiveChannels } from 'store/selectors/channels';\n\ninterface RecentViewActionsProps {}\n\nfunction RecentViewActions(props: RecentViewActionsProps) {\n  const channels = useAppSelector(selectActiveChannels);\n  const settings = useAppSelector(selectSettings);\n  const dispatch = useAppDispatch();\n  const { hideViewedVideos, hideWatchLaterVideos } =\n    settings.recentVideosDisplayOptions;\n\n  const handleFilterViewedToggle = () => {\n    dispatch(\n      setSettings({\n        recentVideosDisplayOptions: {\n          ...settings.recentVideosDisplayOptions,\n          hideViewedVideos: !hideViewedVideos,\n        },\n      })\n    );\n  };\n\n  const handleFilterWatchLaterToggle = () => {\n    dispatch(\n      setSettings({\n        recentVideosDisplayOptions: {\n          ...settings.recentVideosDisplayOptions,\n          hideWatchLaterVideos: !hideWatchLaterVideos,\n        },\n      })\n    );\n  };\n\n  return (\n    <>\n      <Fade in={channels.length > 0}>\n        <Tooltip title=\"Filter viewed videos\" placement=\"left\" arrow>\n          <IconButton\n            sx={hideViewedVideos ? { bgcolor: 'action.selected' } : {}}\n            aria-label=\"filter-viewed\"\n            onClick={handleFilterViewedToggle}\n          >\n            <VisibilityOffIcon sx={{ fontSize: '1.3rem' }} />\n          </IconButton>\n        </Tooltip>\n      </Fade>\n      <Fade in={channels.length > 0}>\n        <Tooltip title=\"Filter watch later videos\" placement=\"left\" arrow>\n          <IconButton\n            sx={hideWatchLaterVideos ? { bgcolor: 'action.selected' } : {}}\n            aria-label=\"filter-watch-later\"\n            onClick={handleFilterWatchLaterToggle}\n          >\n            <TimerOffIcon sx={{ fontSize: '1.3rem' }} />\n          </IconButton>\n        </Tooltip>\n      </Fade>\n    </>\n  );\n}\n\nexport default RecentViewActions;\n","import React from 'react';\nimport { HomeView } from 'types';\nimport WatchLaterViewActions from './WatchLaterViewActions';\nimport RecentViewActions from './RecentViewActions';\n\ninterface TabActionsProps {\n  tab: HomeView;\n  recentVideosCount: number;\n}\n\nfunction TabActions(props: TabActionsProps) {\n  const { tab, recentVideosCount } = props;\n\n  return tab === HomeView.Recent ? (\n    recentVideosCount > 0 ? (\n      <RecentViewActions />\n    ) : null\n  ) : tab === HomeView.WatchLater ? (\n    <WatchLaterViewActions />\n  ) : null;\n}\n\nexport default React.memo(TabActions);\n","import React, { useState, useEffect, ChangeEvent } from 'react';\nimport { Box, Tabs } from '@mui/material';\nimport { Layout } from 'ui/components/shared';\nimport { HomeView } from 'types';\nimport Tab from './Tab';\nimport TabPanel, { RecentVideosCount } from './TabPanel';\nimport { useAppSelector } from 'store';\nimport { selectSettings } from 'store/selectors/settings';\nimport { selectWatchLaterVideosCount } from 'store/selectors/videos';\nimport TabActions from './TabActions';\n\ninterface HomeProps {}\n\nexport function Home(props: HomeProps) {\n  const settings = useAppSelector(selectSettings);\n  const [activeTab, setActiveTab] = useState(settings.defaultView);\n  const [recentVideosCount, setRecentVideosCount] = useState<RecentVideosCount>(\n    {\n      displayed: 0,\n      total: 0,\n    }\n  );\n  const watchLaterVideosCount = useAppSelector(selectWatchLaterVideosCount);\n\n  useEffect(() => {\n    if (activeTab !== settings.defaultView) {\n      setActiveTab(settings.defaultView);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [settings.defaultView]);\n\n  const handleTabChange = (event: ChangeEvent<{}>, value: HomeView) => {\n    setActiveTab(value);\n  };\n\n  const handleCountChange = (tab: HomeView, count: RecentVideosCount) => {\n    if (tab === HomeView.Recent) {\n      setRecentVideosCount(count);\n    }\n  };\n\n  return (\n    <Layout>\n      <Box\n        sx={{\n          display: 'flex',\n          alignItems: 'center',\n          borderBottom: 1,\n          borderColor: 'divider',\n          gap: 2,\n          px: 3,\n        }}\n      >\n        <Tabs\n          sx={{ flexGrow: 1, pt: 1 }}\n          value={activeTab}\n          onChange={handleTabChange}\n          aria-label=\"tabs\"\n        >\n          <Tab label=\"All\" value={HomeView.All} />\n          <Tab\n            label=\"Recent\"\n            value={HomeView.Recent}\n            badge={recentVideosCount.displayed}\n          />\n          <Tab\n            label=\"Watch later\"\n            value={HomeView.WatchLater}\n            badge={watchLaterVideosCount}\n          />\n        </Tabs>\n        <TabActions\n          tab={activeTab}\n          recentVideosCount={recentVideosCount.total}\n        />\n      </Box>\n      <TabPanel tab={activeTab} onCountChange={handleCountChange} />\n    </Layout>\n  );\n}\n","import React from 'react';\nimport { Avatar, Link, Fade } from '@mui/material';\nimport { Channel } from 'types';\n\ninterface ChannelPictureProps {\n  channel: Channel;\n}\n\nfunction ChannelPicture(props: ChannelPictureProps) {\n  const { channel } = props;\n\n  return (\n    <Fade in={true}>\n      <Link\n        sx={{ textDecoration: 'none' }}\n        href={channel.url}\n        target=\"_blank\"\n        rel=\"noopener\"\n      >\n        <Avatar\n          sx={{\n            width: 60,\n            height: 60,\n          }}\n          alt={channel.title}\n          src={channel.thumbnail}\n          aria-label=\"channel\"\n        />\n      </Link>\n    </Fade>\n  );\n}\n\nfunction propsAreEqual(\n  prevProps: ChannelPictureProps,\n  nextProps: ChannelPictureProps\n) {\n  return (\n    prevProps.channel.title === nextProps.channel.title &&\n    prevProps.channel.thumbnail === nextProps.channel.thumbnail &&\n    prevProps.channel.url === nextProps.channel.url\n  );\n}\n\nexport default React.memo(ChannelPicture, propsAreEqual);\n","import React from 'react';\nimport { Link } from '@mui/material';\nimport { Channel } from 'types';\n\ninterface ChannelTitleProps {\n  channel: Channel;\n}\n\nfunction ChannelTitle(props: ChannelTitleProps) {\n  const { channel } = props;\n\n  return (\n    <Link\n      sx={{\n        color: 'text.primary',\n        textDecoration: 'none',\n      }}\n      href={channel.url}\n      target=\"_blank\"\n      rel=\"noopener\"\n    >\n      {channel.title}\n    </Link>\n  );\n}\n\nfunction propsAreEqual(\n  prevProps: ChannelTitleProps,\n  nextProps: ChannelTitleProps\n) {\n  return (\n    prevProps.channel.title === nextProps.channel.title &&\n    prevProps.channel.url === nextProps.channel.url\n  );\n}\n\nexport default React.memo(ChannelTitle, propsAreEqual);\n","import React, { useState } from 'react';\nimport { Box, Card, CardHeader, Tooltip, IconButton } from '@mui/material';\nimport CheckIcon from '@mui/icons-material/Check';\nimport { Channel } from 'types';\nimport { useAppSelector } from 'store';\nimport { selectChannel } from 'store/selectors/channels';\nimport { useAppDispatch } from 'store';\nimport { addChannel, removeChannel } from 'store/reducers/channels';\nimport ChannelPicture from '../ChannelCard/ChannelPicture';\nimport ChannelTitle from '../ChannelCard/ChannelTitle';\n\ninterface PickChannelCardProps {\n  channel: Channel;\n}\n\nexport default function PickChannelCard(props: PickChannelCardProps) {\n  const { channel } = props;\n  const [changed, setChanged] = useState(false);\n  const exists = useAppSelector(selectChannel(channel));\n  const dispatch = useAppDispatch();\n\n  return (\n    <Box sx={{ display: 'flex' }}>\n      <Card\n        elevation={0}\n        sx={{\n          flexGrow: 1,\n          bgcolor: 'transparent',\n        }}\n      >\n        <CardHeader\n          sx={{\n            pt: 2.5,\n            pl: 0,\n            pr: 1,\n            '& .MuiCardHeader-title': {\n              fontSize: '0.975rem',\n              mb: 0.25,\n            },\n            '& .MuiCardHeader-action': {\n              alignSelf: 'center',\n              ml: 2,\n            },\n          }}\n          avatar={<ChannelPicture channel={channel} />}\n          action={\n            <Tooltip\n              title={exists ? (changed ? 'Remove channel' : '') : 'Add channel'}\n              placement=\"left\"\n              arrow\n            >\n              <IconButton\n                sx={{\n                  border: 1,\n                  transition: (theme) =>\n                    theme.transitions.create([\n                      'color',\n                      'background-color',\n                      'border-color',\n                    ]),\n                  ...(exists\n                    ? {\n                        bgcolor: 'secondary.main',\n                        color: 'common.white',\n                        borderColor: 'secondary.main',\n                        ':hover': {\n                          bgcolor: 'secondary.main',\n                          color: 'common.white',\n                          borderColor: 'secondary.main',\n                        },\n                        '&.Mui-disabled': {\n                          bgcolor: 'secondary.light',\n                          color: 'common.white',\n                          opacity: 0.5,\n                        },\n                      }\n                    : {\n                        borderColor: 'custom.lightBorder',\n                        ':hover': {\n                          bgcolor: 'transparent',\n                          color: 'secondary.main',\n                          borderColor: 'secondary.main',\n                        },\n                      }),\n                }}\n                size=\"small\"\n                aria-label=\"add\"\n                disabled={exists && !changed}\n                onClick={() => {\n                  const action = exists ? removeChannel : addChannel;\n                  dispatch(action(channel));\n                  setChanged(true);\n                }}\n                disableRipple\n              >\n                <CheckIcon />\n              </IconButton>\n            </Tooltip>\n          }\n          title={<ChannelTitle channel={channel} />}\n          subheader={channel.description}\n        />\n      </Card>\n    </Box>\n  );\n}\n","import React from 'react';\nimport { Stack, Divider } from '@mui/material';\nimport { Alert, ProgressBar } from 'ui/components/shared';\nimport { useFindChannelByNameQuery } from 'store/services/youtube';\nimport { Channel } from 'types';\nimport PickChannelCard from './PickChannelCard';\n\ninterface ChannelResultsProps {\n  search: string;\n}\n\nexport default function ChannelResults(props: ChannelResultsProps) {\n  const { search } = props;\n  const { data, error, isLoading } = useFindChannelByNameQuery(\n    { name: search },\n    { skip: search === '' }\n  );\n  const results = data?.items || [];\n\n  return error ? (\n    <Alert error={error} closable />\n  ) : isLoading ? (\n    <ProgressBar variant=\"indeterminate\" />\n  ) : (\n    <Stack sx={{ px: 3, overflow: 'auto' }} divider={<Divider />}>\n      {results.map((channel: Channel, index: number) => (\n        <PickChannelCard key={index} channel={channel} />\n      ))}\n    </Stack>\n  );\n}\n","import { styled, alpha } from '@mui/material/styles';\nimport Menu, { MenuProps } from '@mui/material/Menu';\n\nconst StyledMenu = styled((props: MenuProps) => (\n  <Menu\n    elevation={0}\n    anchorOrigin={{\n      vertical: 'bottom',\n      horizontal: 'right',\n    }}\n    transformOrigin={{\n      vertical: 'top',\n      horizontal: 'right',\n    }}\n    {...props}\n  />\n))(({ theme }) => ({\n  '& .MuiPaper-root': {\n    borderRadius: 6,\n    marginTop: theme.spacing(1),\n    minWidth: 180,\n    color:\n      theme.palette.mode === 'light'\n        ? 'rgb(55, 65, 81)'\n        : theme.palette.grey[300],\n    boxShadow:\n      'rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px',\n    '& .MuiMenu-list': {\n      padding: '4px 0',\n    },\n    '& .MuiMenuItem-root': {\n      '& .MuiSvgIcon-root': {\n        fontSize: 18,\n        marginRight: theme.spacing(1.5),\n        '&:not(.inherit-color)': {\n          color: theme.palette.text.secondary,\n        },\n      },\n      '&:active': {\n        backgroundColor: alpha(\n          theme.palette.action.selected,\n          theme.palette.action.selectedOpacity\n        ),\n      },\n    },\n  },\n}));\n\nexport default StyledMenu;\n","import React from 'react';\nimport {\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n} from '@mui/material';\nimport { Channel } from 'types';\nimport ChannelPicture from '../ChannelPicture';\n\ninterface RemoveChannelDialogProps {\n  open: boolean;\n  channel: Channel;\n  onClose: (confirmed?: boolean) => void;\n}\n\nexport default function RemoveChannelDialog(props: RemoveChannelDialogProps) {\n  const { open, channel, onClose } = props;\n\n  const handleConfirm = () => {\n    onClose(true);\n  };\n\n  const handleClose = () => {\n    onClose(false);\n  };\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <DialogContent>\n        <Box sx={{ display: 'flex' }}>\n          <ChannelPicture channel={channel} />\n          <Box\n            sx={{\n              flexGrow: 1,\n              display: 'flex',\n              flexDirection: 'column',\n              px: 2,\n            }}\n          >\n            <DialogTitle sx={{ px: 0, pt: 0 }}>\n              Remove {channel.title}'s channel ?\n            </DialogTitle>\n            <DialogContentText>\n              Are you sure that you want to remove this channel?\n            </DialogContentText>\n          </Box>\n        </Box>\n      </DialogContent>\n      <DialogActions sx={{ px: 2, pb: 2 }}>\n        <Button color=\"inherit\" onClick={handleClose} autoFocus>\n          Cancel\n        </Button>\n        <Button color=\"primary\" variant=\"contained\" onClick={handleConfirm}>\n          Confirm\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React from 'react';\nimport { Channel } from 'types';\nimport { useAppDispatch } from 'store';\nimport { removeChannel } from 'store/reducers/channels';\nimport RemoveChannelDialog from './RemoveChannelDialog';\n\ninterface ChannelDialogsProps {\n  channel: Channel;\n  openedDialog: string | null;\n  onClose: () => void;\n}\n\nfunction ChannelDialogs(props: ChannelDialogsProps) {\n  const { channel, openedDialog, onClose } = props;\n  const dispatch = useAppDispatch();\n\n  return (\n    <RemoveChannelDialog\n      open={openedDialog === 'remove-channel'}\n      channel={channel}\n      onClose={(confirmed) => {\n        if (confirmed) {\n          dispatch(removeChannel(channel));\n        }\n        onClose();\n      }}\n    />\n  );\n}\n\nfunction propsAreEqual(\n  prevProps: ChannelDialogsProps,\n  nextProps: ChannelDialogsProps\n) {\n  return (\n    prevProps.openedDialog === nextProps.openedDialog &&\n    prevProps.channel.id === nextProps.channel.id\n  );\n}\n\nexport default React.memo(ChannelDialogs, propsAreEqual);\n","import React, { useState } from 'react';\nimport { IconButton, Divider, MenuItem } from '@mui/material';\nimport { useAppDispatch } from 'store';\nimport {\n  toggleChannel,\n  toggleChannelNotifications,\n} from 'store/reducers/channels';\nimport StyledMenu from './StyledMenu';\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\nimport NotificationsActiveOutlinedIcon from '@mui/icons-material/NotificationsActiveOutlined';\nimport NotificationsOffOutlinedIcon from '@mui/icons-material/NotificationsOffOutlined';\nimport VisibilityOutlinedIcon from '@mui/icons-material/VisibilityOutlined';\nimport VisibilityOffOutlinedIcon from '@mui/icons-material/VisibilityOffOutlined';\nimport DeleteOutlineOutlinedIcon from '@mui/icons-material/DeleteOutlineOutlined';\nimport { Channel } from 'types';\nimport ChannelDialogs from '../ChannelDialogs';\n\ninterface ChannelActionsProps {\n  channel: Channel;\n}\n\nfunction ChannelActions(props: ChannelActionsProps) {\n  const { channel } = props;\n  const [anchorEl, setAnchorEl] = useState<HTMLElement | null>(null);\n  const [openedDialog, setOpenedDialog] = useState<string | null>(null);\n  const dispatch = useAppDispatch();\n  const isMenuOpen = Boolean(anchorEl);\n\n  const handleMenuClick = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleRemoveClick = () => {\n    setOpenedDialog('remove-channel');\n    handleMenuClose();\n  };\n\n  const handleDialogsClose = () => {\n    setOpenedDialog(null);\n  };\n\n  return (\n    <>\n      <IconButton aria-label=\"settings\" onClick={handleMenuClick}>\n        <MoreVertIcon />\n      </IconButton>\n      <StyledMenu\n        anchorEl={anchorEl}\n        open={isMenuOpen}\n        onClose={handleMenuClose}\n      >\n        <MenuItem\n          onClick={() => {\n            dispatch(toggleChannelNotifications(channel));\n            handleMenuClose();\n          }}\n          disableRipple\n        >\n          {channel.notifications?.isDisabled ? (\n            <>\n              <NotificationsActiveOutlinedIcon />\n              Enable notifications\n            </>\n          ) : (\n            <>\n              <NotificationsOffOutlinedIcon />\n              Disable notifications\n            </>\n          )}\n        </MenuItem>\n        <Divider sx={{ my: 0.5 }} />\n        <MenuItem\n          onClick={() => {\n            dispatch(toggleChannel(channel));\n            handleMenuClose();\n          }}\n          disableRipple\n        >\n          {channel.isHidden ? (\n            <>\n              <VisibilityOutlinedIcon />\n              Unhide\n            </>\n          ) : (\n            <>\n              <VisibilityOffOutlinedIcon />\n              Hide\n            </>\n          )}\n        </MenuItem>\n        <MenuItem\n          sx={{ color: 'primary.main' }}\n          onClick={handleRemoveClick}\n          disableRipple\n        >\n          <DeleteOutlineOutlinedIcon className=\"inherit-color\" />\n          Remove\n        </MenuItem>\n      </StyledMenu>\n      <ChannelDialogs\n        channel={channel}\n        openedDialog={openedDialog}\n        onClose={handleDialogsClose}\n      />\n    </>\n  );\n}\n\nfunction propsAreEqual(\n  prevProps: ChannelActionsProps,\n  nextProps: ChannelActionsProps\n) {\n  return (\n    JSON.stringify(prevProps.channel) === JSON.stringify(nextProps.channel)\n  );\n}\n\nexport default React.memo(ChannelActions, propsAreEqual);\n","import React from 'react';\nimport { IconButton } from '@mui/material';\nimport DragIndicatorIcon from '@mui/icons-material/DragIndicator';\n\ninterface DragHandleProps {}\n\nexport default function DragHandle(props: DragHandleProps) {\n  return (\n    <IconButton\n      sx={{ cursor: 'move', mr: 1.5 }}\n      aria-label=\"drag-handle\"\n      {...props}\n    >\n      <DragIndicatorIcon />\n    </IconButton>\n  );\n}\n","import React from 'react';\nimport { Box, Paper, Card, CardHeader, Collapse } from '@mui/material';\nimport { Channel } from 'types';\nimport ChannelPicture from './ChannelPicture';\nimport ChannelTitle from './ChannelTitle';\nimport { DraggableSyntheticListeners } from '@dnd-kit/core';\nimport ChannelActions from './ChannelActions';\nimport DragHandle from './DragHandle';\n\nexport interface ChannelCardProps {\n  channel: Channel;\n  style?: React.CSSProperties;\n  isOverlay?: boolean;\n  showDragHandle?: boolean;\n  listeners?: DraggableSyntheticListeners;\n}\n\nconst ChannelCard = React.forwardRef(\n  (props: ChannelCardProps, ref: React.LegacyRef<HTMLDivElement>) => {\n    const { channel, isOverlay, showDragHandle, listeners, ...rest } = props;\n\n    const renderCard = React.useMemo(\n      () => (\n        <Card elevation={0} sx={{ flexGrow: 1, bgcolor: 'transparent' }}>\n          <CardHeader\n            sx={{\n              pt: 2.5,\n              pl: 0,\n              pr: 1,\n              '& .MuiCardHeader-title': {\n                fontSize: '0.975rem',\n                mb: 0.25,\n              },\n              '& .MuiCardHeader-action': {\n                ml: 2,\n              },\n              ...(channel.isHidden\n                ? {\n                    '& .MuiCardHeader-avatar': {\n                      opacity: 0.5,\n                    },\n                    '& .MuiCardHeader-content': {\n                      textDecoration: 'line-through',\n                      opacity: 0.5,\n                    },\n                  }\n                : {}),\n            }}\n            avatar={<ChannelPicture channel={channel} />}\n            action={<ChannelActions channel={channel} />}\n            title={<ChannelTitle channel={channel} />}\n            subheader={channel.description}\n          />\n        </Card>\n      ),\n      [channel]\n    );\n\n    return (\n      <div ref={ref} {...rest}>\n        <Paper elevation={isOverlay ? 1 : 0}>\n          <Box\n            sx={{\n              display: 'flex',\n              alignItems: 'center',\n              bgcolor: 'background.default',\n            }}\n          >\n            {isOverlay ? (\n              <DragHandle />\n            ) : (\n              <Collapse in={showDragHandle} orientation=\"horizontal\">\n                <DragHandle {...listeners} />\n              </Collapse>\n            )}\n            {renderCard}\n          </Box>\n        </Paper>\n      </div>\n    );\n  }\n);\n\nexport default ChannelCard;\n","import React from 'react';\nimport { useSortable } from '@dnd-kit/sortable';\nimport { CSS } from '@dnd-kit/utilities';\nimport ChannelCard, { ChannelCardProps } from '.';\n\nexport default function DraggableCard(props: ChannelCardProps) {\n  const { channel, ...rest } = props;\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n    isDragging,\n    isSorting,\n  } = useSortable({\n    id: channel.id,\n    data: { channel },\n  });\n\n  const style = {\n    transition: isSorting ? transition : 'none',\n    opacity: isDragging ? 0.5 : 1,\n    transform: CSS.Transform.toString(transform),\n  } as React.CSSProperties;\n\n  return (\n    <ChannelCard\n      ref={setNodeRef}\n      channel={channel}\n      style={style}\n      listeners={listeners}\n      {...attributes}\n      {...rest}\n    />\n  );\n}\n","import React, { useState } from 'react';\nimport { Stack, Divider } from '@mui/material';\nimport ChannelCard from './ChannelCard';\nimport DraggableChannelCard from './ChannelCard/DraggableCard';\nimport { useAppDispatch } from 'store';\nimport {\n  DndContext,\n  closestCenter,\n  DragStartEvent,\n  DragEndEvent,\n  DragOverlay,\n} from '@dnd-kit/core';\nimport {\n  SortableContext,\n  verticalListSortingStrategy,\n} from '@dnd-kit/sortable';\nimport {\n  restrictToVerticalAxis,\n  restrictToFirstScrollableAncestor,\n} from '@dnd-kit/modifiers';\nimport { moveChannel } from 'store/reducers/channels';\nimport { Channel } from 'types';\n\ninterface ChannelListProps {\n  channels: Channel[];\n  showDragHandles?: boolean;\n}\n\nfunction ChannelList(props: ChannelListProps) {\n  const { channels, showDragHandles } = props;\n  const [draggedChannel, setDraggedChannel] = useState<Channel | null>(null);\n  const dispatch = useAppDispatch();\n\n  const handleDragStart = (event: DragStartEvent) => {\n    const { active } = event;\n    setDraggedChannel(active.data.current?.channel);\n  };\n\n  const handleDragEnd = (event: DragEndEvent) => {\n    const { active, over } = event;\n    if (active.id !== over?.id) {\n      const from = channels.findIndex((c: Channel) => c.id === active.id);\n      const to = channels.findIndex((c: Channel) => c.id === over?.id);\n      dispatch(moveChannel({ from, to }));\n    }\n    setDraggedChannel(null);\n  };\n\n  return (\n    <>\n      <DndContext\n        collisionDetection={closestCenter}\n        modifiers={[restrictToVerticalAxis, restrictToFirstScrollableAncestor]}\n        onDragStart={handleDragStart}\n        onDragEnd={handleDragEnd}\n      >\n        <SortableContext\n          items={channels}\n          strategy={verticalListSortingStrategy}\n        >\n          <Stack sx={{ px: 3, overflow: 'auto' }} divider={<Divider />}>\n            {channels.map((channel: Channel, index: number) => (\n              <DraggableChannelCard\n                key={index}\n                channel={channel}\n                showDragHandle={showDragHandles}\n              />\n            ))}\n          </Stack>\n        </SortableContext>\n        <DragOverlay>\n          {draggedChannel ? (\n            <ChannelCard channel={draggedChannel} isOverlay />\n          ) : null}\n        </DragOverlay>\n      </DndContext>\n    </>\n  );\n}\n\nfunction propsAreEqual(\n  prevProps: ChannelListProps,\n  nextProps: ChannelListProps\n) {\n  return (\n    prevProps.showDragHandles === nextProps.showDragHandles &&\n    JSON.stringify(prevProps.channels) === JSON.stringify(nextProps.channels)\n  );\n}\n\nexport default React.memo(ChannelList, propsAreEqual);\n","import React, { useRef, MouseEvent, ChangeEvent } from 'react';\nimport { Box, Typography, Button } from '@mui/material';\nimport UploadIcon from '@mui/icons-material/Upload';\nimport { readFile } from 'helpers/file';\nimport { useAppDispatch } from 'store';\nimport { setChannels } from 'store/reducers/channels';\n\ninterface NoChannelsProps {}\n\nexport default function NoChannels(props: NoChannelsProps) {\n  const fileInputRef = useRef<HTMLInputElement | null>(null);\n  const dispatch = useAppDispatch();\n\n  const importChannels = (event: ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (!file) {\n      return;\n    }\n    try {\n      readFile(file).then((content) => {\n        const channels = JSON.parse(content as string);\n        dispatch(setChannels({ list: channels }));\n      });\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  return (\n    <Box\n      sx={{\n        flexGrow: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n      }}\n    >\n      <Typography variant=\"h5\" gutterBottom>\n        No channels found.\n      </Typography>\n      <Typography\n        sx={{ textAlign: 'center', fontSize: '1.125rem' }}\n        variant=\"body1\"\n        color=\"text.secondary\"\n        gutterBottom\n      >\n        Start by typing a channel name in the search bar above\n        <br />\n        or\n      </Typography>\n      <Button\n        sx={{ textTransform: 'capitalize' }}\n        variant=\"contained\"\n        color=\"secondary\"\n        onClick={() => {\n          fileInputRef.current?.click();\n        }}\n      >\n        Import channels\n        <UploadIcon sx={{ fontSize: '1.25rem', ml: 0.5 }} />\n      </Button>\n      <input\n        type=\"file\"\n        ref={fileInputRef}\n        style={{\n          display: 'none',\n          visibility: 'hidden',\n          overflow: 'hidden',\n          width: 0,\n          height: 0,\n        }}\n        accept=\".json\"\n        onClick={(event: MouseEvent<HTMLInputElement>) => {\n          event.currentTarget.value = '';\n        }}\n        onChange={importChannels}\n      />\n    </Box>\n  );\n}\n","export function downloadFile(blob: Blob, filename: string) {\n  if ((window.navigator as any).msSaveOrOpenBlob) {\n    // IE10+\n    (window.navigator as any).msSaveOrOpenBlob(blob, filename);\n  } else {\n    // Others\n    const a = document.createElement('a'),\n      url = URL.createObjectURL(blob);\n    a.href = url;\n    a.download = filename;\n    document.body.appendChild(a);\n    a.click();\n    setTimeout(function () {\n      document.body.removeChild(a);\n      window.URL.revokeObjectURL(url);\n    }, 0);\n  }\n}\n\nexport function readFile(file: Blob) {\n  return new Promise(function (resolve, reject) {\n    const fileReader = new FileReader();\n    fileReader.readAsText(file, 'UTF-8');\n    fileReader.onload = function () {\n      resolve(fileReader.result);\n    };\n    fileReader.onerror = function (error) {\n      reject(error);\n    };\n  });\n}\n","import React, { useState } from 'react';\nimport { Layout, SearchInput } from 'ui/components/shared';\nimport { Box, IconButton, Fade, Collapse, Tooltip } from '@mui/material';\nimport DownloadIcon from '@mui/icons-material/Download';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport SwapVertIcon from '@mui/icons-material/SwapVert';\nimport ChannelResults from './ChannelResults';\nimport ChannelList from './ChannelList';\nimport NoChannels from './NoChannels';\nimport { useAppSelector } from 'store';\nimport { selectChannels } from 'store/selectors/channels';\nimport { downloadFile } from 'helpers/file';\n\ninterface ChannelsProps {}\n\nexport function Channels(props: ChannelsProps) {\n  const [search, setSearch] = useState('');\n  const [showDragHandles, setShowDragHandles] = useState(false);\n  const channels = useAppSelector(selectChannels);\n  const isSearchActive = Boolean(search);\n\n  const showList = () => {\n    setSearch('');\n  };\n\n  const toggleDragHandles = () => {\n    setShowDragHandles(!showDragHandles);\n  };\n\n  const exportChannels = () => {\n    const data = JSON.stringify(channels, null, 4);\n    const file = new Blob([data], { type: 'text/json' });\n    downloadFile(file, 'channels.json');\n  };\n\n  return (\n    <Layout>\n      <Box\n        sx={{\n          display: 'flex',\n          alignItems: 'center',\n          borderBottom: 1,\n          borderColor: 'divider',\n          gap: 2,\n          py: 1.5,\n          pr: 4,\n          pl: 3,\n        }}\n      >\n        <Box sx={{ flexGrow: 1, display: 'flex' }}>\n          <Collapse in={isSearchActive} orientation=\"horizontal\">\n            <Tooltip title=\"Go back to channels list\" placement=\"bottom\" arrow>\n              <IconButton\n                sx={{ mr: 2, bgcolor: 'custom.lightGrey' }}\n                aria-label=\"show-list\"\n                onClick={showList}\n              >\n                <ArrowBackIcon />\n              </IconButton>\n            </Tooltip>\n          </Collapse>\n          <SearchInput\n            width={400}\n            placeholder=\"Search for a channel…\"\n            debounceTime={700}\n            onChange={(value: string) => {\n              setSearch(value);\n            }}\n            onClear={showList}\n            clearable\n          />\n        </Box>\n        <Fade in={!isSearchActive && channels.length > 1}>\n          <Tooltip title=\"Toggle drag handles\" placement=\"left\" arrow>\n            <IconButton\n              sx={showDragHandles ? { bgcolor: 'action.selected' } : {}}\n              aria-label=\"toggle-drag-handles\"\n              onClick={toggleDragHandles}\n            >\n              <SwapVertIcon />\n            </IconButton>\n          </Tooltip>\n        </Fade>\n        <Fade in={!isSearchActive && channels.length > 0}>\n          <Tooltip title=\"Export\" placement=\"left\" arrow>\n            <IconButton aria-label=\"export\" onClick={exportChannels}>\n              <DownloadIcon />\n            </IconButton>\n          </Tooltip>\n        </Fade>\n      </Box>\n      {search ? (\n        <ChannelResults search={search} />\n      ) : channels.length > 0 ? (\n        <ChannelList channels={channels} showDragHandles={showDragHandles} />\n      ) : (\n        <NoChannels />\n      )}\n    </Layout>\n  );\n}\n","import { styled, alpha } from '@mui/material/styles';\nimport InputBase from '@mui/material/InputBase';\n\nconst Input = styled(InputBase)(({ theme }) => ({\n  '& .MuiInputBase-input': {\n    borderRadius: 4,\n    position: 'relative',\n    backgroundColor: theme.palette.background.default,\n    border: `1px solid ${\n      theme.palette.mode === 'light'\n        ? 'rgba(0, 0, 0, 0.23)'\n        : 'rgba(255, 255, 255, 0.23)'\n    }`,\n    fontSize: '0.9rem',\n    width: 'auto',\n    minWidth: 320,\n    padding: theme.spacing(1, 1.5),\n    transition: theme.transitions.create(['border-color', 'box-shadow']),\n    '&:focus': {\n      boxShadow: `${alpha(theme.palette.secondary.main, 0.25)} 0 0 0 0.2rem`,\n      borderColor: theme.palette.secondary.main,\n    },\n  },\n}));\n\nexport default Input;\n","import { styled } from '@mui/material/styles';\nimport MuiSwitch from '@mui/material/Switch';\n\nconst Switch = styled(MuiSwitch)(({ theme }) => ({\n  width: 36,\n  height: 20,\n  padding: 0,\n  display: 'flex',\n  '& .MuiSwitch-switchBase': {\n    padding: 3,\n    color: theme.palette.grey[500],\n    '&.Mui-checked': {\n      transform: 'translateX(16px)',\n      color: theme.palette.common.white,\n      '& + .MuiSwitch-track': {\n        opacity: 1,\n        backgroundColor: theme.palette.secondary.main,\n        borderColor: theme.palette.secondary.main,\n      },\n    },\n  },\n  '& .MuiSwitch-thumb': {\n    width: 14,\n    height: 14,\n    boxShadow: 'none',\n  },\n  '& .MuiSwitch-track': {\n    border: `1px solid ${theme.palette.grey[500]}`,\n    borderRadius: 20 / 2,\n    opacity: 1,\n    backgroundColor:\n      theme.palette.mode === 'light'\n        ? theme.palette.common.white\n        : 'transparent',\n  },\n}));\n\nexport default Switch;\n","import { styled } from '@mui/material/styles';\nimport MuiSelect from '@mui/material/Select';\n\nconst Select = styled(MuiSelect)(({ theme }) => ({\n  fontSize: '0.9rem',\n  '&.Mui-focused': {\n    '& .MuiOutlinedInput-notchedOutline': {\n      borderColor: theme.palette.secondary.light,\n    },\n  },\n})) as unknown as typeof MuiSelect;\n\nexport default Select;\n","import { styled, Theme } from '@mui/material/styles';\nimport MuiMenuItem from '@mui/material/MenuItem';\n\nconst MenuItemSelectedStyle = (theme: Theme) => ({\n  backgroundColor: theme.palette.secondary.main,\n  color: theme.palette.common.white,\n});\n\nconst MenuItem = styled(MuiMenuItem)(({ theme }) => ({\n  fontSize: '0.9rem',\n  '&.Mui-selected': {\n    ...MenuItemSelectedStyle(theme),\n    '&.Mui-focusVisible': MenuItemSelectedStyle(theme),\n  },\n  '&.Mui-selected:hover': MenuItemSelectedStyle(theme),\n})) as typeof MuiMenuItem;\n\nexport default MenuItem;\n","import React, { ChangeEvent } from 'react';\nimport { Box, Typography, SelectChangeEvent } from '@mui/material';\nimport { SettingType } from 'types';\nimport Input from './Input';\nimport Switch from './Switch';\nimport Select from './Select';\nimport MenuItem from './MenuItem';\n\ntype ValueType = string | number | boolean;\n\ntype OptionType = {\n  label: string;\n  value: number | string;\n};\n\ninterface FieldProps {\n  label: string;\n  description?: string | React.ReactNode;\n  placeholder?: string;\n  options?: OptionType[];\n  value: ValueType;\n  type: SettingType;\n  onChange?: (value: any) => void;\n}\n\nexport default function Field(props: FieldProps) {\n  const {\n    label,\n    description,\n    placeholder,\n    options = [],\n    value,\n    type,\n    onChange,\n  } = props;\n\n  const handleChange = (\n    event:\n      | ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\n      | SelectChangeEvent\n  ) => {\n    if (onChange) {\n      const value =\n        type === SettingType.Boolean\n          ? (event.target as HTMLInputElement).checked\n          : event.target.value;\n      onChange(value);\n    }\n  };\n\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        width: '100%',\n        py: 2.5,\n      }}\n    >\n      <Box\n        sx={{\n          display: 'flex',\n          flexDirection: 'column',\n          justifyContent: 'center',\n        }}\n      >\n        <Typography variant=\"subtitle1\">{label}</Typography>\n        {description ? (\n          <Typography variant=\"body2\" color=\"textSecondary\">\n            {description}\n          </Typography>\n        ) : null}\n      </Box>\n      {type === SettingType.String ? (\n        <Input\n          value={value}\n          placeholder={placeholder}\n          onChange={handleChange}\n        />\n      ) : null}\n      {type === SettingType.Boolean ? (\n        <Switch\n          checked={value as boolean}\n          onChange={handleChange}\n          inputProps={{ 'aria-label': 'checkbox' }}\n        />\n      ) : null}\n      {type === SettingType.List ? (\n        <Select value={value as string} size=\"small\" onChange={handleChange}>\n          {options.map((option: OptionType, index: number) => (\n            <MenuItem key={index} value={option.value}>\n              {option.label}\n            </MenuItem>\n          ))}\n        </Select>\n      ) : null}\n    </Box>\n  );\n}\n","import React, { MouseEvent } from 'react';\nimport { Link } from '@mui/material';\nimport { Alert } from 'ui/components/shared';\nimport { useAppDispatch, useAppSelector } from 'store';\nimport { setSettings } from 'store/reducers/settings';\nimport { selectApp } from 'store/selectors/app';\nimport { Settings } from 'types';\n\nconst { REACT_APP_YOUTUBE_API_KEY: temporaryApiKey } = process.env;\n\ninterface AlertsProps {\n  settings: Settings;\n}\n\nexport default function Alerts(props: AlertsProps) {\n  const { settings } = props;\n  const app = useAppSelector(selectApp);\n  const dispatch = useAppDispatch();\n\n  const handleUseTemporaryKey = (event: MouseEvent) => {\n    event.preventDefault();\n    dispatch(setSettings({ apiKey: temporaryApiKey }));\n  };\n\n  return (\n    <>\n      <Alert\n        open={app.loaded && !settings.apiKey}\n        severity=\"warning\"\n        closable\n        syncOpen\n      >\n        In order to use this app you need a Youtube API key!{' '}\n        <Link\n          href=\"#\"\n          color=\"secondary\"\n          rel=\"noopener\"\n          onClick={handleUseTemporaryKey}\n        >\n          Use a temporary key.\n        </Link>\n      </Alert>\n      <Alert\n        open={app.loaded && settings.apiKey === temporaryApiKey}\n        severity=\"warning\"\n        closable\n        syncOpen\n      >\n        You are using a temporary API key, which has a limited quota & might be\n        used by other users. It is recommended to create your own key for daily\n        use.\n      </Alert>\n    </>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { Stack, Divider, Link } from '@mui/material';\nimport { Layout } from 'ui/components/shared';\nimport { HomeView, SettingType, VideosSeniority } from 'types';\nimport Field from './Field';\nimport { useAppDispatch, useAppSelector } from 'store';\nimport { selectSettings } from 'store/selectors/settings';\nimport { setSettings } from 'store/reducers/settings';\nimport Alerts from './Alerts';\nimport { isWebExtension, sendMessage } from 'helpers/webext';\nimport { TimeAgo } from 'helpers/utils';\n\ninterface SettingsProps {}\n\nexport function Settings(props: SettingsProps) {\n  const [lastCheckTime, setLastCheckTime] = useState(null);\n  const settings = useAppSelector(selectSettings);\n  const dispatch = useAppDispatch();\n\n  useEffect(() => {\n    if (isWebExtension) {\n      sendMessage('getLastCheckDate').then((date: string) => {\n        if (date) {\n          const time = new Date(date).getTime();\n          setLastCheckTime(TimeAgo.inWords(time));\n        }\n      });\n    }\n  }, []);\n\n  return (\n    <Layout>\n      <Alerts settings={settings} />\n      <Stack sx={{ px: 3, overflow: 'auto' }} divider={<Divider />}>\n        <Field\n          label=\"Default view\"\n          value={settings.defaultView}\n          onChange={(defaultView: HomeView) => {\n            dispatch(setSettings({ defaultView }));\n          }}\n          options={[\n            {\n              label: 'All',\n              value: HomeView.All,\n            },\n            {\n              label: 'Recent',\n              value: HomeView.Recent,\n            },\n            {\n              label: 'Watch later',\n              value: HomeView.WatchLater,\n            },\n          ]}\n          type={SettingType.List}\n        />\n        <Field\n          label=\"Recent videos seniority\"\n          value={settings.recentVideosSeniority}\n          onChange={(recentVideosSeniority: VideosSeniority) => {\n            dispatch(setSettings({ recentVideosSeniority }));\n          }}\n          options={[\n            {\n              label: '1 day',\n              value: VideosSeniority.OneDay,\n            },\n            {\n              label: '3 days',\n              value: VideosSeniority.ThreeDays,\n            },\n            {\n              label: '7 days',\n              value: VideosSeniority.SevenDays,\n            },\n          ]}\n          type={SettingType.List}\n        />\n        <Field\n          label=\"Dark mode\"\n          value={settings.darkMode}\n          onChange={(darkMode: boolean) => {\n            dispatch(setSettings({ darkMode }));\n          }}\n          type={SettingType.Boolean}\n        />\n        <Field\n          label=\"Auto play videos\"\n          value={settings.autoPlayVideos}\n          onChange={(autoPlayVideos: boolean) => {\n            dispatch(setSettings({ autoPlayVideos }));\n          }}\n          type={SettingType.Boolean}\n        />\n        {isWebExtension ? (\n          <Field\n            label=\"Enable notifications\"\n            description={`Checking for new videos is performed every 30 minutes${\n              lastCheckTime ? ` (Last check: ${lastCheckTime})` : ''\n            }`}\n            value={settings.enableNotifications}\n            onChange={(enableNotifications: boolean) => {\n              dispatch(setSettings({ enableNotifications }));\n            }}\n            type={SettingType.Boolean}\n          />\n        ) : null}\n        <Field\n          label=\"Youtube API key\"\n          placeholder=\"_______________________________________\"\n          description={\n            <span>\n              Don't have an API key yet?{' '}\n              <Link\n                href=\"https://www.slickremix.com/docs/get-api-key-for-youtube/\"\n                target=\"_blank\"\n                color=\"secondary\"\n                rel=\"noopener\"\n              >\n                Get your own!\n              </Link>\n            </span>\n          }\n          value={settings.apiKey}\n          onChange={(apiKey: string) => {\n            dispatch(setSettings({ apiKey }));\n          }}\n          type={SettingType.String}\n        />\n      </Stack>\n    </Layout>\n  );\n}\n","import React from 'react';\nimport { Typography, IconButton, Link } from '@mui/material';\nimport FavoriteRoundedIcon from '@mui/icons-material/FavoriteRounded';\nimport GitHubIcon from '@mui/icons-material/GitHub';\n\ninterface CreditProps {\n  author: string;\n  repositoryUrl?: string;\n}\n\nexport default function Credit(props: CreditProps) {\n  const { author, repositoryUrl } = props;\n\n  return (\n    <Typography\n      sx={{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        gap: 0.5,\n      }}\n      color=\"text.secondary\"\n    >\n      Made with <FavoriteRoundedIcon sx={{ color: '#e1495c', fontSize: 18 }} />{' '}\n      by {author}\n      {repositoryUrl ? (\n        <Link href={repositoryUrl} target=\"_blank\" rel=\"noopener\">\n          <IconButton sx={{ p: 0 }} size=\"small\" aria-label=\"github link\">\n            <GitHubIcon fontSize=\"inherit\" />\n          </IconButton>\n        </Link>\n      ) : null}\n    </Typography>\n  );\n}\n","import React from 'react';\nimport { Link, Tooltip } from '@mui/material';\ninterface SocialLinkProps {\n  children: React.ReactNode;\n  tooltip: string;\n  href: string;\n  target?: '_blank' | '_self';\n}\n\nexport default function SocialLink(props: SocialLinkProps) {\n  const { children, tooltip, href, target = '_blank' } = props;\n\n  return (\n    <Tooltip title={tooltip} placement=\"bottom\" arrow>\n      <Link href={href} target={target} color=\"inherit\" rel=\"noopener\">\n        {children}\n      </Link>\n    </Tooltip>\n  );\n}\n","import React from 'react';\nimport { Layout, Logo } from 'ui/components/shared';\nimport {\n  Box,\n  Card,\n  CardActions,\n  CardContent,\n  Button,\n  Typography,\n  Link,\n} from '@mui/material';\nimport Credit from './Credit';\nimport SocialLink from './SocialLink';\nimport GitHubIcon from '@mui/icons-material/GitHub';\nimport MailIcon from '@mui/icons-material/Mail';\nimport ForumIcon from '@mui/icons-material/Forum';\n\ninterface AboutProps {}\n\nexport function About(props: AboutProps) {\n  return (\n    <Layout>\n      <Box\n        sx={{\n          bgcolor: (theme) =>\n            theme.palette.mode === 'light' ? '#f4f4f4' : 'transparent',\n          flexGrow: 1,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n        }}\n      >\n        <Card variant=\"outlined\">\n          <CardContent\n            sx={{\n              pt: 6,\n              pb: 12,\n              px: 12,\n              display: 'flex',\n              flexDirection: 'column',\n              alignItems: 'center',\n              justifyContent: 'center',\n            }}\n          >\n            <Logo size={60} sx={{ mb: 3 }} />\n            <Typography\n              sx={{ fontSize: '1.25rem', mb: 1 }}\n              variant=\"h5\"\n              color=\"text.primary\"\n            >\n              YouTube viewer\n            </Typography>\n            <Credit author=\"AXeL\" />\n            <Box\n              sx={{\n                display: 'flex',\n                gap: 1.5,\n                color: (theme) =>\n                  theme.palette.mode === 'light' ? 'grey.800' : 'grey.100',\n                mt: 4,\n              }}\n            >\n              <SocialLink\n                tooltip=\"Gmail\"\n                href=\"mailto:contact.axel.dev@gmail.com\"\n              >\n                <MailIcon />\n              </SocialLink>\n              <SocialLink\n                tooltip=\"Discord\"\n                href=\"https://discord.gg/rpD4fgxBgj\"\n              >\n                <ForumIcon />\n              </SocialLink>\n              <SocialLink\n                tooltip=\"Github\"\n                href=\"https://github.com/AXeL-dev/youtube-viewer\"\n              >\n                <GitHubIcon />\n              </SocialLink>\n            </Box>\n          </CardContent>\n          <CardActions sx={{ borderTop: 1, borderColor: 'divider', px: 1.5 }}>\n            <Link\n              sx={{ textDecoration: 'none' }}\n              href=\"https://github.com/AXeL-dev/youtube-viewer/graphs/contributors\"\n              target=\"_blank\"\n              rel=\"noopener\"\n            >\n              <Button\n                sx={{\n                  fontSize: '0.875rem',\n                  fontWeight: 400,\n                  textTransform: 'capitalize',\n                }}\n                size=\"small\"\n                color=\"secondary\"\n              >\n                Contributors\n              </Button>\n            </Link>\n          </CardActions>\n          <CardActions sx={{ borderTop: 1, borderColor: 'divider', px: 1.5 }}>\n            <Button\n              sx={{\n                fontSize: '0.875rem',\n                fontWeight: 400,\n                textTransform: 'capitalize',\n              }}\n              size=\"small\"\n              color=\"secondary\"\n            >\n              Privacy policy\n            </Button>\n          </CardActions>\n        </Card>\n      </Box>\n    </Layout>\n  );\n}\n","import React, { useEffect, useRef } from 'react';\nimport {\n  isWebExtension,\n  setBadgeColors,\n  setBadgeText,\n  createTab,\n  indexUrl,\n  getBadgeText,\n  sendNotification,\n} from 'helpers/webext';\nimport { useAppSelector, storageKey } from 'store';\nimport { selectNotificationEnabledChannels } from 'store/selectors/channels';\nimport { setSettings } from 'store/reducers/settings';\nimport { setChannels } from 'store/reducers/channels';\nimport {\n  addNotifiedVideos,\n  removeOutdatedVideos,\n  setVideos,\n} from 'store/reducers/videos';\nimport ChannelChecker, { CheckEndData } from './ChannelChecker';\nimport { log } from 'helpers/logger';\nimport { selectSettings } from 'store/selectors/settings';\nimport { MessageRequest, Video } from 'types';\nimport { selectApp } from 'store/selectors/app';\nimport { dispatch } from 'store/persist';\n\ndeclare var browser: any;\n\ninterface BackgroundProps {}\n\nexport function Background(props: BackgroundProps) {\n  const responses = useRef<CheckEndData[]>([]);\n  const lastCheckDate = useRef<Date | null>(null);\n  const channels = useAppSelector(selectNotificationEnabledChannels);\n  const settings = useAppSelector(selectSettings);\n  const app = useAppSelector(selectApp);\n\n  useEffect(() => {\n    if (settings.enableNotifications) {\n      responses.current = [];\n    }\n  }, [settings.enableNotifications]);\n\n  const openHomePage = () => {\n    setBadgeText('');\n    createTab(indexUrl);\n  };\n\n  const handleMessage = (\n    request: MessageRequest,\n    sender: any,\n    sendResponse: any\n  ) => {\n    log('Handle message:', request);\n    let response: any = null;\n    return new Promise((resolve) => {\n      switch (request.message) {\n        // getLastCheckDate\n        case 'getLastCheckDate':\n          response = lastCheckDate.current;\n          break;\n        // default\n        default:\n          break;\n      }\n      log('response:', response);\n      resolve(response);\n    });\n  };\n\n  const init = () => {\n    setBadgeColors('#666', '#fff');\n    // Handle messages\n    browser.runtime.onMessage.addListener(handleMessage);\n    // Handle click on notifications\n    browser.notifications.onClicked.addListener((notificationId: string) => {\n      log('Notification clicked:', notificationId);\n      openHomePage();\n    });\n    browser.notifications.onButtonClicked.addListener(\n      (notificationId: string, buttonIndex: number) => {\n        log(`Notification button ${buttonIndex} clicked:`, notificationId);\n        log('channels', channels);\n        const [, channelId] = notificationId.split('::');\n        const url = channels.find((channel) => channel.id === channelId)?.url;\n        if (url?.length) {\n          createTab(url);\n        }\n      }\n    );\n    // Handle click on browser action\n    // only works if \"browser_action\" > \"default_popup\" is not set on manifest\n    browser.browserAction.onClicked.addListener((tab: any) => {\n      log('Browser action clicked:', tab);\n      openHomePage();\n    });\n    // Handle storage change\n    browser.storage.onChanged.addListener((changes: any, areaName: string) => {\n      log('Storage changed:', areaName, changes);\n      if (areaName === 'local') {\n        const { settings, channels, videos } = changes[storageKey].newValue;\n        dispatch(setSettings(settings));\n        dispatch(setChannels(channels));\n        dispatch(setVideos(videos));\n      }\n    });\n  };\n\n  useEffect(() => {\n    if (isWebExtension) {\n      init();\n      log('Background page initialised.');\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (isWebExtension && app.loaded) {\n      log('Removing outdated videos.');\n      dispatch(removeOutdatedVideos(), true);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [app.loaded]);\n\n  const updateBadge = async (count: number) => {\n    const badgeText: string = await getBadgeText();\n    if (badgeText.length) {\n      count += +badgeText;\n    }\n    log('Updating badge:', count);\n    setBadgeText(count);\n  };\n\n  const handleCheckEnd = (data: CheckEndData) => {\n    responses.current.push(data);\n    // Once all channel checkers responded to us\n    if (responses.current.length === channels.length) {\n      // Save last check date\n      lastCheckDate.current = new Date();\n      // Get total count of new videos\n      const count = responses.current.reduce(\n        (acc, cur) => acc + cur.newVideos.length,\n        0\n      );\n      log('All channel checkers responded, new videos count:', count);\n      // Update badge count & send notification\n      if (count > 0) {\n        updateBadge(count);\n        const maxChannelTitles = 5;\n        const fulfilledResponses = responses.current.filter(\n          ({ newVideos }) => newVideos.length > 0\n        );\n        const channelTitles = fulfilledResponses\n          .slice(0, Math.min(maxChannelTitles, fulfilledResponses.length))\n          .map(({ channel }) => channel.title)\n          .join(', ');\n        sendNotification({\n          title: `YouTube viewer (${count} new video${count > 1 ? 's' : ''})`,\n          message: `Posted by ${channelTitles}${\n            fulfilledResponses.length > maxChannelTitles ? ' & others' : ''\n          }.`,\n          // id: `${new Date().getTime()}::${channel.id}`,\n          // items: newVideos.map((video) => ({ // only if notification type is 'list'\n          //   title: video.title,\n          //   message: video.url,\n          // })),\n          // contextMessage: channel.url,\n          // buttons: [\n          //   {\n          //     title: 'Open channel',\n          //   },\n          // ],\n        });\n        // Save notified videos\n        const videos = fulfilledResponses.reduce(\n          (acc: Video[], cur: CheckEndData) => [...acc, ...cur.newVideos],\n          []\n        );\n        log('Saving notified videos.', videos);\n        dispatch(addNotifiedVideos(videos), true);\n      }\n      // Reset the responses array\n      responses.current = [];\n    }\n  };\n\n  return isWebExtension ? (\n    <>\n      {app.loaded && settings.enableNotifications\n        ? channels.map((channel, index) => (\n            <ChannelChecker\n              key={index}\n              channel={channel}\n              onCheckEnd={handleCheckEnd}\n            />\n          ))\n        : null}\n    </>\n  ) : (\n    <span>This script is not intended to run on a webapp.</span>\n  );\n}\n","import { createTheme } from '@mui/material/styles';\nimport { PaletteMode } from '@mui/material';\nimport { light } from '@mui/material/styles/createPalette';\nimport './fonts';\nimport './styles.css';\n\ndeclare module '@mui/material/styles' {\n  interface CustomColors {\n    lightGrey: string;\n    lightBorder: string;\n  }\n  interface Palette {\n    custom: CustomColors;\n  }\n  interface PaletteOptions {\n    custom: CustomColors;\n  }\n  interface BreakpointOverrides {\n    xxs: true;\n  }\n}\n\nconst useTheme = (mode: PaletteMode = 'light') =>\n  createTheme({\n    palette: {\n      mode,\n      primary: {\n        light: '#e9321a',\n        main: '#f21718',\n        dark: '#b81112',\n      },\n      secondary: {\n        light: '#1a88ff',\n        main: '#007bff',\n        dark: '#006fe6',\n      },\n      ...(mode === 'light'\n        ? {\n            background: {\n              default: '#fff',\n            },\n            custom: {\n              lightGrey: '#fafafa',\n              lightBorder: light.divider,\n            },\n          }\n        : {\n            background: {\n              default: '#181818',\n            },\n            custom: {\n              lightGrey: '#212121',\n              lightBorder: 'rgba(255, 255, 255, 0.23)',\n            },\n          }),\n    },\n    breakpoints: {\n      values: {\n        xxs: 0,\n        xs: 780,\n        sm: 1000,\n        md: 1200,\n        lg: 1400,\n        xl: 1600,\n      },\n    },\n  });\n\nexport default useTheme;\n","import React from 'react';\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\nimport { Home, Channels, Settings, About } from 'ui/components/pages';\nimport { Background } from 'ui/components/webext';\nimport { ThemeProvider } from '@mui/material/styles';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport useTheme from 'ui/theme';\nimport { useAppSelector } from 'store';\nimport { selectMode } from 'store/selectors/settings';\n\nfunction App() {\n  const mode = useAppSelector(selectMode);\n  const theme = useTheme(mode);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <Router>\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route exact path=\"/channels\" component={Channels} />\n          <Route exact path=\"/settings\" component={Settings} />\n          <Route exact path=\"/about\" component={About} />\n          <Route path=\"/background\" component={Background} />\n        </Switch>\n      </Router>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport store from 'store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}