{"version":3,"sources":["types/Settings.ts","types/index.ts","ui/components/shared/Layout/index.tsx","ui/components/shared/Sidebar/ListItemLink/ListItem.ts","ui/components/shared/Sidebar/ListItemLink/ListItemText.ts","ui/components/shared/Sidebar/ListItemLink/Badge.ts","ui/components/shared/Sidebar/ListItemLink/index.tsx","ui/components/shared/Sidebar/Header.tsx","store/reducers/settings.ts","store/reducers/channels.ts","store/reducers/videos.ts","store/reducers/app.ts","helpers/utils.ts","store/services/youtube/api.ts","store/services/youtube/endpoints.ts","helpers/storage.ts","helpers/webext.ts","store/selectors/channels.ts","store/selectors/videos.ts","hooks/useGrid.ts","hooks/useWidth.ts","ui/components/webext/Background/logger.ts","ui/components/webext/Background/ChannelChecker.tsx","hooks/useInterval.tsx","store/selectors/settings.ts","ui/components/webext/Background/index.tsx","store/persist.ts","store/index.ts","store/selectors/app.ts","ui/components/shared/Sidebar/index.tsx","ui/components/shared/Logo/index.tsx","ui/components/shared/Alert/index.tsx","ui/components/shared/RawHTML/index.tsx","ui/components/shared/SearchInput/Input.tsx","ui/components/shared/SearchInput/index.tsx","ui/components/shared/ProgressBar/LinearProgress.ts","ui/components/shared/ProgressBar/index.tsx","ui/components/pages/Home/Tab/Badge.ts","ui/components/pages/Home/Tab/index.tsx","ui/components/pages/Home/PlayVideoDialog/CloseButton.tsx","ui/components/pages/Home/PlayVideoDialog/index.tsx","ui/components/pages/Home/ChannelRenderer/ChannelTitle/ChannelLink.tsx","ui/components/pages/Home/ChannelRenderer/ChannelTitle/index.tsx","ui/components/pages/Home/ChannelRenderer/ChannelVideos/VideoCard/WatchLaterAction.tsx","ui/components/pages/Home/ChannelRenderer/ChannelVideos/VideoCard/ViewedBadge.tsx","ui/components/pages/Home/ChannelRenderer/ChannelVideos/VideoCard/index.tsx","ui/components/pages/Home/ChannelRenderer/ChannelVideos/VideoSkeleton.tsx","ui/components/pages/Home/ChannelRenderer/ChannelVideos/GridItem.tsx","ui/components/pages/Home/ChannelRenderer/ChannelVideos/config.ts","ui/components/pages/Home/ChannelRenderer/ChannelVideos/LoadMore.tsx","ui/components/pages/Home/ChannelRenderer/ChannelVideos/index.tsx","ui/components/pages/Home/ChannelRenderer/ChannelRenderer.tsx","ui/components/pages/Home/ChannelRenderer/DefaultRenderer.tsx","ui/components/pages/Home/ChannelRenderer/RecentViewRenderer.tsx","ui/components/pages/Home/ChannelRenderer/WatchLaterViewRenderer.tsx","ui/components/pages/Home/ChannelsWrapper.tsx","ui/components/pages/Home/NoChannels.tsx","ui/components/pages/Home/TabPanel.tsx","ui/components/pages/Home/TabActions/ConfirmationDialog.tsx","ui/components/pages/Home/TabActions/WatchLaterViewActions.tsx","ui/components/pages/Home/TabActions/RecentViewActions.tsx","ui/components/pages/Home/TabActions/index.tsx","ui/components/pages/Home/index.tsx","ui/components/pages/Channels/ChannelCard/ChannelPicture.tsx","ui/components/pages/Channels/ChannelCard/ChannelTitle.tsx","ui/components/pages/Channels/ChannelResults/PickChannelCard.tsx","ui/components/pages/Channels/ChannelResults/index.tsx","ui/components/pages/Channels/ChannelCard/ChannelActions/StyledMenu.tsx","ui/components/pages/Channels/ChannelCard/ChannelDialogs/RemoveChannelDialog.tsx","ui/components/pages/Channels/ChannelCard/ChannelDialogs/index.tsx","ui/components/pages/Channels/ChannelCard/ChannelActions/index.tsx","ui/components/pages/Channels/ChannelCard/DragHandle.tsx","ui/components/pages/Channels/ChannelCard/index.tsx","ui/components/pages/Channels/ChannelCard/DraggableCard.tsx","ui/components/pages/Channels/ChannelList.tsx","ui/components/pages/Channels/NoChannels.tsx","helpers/file.ts","ui/components/pages/Channels/index.tsx","ui/components/pages/Settings/Field/Input.ts","ui/components/pages/Settings/Field/Switch.ts","ui/components/pages/Settings/Field/Select.tsx","ui/components/pages/Settings/Field/MenuItem.tsx","ui/components/pages/Settings/Field/index.tsx","ui/components/pages/Settings/Alerts.tsx","ui/components/pages/Settings/index.tsx","ui/components/pages/About/Credit.tsx","ui/components/pages/About/SocialLink.tsx","ui/components/pages/About/index.tsx","ui/theme/index.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["HomeView","VideosSeniority","SettingType","Layout","props","children","sx","Box","display","flexDirection","height","Sidebar","flexGrow","ListItemSelectedStyle","theme","backgroundColor","palette","primary","main","color","ListItem","styled","MuiListItemButton","borderRadius","marginBottom","spacing","ListItemText","MuiListItemText","alignItems","Badge","MuiBadge","position","transform","dark","common","white","minWidth","fontSize","marginLeft","ListItemLink","icon","text","badge","hasWarning","to","selected","useLocation","pathname","renderLink","React","useMemo","forwardRef","itemProps","ref","component","disableRipple","ListItemIcon","badgeContent","ml","process","REACT_APP_NAME","REACT_APP_VERSION","Header","showVersion","justifyContent","gap","cursor","userSelect","Logo","size","Typography","variant","bgcolor","mode","padding","border","borderColor","lineHeight","defaultSettings","defaultView","All","apiKey","darkMode","autoPlayVideos","recentVideosSeniority","OneDay","recentVideosDisplayOptions","hideViewedVideos","hideWatchLaterVideos","enableNotifications","initialState","settingsSlice","createSlice","name","reducers","setSettings","state","action","payload","resetSettings","actions","channelsSlice","list","setChannels","addChannel","id","find","channel","push","removeChannel","filter","moveChannel","from","arrayMove","toggleChannel","found","isHidden","toggleChannelNotifications","notifications","isDisabled","videosSlice","setVideos","removeVideosGarbage","isViewed","isToWatchLater","addToWatchLaterList","video","channelId","publishedAt","removeFromWatchLaterList","caseReducers","clearWatchLaterList","map","addToViewedList","appSlice","loaded","setApp","niceDuration","ISO_8601_string","time","replace","toUpperCase","h","extract","m","s","join","stop","i","length","val","slice","shortenLargeNumber","num","decimal","digits","units","Math","pow","toFixed","TimeAgo","self","prefix","sufix","seconds","minute","minutes","hour","hours","day","days","month","months","year","years","timeAgo","floor","Date","parseInt","separator","locales","words","interval","intervals","distance","key","trim","getDateBefore","before","date","setDate","getDate","setHours","debounce","callback","wait","immediate","timeout","args","context","this","clearTimeout","setTimeout","apply","baseQuery","fetchBaseQuery","baseUrl","prepareHeaders","headers","getState","settings","set","youtubeApi","createApi","reducerPath","endpoints","queries","findChannelByName","query","q","maxResults","url","params","part","fields","type","order","transformResponse","response","items","item","title","snippet","description","thumbnail","thumbnails","medium","total","pageInfo","totalResults","getChannelActivities","publishedAfter","publishedBefore","contentDetails","upload","videoId","getVideosById","ids","getTime","duration","views","statistics","viewCount","channelTitle","publishedSince","inWords","extendedApi","injectEndpoints","builder","queryFn","_arg","_queryApi","_extraOptions","fetchWithBQ","a","data","result","error","getChannelVideos","activities","overrideExisting","useFindChannelByNameQuery","useGetVideosByIdQuery","useGetChannelActivitiesQuery","useGetChannelVideosQuery","keys","browser","storage","local","get","value","localStorage","getItem","parse","JSON","stringify","save","values","Object","setItem","isWebExtension","isBrowserAPIAvailable","createTab","isActive","tabs","create","active","path","indexUrl","runtime","getURL","setBadgeText","browserAction","toString","setBadgeColors","textColor","navigator","userAgent","indexOf","setBadgeTextColor","setBadgeBackgroundColor","selectChannels","channels","selectActiveChannels","createSelector","selectNotificationEnabledChannels","selectChannelsCount","selectVideos","videos","selectViewedVideos","selectWatchLaterVideos","sort","b","selectWatchLaterVideosCount","hiddenChannels","includes","selectViewedWatchLaterVideosCount","selectVideoMeta","useGrid","columns","itemsPerRow","defaultWidth","useTheme","breakpoints","reverse","reduce","output","matches","useMediaQuery","up","useWidth","REACT_APP_DEBUG","now","getHours","getMinutes","getSeconds","log","message","console","defaults","ChannelChecker","onCheckEnd","useState","ready","setReady","checkedVideosIds","useRef","viewedVideos","useAppSelector","toISOString","pollingInterval","skip","isFetching","refetch","delay","savedCallback","useEffect","current","setInterval","clearInterval","useInterval","newVideos","viewedVideosIds","selectSettings","selectMode","isBackgroundPageRunning","Background","responses","dispatch","useAppDispatch","openHomePage","onClicked","addListener","notificationId","onButtonClicked","buttonIndex","split","tab","onChanged","changes","areaName","storageKey","newValue","updateBadge","count","getBadgeText","badgeText","handleCheckEnd","acc","cur","responsesCount","channelTitles","min","iconUrl","rest","sendNotification","index","ignoreNextStatePersist","preloadState","legacy","store","configureStore","reducer","settingsReducer","channelsReducer","videosReducer","app","appReducer","middleware","getDefaultMiddleware","concat","subscribe","persistState","useDispatch","useSelector","selectApp","channelsCount","maxWidth","borderRight","py","pl","paddingLeft","width","List","aria-label","px","borderTop","mb","Link","textDecoration","href","target","rel","alt","src","Alert","open","openProp","severity","closable","syncOpen","onClose","setOpen","Collapse","in","IconButton","onClick","Input","InputBase","custom","lightGrey","lightBorder","SearchInput","placeholder","clearable","debounceTime","onChange","onClear","setValue","debounceChange","pointerEvents","zIndex","inputProps","event","onKeyUp","right","top","my","mx","LinearProgress","MuiLinearProgress","linearProgressClasses","colorPrimary","grey","bar","ProgressBar","Tab","label","fontWeight","textTransform","CloseButton","PlayVideoDialog","opts","playerVars","autoplay","handleClose","reason","stopPropagation","preventDefault","noop","Dialog","overflow","DialogContent","p","propsAreEqual","prevProps","nextProps","memo","ChannelLink","outline","ChannelTitle","pb","Avatar","WatchLaterAction","view","WatchLater","Tooltip","margin","ViewedBadge","bottom","left","VideoCard","thumbnailWidth","thumbnailHeight","onVideoPlay","opacity","backgroundImage","backgroundRepeat","backgroundSize","transition","className","textAlign","paddingRight","pr","mt","enterDelay","enterNextDelay","WebkitLineClamp","WebkitBoxOrient","gutterBottom","VideoSkeleton","Skeleton","pt","GridItem","Grid","xxs","xs","sm","md","lg","xl","config","gridSpacing","gridColumns","LoadMore","isLoading","hasMore","disabled","ChannelVideos","onLoadMore","skeletonNumber","container","Array","_","ChannelRenderer","hasVideos","canLoadMore","DefaultRenderer","excludedVideosIds","onError","page","setPage","RecentViewRenderer","watchLaterVideos","WatchLaterViewRenderer","max","ChannelsWrapper","Recent","NoChannels","history","useHistory","Button","mr","TabPanel","setError","activeVideo","setActiveVideo","err","ConfirmationDialog","DialogTitle","DialogContentText","DialogActions","autoFocus","WatchLaterViewActions","viewedCount","confirmationDialogProps","setConfirmationDialogProps","Fade","placement","arrow","confirmed","RecentViewActions","TabActions","Home","activeTab","setActiveTab","watchLaterVideosCount","borderBottom","Tabs","ChannelPicture","PickChannelCard","changed","setChanged","exists","selectChannel","Card","elevation","CardHeader","alignSelf","avatar","transitions","subheader","ChannelResults","search","results","Stack","divider","Divider","StyledMenu","Menu","anchorOrigin","vertical","horizontal","transformOrigin","marginTop","boxShadow","marginRight","secondary","alpha","selectedOpacity","RemoveChannelDialog","ChannelDialogs","openedDialog","ChannelActions","anchorEl","setAnchorEl","setOpenedDialog","isMenuOpen","Boolean","handleMenuClose","currentTarget","MenuItem","DragHandle","ChannelCard","isOverlay","showDragHandle","listeners","renderCard","Paper","orientation","DraggableCard","useSortable","attributes","setNodeRef","isDragging","style","isSorting","CSS","Transform","ChannelList","showDragHandles","draggedChannel","setDraggedChannel","collisionDetection","closestCenter","modifiers","restrictToVerticalAxis","restrictToFirstScrollableAncestor","onDragStart","onDragEnd","over","findIndex","c","strategy","verticalListSortingStrategy","fileInputRef","click","visibility","accept","file","files","Promise","resolve","reject","fileReader","FileReader","readAsText","onload","onerror","readFile","then","content","e","Channels","setSearch","setShowDragHandles","isSearchActive","showList","blob","filename","window","msSaveOrOpenBlob","document","createElement","URL","createObjectURL","download","body","appendChild","removeChild","revokeObjectURL","downloadFile","Blob","background","default","Switch","MuiSwitch","Select","MuiSelect","light","MenuItemSelectedStyle","MuiMenuItem","Field","options","handleChange","checked","String","option","temporaryApiKey","Alerts","Settings","ThreeDays","SevenDays","Credit","author","repositoryUrl","SocialLink","tooltip","About","CardContent","CardActions","createTheme","App","ThemeProvider","CssBaseline","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ca0dde0f.chunk.js","sourcesContent":["export interface Settings {\n  defaultView: HomeView;\n  apiKey: string;\n  darkMode: boolean;\n  autoPlayVideos: boolean;\n  recentVideosSeniority: VideosSeniority;\n  recentVideosDisplayOptions: VideosDisplayOptions;\n  enableNotifications: boolean;\n}\n\nexport enum HomeView {\n  All = 'all',\n  Recent = 'recent',\n  WatchLater = 'watch-later',\n}\n\nexport enum VideosSeniority {\n  OneDay = 1,\n  ThreeDays = 3,\n  SevenDays = 7,\n}\n\nexport interface VideosDisplayOptions {\n  hideViewedVideos: boolean;\n  hideWatchLaterVideos: boolean;\n}\n\nexport enum SettingType {\n  String,\n  Number,\n  Boolean,\n  List,\n}\n","export * from './Channel';\nexport * from './Video';\nexport * from './Settings';\nexport * from './Api';\n","import React from 'react';\nimport { Box } from '@mui/material';\nimport { SxProps } from '@mui/system';\nimport { Sidebar } from 'ui/components/shared';\n\ninterface LayoutProps {\n  children?: React.ReactNode;\n  sx?: SxProps;\n}\n\nexport function Layout(props: LayoutProps) {\n  const { children, sx } = props;\n\n  return (\n    <Box sx={{ display: 'flex', flexDirection: 'row', height: '100vh' }}>\n      <Sidebar />\n      <Box\n        sx={{ flexGrow: 1, display: 'flex', flexDirection: 'column', ...sx }}\n      >\n        {children}\n      </Box>\n    </Box>\n  );\n}\n","import { styled, Theme } from '@mui/material/styles';\nimport MuiListItemButton from '@mui/material/ListItemButton';\n\nconst ListItemSelectedStyle = (theme: Theme) => ({\n  backgroundColor: theme.palette.primary.main,\n  color: '#fff',\n  '& .MuiListItemIcon-root': {\n    color: '#fff',\n  },\n});\n\nconst ListItem = styled(MuiListItemButton)(({ theme }) => ({\n  borderRadius: '5px 0 0 5px',\n  marginBottom: theme.spacing(1),\n  '&.Mui-selected': ListItemSelectedStyle(theme),\n  '&.Mui-selected:hover': ListItemSelectedStyle(theme),\n})) as typeof MuiListItemButton;\n\nexport default ListItem;\n","import { styled } from '@mui/material/styles';\nimport MuiListItemText from '@mui/material/ListItemText';\n\nconst ListItemText = styled(MuiListItemText)(({ theme }) => ({\n  '& .MuiTypography-root': {\n    display: 'flex',\n    alignItems: 'center',\n  },\n})) as typeof MuiListItemText;\n\nexport default ListItemText;\n","import { styled } from '@mui/material/styles';\nimport MuiBadge from '@mui/material/Badge';\n\nconst Badge = styled(MuiBadge)(({ theme }) => ({\n  '& .MuiBadge-badge': {\n    position: 'relative',\n    transform: 'none',\n    backgroundColor: theme.palette.primary.dark,\n    color: theme.palette.common.white,\n    minWidth: 24,\n    height: 24,\n    fontSize: '0.75rem',\n    marginLeft: theme.spacing(3),\n    borderRadius: theme.spacing(1.5),\n  },\n}));\n\nexport default Badge;\n","import React from 'react';\nimport { Link, LinkProps, useLocation } from 'react-router-dom';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport ErrorOutlineIcon from '@mui/icons-material/ErrorOutline';\nimport ListItem from './ListItem';\nimport ListItemText from './ListItemText';\nimport Badge from './Badge';\n\ninterface ListItemLinkProps {\n  icon: React.ReactElement;\n  text: string;\n  badge?: React.ReactNode;\n  hasWarning?: boolean;\n  to: string;\n}\n\nexport default function ListItemLink(props: ListItemLinkProps) {\n  const { icon, text, badge, hasWarning, to } = props;\n  const location = useLocation();\n  const selected = location.pathname === to;\n\n  const renderLink = React.useMemo(\n    () =>\n      React.forwardRef<HTMLAnchorElement, Omit<LinkProps, 'to'>>(\n        (itemProps, ref) => <Link to={to} ref={ref} {...itemProps} />\n      ),\n    [to]\n  );\n\n  return (\n    <ListItem component={renderLink} selected={selected} disableRipple>\n      {icon ? <ListItemIcon>{icon}</ListItemIcon> : null}\n      <ListItemText\n        primary={\n          <>\n            {text}\n            {badge && selected ? <Badge badgeContent={badge} /> : null}\n            {hasWarning && !selected ? (\n              <ErrorOutlineIcon sx={{ ml: 3 }} color=\"warning\" />\n            ) : null}\n          </>\n        }\n      />\n    </ListItem>\n  );\n}\n","import React from 'react';\nimport { Box, Typography } from '@mui/material';\nimport { Logo } from 'ui/components/shared';\n\nconst { REACT_APP_NAME, REACT_APP_VERSION } = process.env;\n\ninterface HeaderProps {\n  showVersion?: boolean;\n}\n\nexport default function Header(props: HeaderProps) {\n  const { showVersion } = props;\n\n  return (\n    <Box\n      component=\"span\"\n      sx={{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        gap: '1rem',\n        cursor: 'default',\n        userSelect: 'none',\n      }}\n    >\n      <Logo size={32} />\n      <Box\n        component=\"span\"\n        sx={{\n          display: 'flex',\n          alignItems: 'center',\n          color: 'text.primary',\n        }}\n      >\n        <Typography variant=\"subtitle1\">{REACT_APP_NAME}</Typography>\n        {showVersion ? (\n          <Typography\n            variant=\"caption\"\n            sx={{\n              marginLeft: 1,\n              bgcolor: (theme) =>\n                theme.palette.mode === 'light' ? '#eee' : 'transparent',\n              padding: '3px 6px',\n              border: 1,\n              borderColor: (theme) =>\n                theme.palette.mode === 'light' ? 'transparent' : 'divider',\n              borderRadius: '4px',\n              color: 'text.primary',\n              fontSize: '0.75rem',\n              lineHeight: 1,\n            }}\n          >\n            v{REACT_APP_VERSION}\n          </Typography>\n        ) : null}\n      </Box>\n    </Box>\n  );\n}\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { HomeView, Settings, VideosSeniority } from 'types';\n\nconst { REACT_APP_YOUTUBE_API_KEY } = process.env;\n\nexport const defaultSettings = {\n  defaultView: HomeView.All,\n  apiKey: REACT_APP_YOUTUBE_API_KEY || '',\n  darkMode: false,\n  autoPlayVideos: true,\n  recentVideosSeniority: VideosSeniority.OneDay,\n  recentVideosDisplayOptions: {\n    hideViewedVideos: false,\n    hideWatchLaterVideos: false,\n  },\n  enableNotifications: true,\n};\n\ninterface SettingsState extends Settings {}\n\nconst initialState: SettingsState = {\n  ...defaultSettings,\n};\n\nexport const settingsSlice = createSlice({\n  name: 'settings',\n  initialState,\n  reducers: {\n    setSettings: (state, action: PayloadAction<Partial<SettingsState>>) => {\n      return {\n        ...state,\n        ...action.payload,\n      };\n    },\n    resetSettings: (state) => {\n      return {\n        ...state,\n        ...defaultSettings,\n      };\n    },\n  },\n});\n\nexport const { setSettings, resetSettings } = settingsSlice.actions;\n\nexport default settingsSlice.reducer;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { arrayMove } from '@dnd-kit/sortable';\nimport { Channel } from 'types';\n\ninterface ChannelsState {\n  list: Channel[];\n}\n\nconst initialState: ChannelsState = {\n  list: [],\n};\n\nexport const channelsSlice = createSlice({\n  name: 'channels',\n  initialState,\n  reducers: {\n    setChannels: (state, action: PayloadAction<Partial<ChannelsState>>) => {\n      return {\n        ...state,\n        ...action.payload,\n      };\n    },\n    addChannel: (state, action: PayloadAction<Channel>) => {\n      const { id } = action.payload;\n      const found = state.list.find((channel: Channel) => channel.id === id);\n      if (!found) {\n        state.list.push(action.payload);\n      }\n    },\n    removeChannel: (state, action: PayloadAction<Channel>) => {\n      const { id } = action.payload;\n      state.list = state.list.filter((channel: Channel) => channel.id !== id);\n    },\n    moveChannel: (\n      state,\n      action: PayloadAction<{ from: number; to: number }>\n    ) => {\n      const { from, to } = action.payload;\n      state.list = arrayMove(state.list, from, to);\n    },\n    toggleChannel: (state, action: PayloadAction<Channel>) => {\n      const { id } = action.payload;\n      const found = state.list.find((channel: Channel) => channel.id === id);\n      if (found) {\n        found.isHidden = !found.isHidden;\n      }\n    },\n    toggleChannelNotifications: (state, action: PayloadAction<Channel>) => {\n      const { id } = action.payload;\n      const found = state.list.find((channel: Channel) => channel.id === id);\n      if (found) {\n        found.notifications = {\n          ...found.notifications,\n          isDisabled: found.notifications\n            ? !found.notifications.isDisabled\n            : true,\n        };\n      }\n    },\n  },\n});\n\nexport const {\n  setChannels,\n  addChannel,\n  removeChannel,\n  moveChannel,\n  toggleChannel,\n  toggleChannelNotifications,\n} = channelsSlice.actions;\n\nexport default channelsSlice.reducer;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { Video } from 'types';\n\ninterface VideoItem {\n  id: string;\n  channelId: string;\n  publishedAt: number;\n  isViewed?: boolean;\n  isToWatchLater?: boolean;\n}\n\ninterface VideosState {\n  list: VideoItem[];\n}\n\nconst initialState: VideosState = {\n  list: [],\n};\n\nexport const videosSlice = createSlice({\n  name: 'videos',\n  initialState,\n  reducers: {\n    setVideos: (state, action: PayloadAction<Partial<VideosState>>) => {\n      return {\n        ...state,\n        ...action.payload,\n      };\n    },\n    removeVideosGarbage: (state) => {\n      state.list = state.list.filter(\n        ({ isViewed, isToWatchLater }) => isViewed || isToWatchLater\n      );\n    },\n    addToWatchLaterList: (state, action: PayloadAction<Video>) => {\n      const video = action.payload;\n      const found = state.list.find(({ id }) => id === video.id);\n      if (found) {\n        found.isToWatchLater = true;\n      } else {\n        state.list.push({\n          id: video.id,\n          channelId: video.channelId,\n          publishedAt: video.publishedAt,\n          isToWatchLater: true,\n        });\n      }\n    },\n    removeFromWatchLaterList: (state, action: PayloadAction<Video>) => {\n      const video = action.payload;\n      const found = state.list.find(({ id }) => id === video.id);\n      if (found) {\n        found.isToWatchLater = false;\n      }\n      videosSlice.caseReducers.removeVideosGarbage(state);\n    },\n    clearWatchLaterList: (state) => {\n      state.list = state.list.map((video) => ({\n        ...video,\n        isToWatchLater: !video.isViewed,\n      }));\n    },\n    addToViewedList: (state, action: PayloadAction<Video>) => {\n      const video = action.payload;\n      const found = state.list.find(({ id }) => id === video.id);\n      if (found) {\n        found.isViewed = true;\n      } else {\n        state.list.push({\n          id: video.id,\n          channelId: video.channelId,\n          publishedAt: video.publishedAt,\n          isViewed: true,\n        });\n      }\n    },\n  },\n});\n\nexport const {\n  setVideos,\n  removeVideosGarbage,\n  addToWatchLaterList,\n  removeFromWatchLaterList,\n  clearWatchLaterList,\n  addToViewedList,\n} = videosSlice.actions;\n\nexport default videosSlice.reducer;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\ninterface AppState {\n  loaded: boolean;\n}\n\nconst initialState: AppState = {\n  loaded: false,\n};\n\nexport const appSlice = createSlice({\n  name: 'settings',\n  initialState,\n  reducers: {\n    setApp: (state, action: PayloadAction<Partial<AppState>>) => {\n      return {\n        ...state,\n        ...action.payload,\n      };\n    },\n  },\n});\n\nexport const { setApp } = appSlice.actions;\n\nexport default appSlice.reducer;\n","/**\n * Convert youtube duration to readable format\n *\n * @param ISO_8601_string {string}\n */\nexport function niceDuration(ISO_8601_string: string) {\n  let time = ISO_8601_string.replace('PT', '').toUpperCase();\n  let h = extract('H');\n  let m = extract('M');\n  let s = extract('S');\n  return h !== '00' ? [h, m, s].join(':') : [m, s].join(':');\n\n  function extract(stop: string) {\n    for (let i = 0; i < time.length; i++) {\n      if (time[i] === stop) {\n        let val = time.slice(0, i);\n        if (val.length === 1 && stop !== 'H') {\n          val = '0' + val;\n        }\n        time = time.slice(i + 1);\n        return val;\n      }\n    }\n    return '00';\n  }\n}\n\n// -------------------------------------------------------------------\n\n/**\n * Shorten number to thousands, millions, billions, etc.\n * http://en.wikipedia.org/wiki/Metric_prefix\n *\n * @param {number} num Number to shorten.\n * @param {number} [digits=0] The number of digits to appear after the decimal point.\n * @returns {string|number}\n *\n * @example\n * // returns '12.5k'\n * shortenLargeNumber(12543, 1)\n *\n * @example\n * // returns '-13k'\n * shortenLargeNumber(-12567)\n *\n * @example\n * // returns '51M'\n * shortenLargeNumber(51000000)\n *\n * @example\n * // returns 651\n * shortenLargeNumber(651)\n *\n * @example\n * // returns 0.12345\n * shortenLargeNumber(0.12345)\n */\nexport function shortenLargeNumber(num: number, digits: number = 0) {\n  let units = ['k', 'M', 'G', 'T', 'P', 'E', 'Z', 'Y'],\n    decimal;\n\n  for (let i = units.length - 1; i >= 0; i--) {\n    decimal = Math.pow(1000, i + 1);\n\n    if (num <= -decimal || num >= decimal) {\n      return +(num / decimal).toFixed(digits) + units[i];\n    }\n  }\n\n  return num;\n}\n\n// -------------------------------------------------------------------\n\n/**\n * Return Date & time in words\n * Stolen from: https://stackoverflow.com/a/37802747\n */\nexport const TimeAgo = (() => {\n  let self: any = {};\n\n  // Public Methods\n  self.locales = {\n    prefix: '',\n    sufix: 'ago',\n\n    seconds: 'less than a minute',\n    minute: 'about a minute',\n    minutes: '%d minutes',\n    hour: 'about an hour',\n    hours: 'about %d hours',\n    day: 'a day',\n    days: '%d days',\n    month: 'about a month',\n    months: '%d months',\n    year: 'about a year',\n    years: '%d years',\n  };\n\n  self.inWords = (timeAgo: any) => {\n    let seconds = Math.floor(((new Date() as any) - parseInt(timeAgo)) / 1000),\n      separator = self.locales.separator || ' ',\n      words = self.locales.prefix + separator,\n      interval = 0,\n      intervals: any = {\n        year: seconds / 31536000,\n        month: seconds / 2592000,\n        day: seconds / 86400,\n        hour: seconds / 3600,\n        minute: seconds / 60,\n      };\n\n    let distance = self.locales.seconds;\n\n    for (let key in intervals) {\n      interval = Math.floor(intervals[key]);\n\n      if (interval > 1) {\n        distance = self.locales[key + 's'];\n        break;\n      } else if (interval === 1) {\n        distance = self.locales[key];\n        break;\n      }\n    }\n\n    distance = distance.replace(/%d/i, interval);\n    words += distance + separator + self.locales.sufix;\n\n    return words.trim();\n  };\n\n  return self;\n})();\n\n// -------------------------------------------------------------------\n\n/**\n * Return current date minus number of days before\n *\n * @param before {number}\n */\nexport function getDateBefore(before: number = 0): Date {\n  let date = new Date();\n  date.setDate(date.getDate() - before);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}\n\n// -------------------------------------------------------------------\n\n/**\n * Check if the given timestamp is in today's date\n * Stolen from: https://stackoverflow.com/a/40628566\n *\n * @param timestamp\n */\nexport function isInToday(timestamp: number) {\n  let today = new Date();\n  if (today.setHours(0, 0, 0, 0) === new Date(timestamp).setHours(0, 0, 0, 0)) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\n// -------------------------------------------------------------------\n\n/**\n * Returns hours difference between two dates\n * Stolen from: https://www.w3resource.com/javascript-exercises/javascript-date-exercise-45.php\n *\n * @param dt1\n * @param dt2\n */\nexport function diffHours(dt1: Date, dt2: Date): number {\n  let diff = (dt2.getTime() - dt1.getTime()) / 1000;\n  diff /= 60 * 60;\n  return Math.abs(Math.round(diff));\n}\n\n// -------------------------------------------------------------------\n\n/**\n * Returns elapsed hours since the provided date\n *\n * @param dt\n */\nexport function elapsedHours(dt: Date): number {\n  const now = new Date();\n  return diffHours(now, dt);\n}\n\n// -------------------------------------------------------------------\n\n/**\n * Return a new RegExp object instance\n *\n * @param pattern\n * @param modifiers\n */\nexport function regex(pattern: string, modifiers: string): RegExp {\n  return new RegExp(pattern, modifiers);\n}\n\n// -------------------------------------------------------------------\n\n/**\n * Return size of an object\n * Stolen from: https://gist.github.com/zensh/4975495\n *\n * @param obj\n */\nexport function memorySizeOf(obj: any) {\n  let bytes = 0;\n\n  function sizeOf(obj: any) {\n    if (obj !== null && obj !== undefined) {\n      switch (typeof obj) {\n        case 'number':\n          bytes += 8;\n          break;\n        case 'string':\n          bytes += obj.length * 2;\n          break;\n        case 'boolean':\n          bytes += 4;\n          break;\n        case 'object':\n          let objClass = Object.prototype.toString.call(obj).slice(8, -1);\n          if (objClass === 'Object' || objClass === 'Array') {\n            for (let key in obj) {\n              if (!obj.hasOwnProperty(key)) continue;\n              sizeOf(obj[key]);\n            }\n          } else bytes += obj.toString().length * 2;\n          break;\n      }\n    }\n    return bytes;\n  }\n\n  function formatByteSize(bytes: number) {\n    if (bytes < 1024) return bytes + ' bytes';\n    else if (bytes < 1048576) return (bytes / 1024).toFixed(3) + ' KiB';\n    else if (bytes < 1073741824) return (bytes / 1048576).toFixed(3) + ' MiB';\n    else return (bytes / 1073741824).toFixed(3) + ' GiB';\n  }\n\n  return formatByteSize(sizeOf(obj));\n}\n\n// -------------------------------------------------------------------\n\n/**\n * Create a new function that limits calls to func to once every given timeframe.\n * Stolen from: https://github.com/you-dont-need/You-Dont-Need-Lodash-Underscore#_throttle\n *\n * @param callback\n * @param timeFrame\n */\nexport function throttle(callback: Function, timeFrame: number) {\n  let lastTime = 0;\n  return (...args: any) => {\n    let now = new Date().getTime();\n    if (now - lastTime >= timeFrame) {\n      callback(...args);\n      lastTime = now;\n    }\n  };\n}\n\n// -------------------------------------------------------------------\n\n/**\n * Create a new function that calls func with thisArg and args.\n * Stolen from: https://github.com/you-dont-need/You-Dont-Need-Lodash-Underscore#_debounce\n *\n * @param callback\n * @param wait\n * @param immediate\n */\nexport function debounce(\n  callback: Function,\n  wait: number,\n  immediate?: boolean\n) {\n  let timeout: any = null;\n  return function (this: any, ...args: any) {\n    const context = this;\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      timeout = null;\n      if (!immediate) callback.apply(context, args);\n    }, wait);\n    if (immediate && !timeout) callback.apply(context, args);\n  };\n}\n\n// -------------------------------------------------------------------\n\n/**\n * Generates 26 [a-z0-9] characters, yielding a UID that is both shorter and more unique than RFC compliant GUIDs.\n * Dashes can be trivially added if human-readability matters.\n * Stolen from: https://stackoverflow.com/a/13403498\n */\nexport function generateGuid() {\n  return (\n    Math.random().toString(36).substring(2, 15) +\n    Math.random().toString(36).substring(2, 15)\n  );\n}\n\n// -------------------------------------------------------------------\n\n/**\n * A little function to help us with reordering lists\n *\n * @param list\n * @param currentIndex\n * @param newIndex\n */\nexport function reorder<T>(\n  list: T[],\n  currentIndex: number,\n  newIndex: number\n): T[] {\n  const result = Array.from(list);\n  const [removed] = result.splice(currentIndex, 1);\n  result.splice(newIndex, 0, removed);\n\n  return result;\n}\n\n// -------------------------------------------------------------------\n\n/**\n * Prevent default event operations\n *\n * @param event\n */\nexport function noop<T>(event: React.MouseEvent<T>) {\n  event.stopPropagation();\n  event.preventDefault();\n}\n","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\nimport { RootState } from 'store';\n\nconst baseQuery = fetchBaseQuery({\n  baseUrl: 'https://www.googleapis.com/youtube/v3/',\n  prepareHeaders: (headers, { getState }) => {\n    const apiKey = (getState() as RootState).settings.apiKey;\n    if (apiKey) {\n      headers.set('X-Goog-Api-Key', apiKey);\n    }\n    return headers;\n  },\n});\n\nexport const youtubeApi = createApi({\n  reducerPath: 'youtubeApi',\n  baseQuery,\n  endpoints: () => ({}),\n});\n","import { youtubeApi } from './api';\nimport { FetchBaseQueryError } from '@reduxjs/toolkit/dist/query';\nimport { niceDuration, shortenLargeNumber, TimeAgo } from 'helpers/utils';\nimport { Channel, ChannelActivities, Response, Video } from 'types';\n\ntype FindChannelByNameArgs = {\n  name: string;\n  maxResults?: number;\n};\n\ntype FindChannelByNameResponse = {\n  items: Channel[];\n  total: number;\n};\n\ntype GetChannelActivitiesArgs = {\n  channel: Channel;\n  publishedAfter?: string;\n  publishedBefore?: string;\n  maxResults?: number;\n};\n\ntype GetChannelActivitiesResponse = {\n  items: ChannelActivities[];\n  total: number;\n};\n\ntype GetVideosByIdArgs = {\n  ids: string[];\n  maxResults?: number;\n};\n\ntype GetVideosByIdResponse = {\n  items: Video[];\n  total: number;\n};\n\ntype GetChannelVideosArgs = GetChannelActivitiesArgs;\n\ntype GetChannelVideosResponse = GetVideosByIdResponse;\n\nconst queries = {\n  // Channel search query\n  findChannelByName: {\n    query: ({ name: q, maxResults = 10 }: FindChannelByNameArgs) => ({\n      url: 'search',\n      params: {\n        part: 'snippet',\n        fields: 'pageInfo,items(snippet)',\n        type: 'channel',\n        order: 'relevance',\n        maxResults,\n        q,\n      },\n    }),\n    transformResponse: (response: Response): FindChannelByNameResponse => ({\n      items: response.items.map((item) => ({\n        title: item.snippet.title,\n        url: `https://www.youtube.com/channel/${item.snippet.channelId}/videos`,\n        description: item.snippet.description,\n        thumbnail: item.snippet.thumbnails.medium.url,\n        id: item.snippet.channelId,\n      })),\n      total: response.pageInfo.totalResults,\n    }),\n  },\n  // Channel activities query\n  getChannelActivities: {\n    query: ({\n      channel,\n      publishedAfter,\n      publishedBefore,\n      maxResults = 10,\n    }: GetChannelActivitiesArgs) => ({\n      url: 'activities',\n      params: {\n        part: 'contentDetails',\n        fields: 'pageInfo,items(contentDetails)',\n        channelId: channel.id,\n        ...(publishedAfter ? { publishedAfter } : {}),\n        ...(publishedBefore ? { publishedBefore } : {}),\n        maxResults,\n      },\n    }),\n    transformResponse: (response: Response): GetChannelActivitiesResponse => ({\n      items: response.items\n        .filter((item) => item.contentDetails.upload?.videoId)\n        .map((item) => ({\n          videoId: item.contentDetails.upload.videoId,\n        })),\n      total: response.pageInfo.totalResults,\n    }),\n  },\n  // Videos informations query\n  getVideosById: {\n    query: ({ ids, maxResults = 10 }: GetVideosByIdArgs) => ({\n      url: 'videos',\n      params: {\n        part: 'snippet,contentDetails,statistics,id',\n        fields:\n          'pageInfo,items(id,contentDetails/duration,statistics/viewCount,snippet(title,channelTitle,channelId,publishedAt,thumbnails/medium))',\n        id: ids.slice(0, maxResults).join(','),\n      },\n    }),\n    transformResponse: (response: Response): GetVideosByIdResponse => ({\n      items: response.items.map((item) => {\n        const publishedAt = new Date(item.snippet.publishedAt).getTime();\n        return {\n          id: item.id,\n          title: item.snippet.title,\n          url: `https://www.youtube.com/watch?v=${item.id}`,\n          duration: niceDuration(item.contentDetails.duration),\n          views: shortenLargeNumber(item.statistics.viewCount),\n          thumbnail: item.snippet.thumbnails.medium.url,\n          channelId: item.snippet.channelId,\n          channelTitle: item.snippet.channelTitle,\n          publishedAt,\n          publishedSince: TimeAgo.inWords(publishedAt),\n        };\n      }),\n      total: response.pageInfo.totalResults,\n    }),\n  },\n};\n\nconst extendedApi = youtubeApi.injectEndpoints({\n  endpoints: (builder) => ({\n    findChannelByName: builder.query<\n      FindChannelByNameResponse,\n      FindChannelByNameArgs\n    >(queries.findChannelByName),\n    getChannelActivities: builder.query<\n      GetChannelActivitiesResponse,\n      GetChannelActivitiesArgs\n    >(queries.getChannelActivities),\n    getVideosById: builder.query<GetVideosByIdResponse, GetVideosByIdArgs>({\n      queryFn: async (_arg, _queryApi, _extraOptions, fetchWithBQ) => {\n        const { ids, maxResults } = _arg;\n        if (ids.length === 0) {\n          return {\n            data: {\n              items: [],\n              total: 0,\n            },\n          };\n        }\n        const result = await fetchWithBQ(\n          queries.getVideosById.query({\n            ids,\n            maxResults,\n          })\n        );\n        return result.data\n          ? {\n              data: queries.getVideosById.transformResponse(\n                result.data as Response\n              ),\n            }\n          : { error: result.error as FetchBaseQueryError };\n      },\n    }),\n    getChannelVideos: builder.query<\n      GetChannelVideosResponse,\n      GetChannelVideosArgs\n    >({\n      queryFn: async (_arg, _queryApi, _extraOptions, fetchWithBQ) => {\n        const { channel, publishedAfter, maxResults } = _arg;\n        // Fetch channel activities\n        const activities = await fetchWithBQ(\n          queries.getChannelActivities.query({\n            channel,\n            publishedAfter,\n            maxResults,\n          })\n        );\n        if (activities.error) {\n          return { error: activities.error as FetchBaseQueryError };\n        }\n        const { items, total } = queries.getChannelActivities.transformResponse(\n          activities.data as Response\n        );\n        // Fetch channel videos\n        const ids = items.map(({ videoId }) => videoId);\n        if (ids.length === 0) {\n          return {\n            data: {\n              items: [],\n              total: 0,\n            },\n          };\n        }\n        const result = await fetchWithBQ(\n          queries.getVideosById.query({\n            ids,\n            maxResults,\n          })\n        );\n        return result.data\n          ? {\n              data: {\n                ...queries.getVideosById.transformResponse(\n                  result.data as Response\n                ),\n                total,\n              },\n            }\n          : { error: result.error as FetchBaseQueryError };\n      },\n    }),\n  }),\n  overrideExisting: false,\n});\n\nexport const {\n  useFindChannelByNameQuery,\n  useGetChannelActivitiesQuery,\n  useGetVideosByIdQuery,\n  useGetChannelVideosQuery,\n} = extendedApi;\n","//import { browser } from \"webextension-polyfill-ts\";\n\ndeclare var browser: any;\n\n/**\n * Get data from storage\n *\n * e.g.: get('key1', 'key2', ...)\n *\n * @param keys\n */\nasync function get(...keys: string[]) {\n  try {\n    const result = await browser.storage.local.get(keys);\n    return keys.length > 1 ? result : result[keys[0]];\n  } catch (error) {\n    const result: { [key: string]: string } = {};\n    for (const key of keys) {\n      const value = localStorage.getItem(key);\n      result[key] = parse(value);\n    }\n    return keys.length > 1 ? result : result[keys[0]];\n  }\n}\n\nfunction parse(value: string | null) {\n  if (!value) {\n    return value;\n  }\n  try {\n    return JSON.parse(value);\n  } catch (error) {\n    return value;\n  }\n}\n\n/**\n * Save data to storage\n *\n * e.g.: save({ key1: value1, key2: value2, ... })\n *\n * @param values\n */\nfunction save(values: { [key: string]: any }) {\n  try {\n    browser.storage.local.set(values);\n  } catch (error) {\n    const keys = Object.keys(values);\n    for (const key of keys) {\n      const value = stringify(values[key]);\n      localStorage.setItem(key, value);\n    }\n  }\n}\n\nfunction stringify(value: any) {\n  try {\n    return JSON.stringify(value);\n  } catch (error) {\n    return value;\n  }\n}\n\nconst storage = {\n  get,\n  save,\n};\n\nexport default storage;\n","// import { browser } from \"webextension-polyfill-ts\";\n\ndeclare var browser: any;\n\nfunction isBrowserAPIAvailable(): boolean {\n  try {\n    return !!browser;\n  } catch (error) {\n    return false;\n  }\n}\n\nexport const isWebExtension: boolean = isBrowserAPIAvailable();\n\nexport function isPopup(): boolean {\n  // have to be a function not a const, 'cause we need to check the window size multiple times not only once\n  return window.innerWidth < 1000;\n}\n\nexport function isFirefox(): boolean {\n  return navigator.userAgent.indexOf('Firefox') !== -1;\n}\n\nexport function isChrome(): boolean {\n  return navigator.userAgent.indexOf('Chrome') !== -1;\n}\n\nexport function createTab(url: string, isActive: boolean = true): Promise<any> {\n  return browser.tabs.create({\n    url,\n    active: isActive,\n  });\n}\n\nexport function getUrl(path: string): string {\n  return browser.runtime.getURL(path);\n}\n\nexport const indexUrl = isWebExtension ? getUrl('index.html') : '';\n\nexport function executeScript(tabId: number, code: string): void {\n  browser.tabs.executeScript(tabId, {\n    code,\n  });\n}\n\ninterface NotificationButton {\n  title: string;\n  iconUrl?: string;\n}\n\ninterface NotificationItem {\n  title: string;\n  message: string;\n}\n\ninterface NotificationParams {\n  id?: string;\n  title?: string;\n  message: string;\n  contextMessage?: string;\n  type?: string;\n  imageUrl?: string;\n  iconUrl?: string;\n  buttons?: NotificationButton[];\n  items?: NotificationItem[];\n}\n\n// Notes:\n// - id will be auto-generated if empty\n// - Firefox only supports the 'basic' type @see https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/notifications/TemplateType#type\nexport function sendNotification(params: NotificationParams): void {\n  const {\n    id,\n    type = 'basic',\n    title = 'YouTube viewer',\n    iconUrl = 'icons/128.png',\n    ...rest\n  } = params;\n  browser.notifications.create(id, {\n    type,\n    title,\n    iconUrl,\n    ...rest,\n  });\n}\n\nexport function sendMessage(message: string, ...params: any) {\n  return browser.runtime.sendMessage({\n    message,\n    params,\n  });\n}\n\nexport function setBadgeText(text: string | number): void {\n  browser.browserAction.setBadgeText({\n    text: text === 0 ? '' : text.toString(),\n  });\n}\n\nexport function setBadgeColors(\n  backgroundColor: string,\n  textColor: string\n): void {\n  if (isFirefox()) {\n    browser.browserAction.setBadgeTextColor({ color: textColor });\n  }\n  browser.browserAction.setBadgeBackgroundColor({ color: backgroundColor });\n}\n\nexport function getBadgeText(): Promise<string> {\n  return browser.browserAction.getBadgeText({});\n}\n","import { createSelector } from '@reduxjs/toolkit';\nimport type { RootState } from 'store';\nimport { Channel } from 'types';\n\nexport const selectChannels = (state: RootState) => state.channels.list;\n\nexport const selectActiveChannels = createSelector(selectChannels, (channels) =>\n  channels.filter(({ isHidden }) => !isHidden)\n);\n\nexport const selectNotificationEnabledChannels = createSelector(\n  selectChannels,\n  (channels) =>\n    channels.filter(\n      ({ isHidden, notifications }) => !isHidden && !notifications?.isDisabled\n    )\n);\n\nexport const selectChannelsCount = createSelector(\n  selectChannels,\n  (channels) => channels.length\n);\n\nexport const selectChannel = (channel: Channel) =>\n  createSelector(selectChannels, (channels) =>\n    channels.find(({ id }) => id === channel.id)\n  );\n","import type { RootState } from 'store';\nimport { createSelector } from '@reduxjs/toolkit';\nimport { Channel, Video } from 'types';\n\nconst selectVideos = (state: RootState) => state.videos.list;\n\nexport const selectViewedVideos = (channel?: Channel) =>\n  createSelector(selectVideos, (videos) =>\n    videos.filter(\n      ({ isViewed, channelId }) =>\n        isViewed && (!channel || channel.id === channelId)\n    )\n  );\n\nexport const selectWatchLaterVideos = (channel?: Channel) =>\n  createSelector(selectVideos, (videos) =>\n    videos\n      .filter(\n        ({ isToWatchLater, channelId }) =>\n          isToWatchLater && (!channel || channel.id === channelId)\n      )\n      .sort((a, b) => b.publishedAt - a.publishedAt)\n  );\n\nexport const selectWatchLaterVideosCount = (state: RootState) => {\n  const hiddenChannels = state.channels.list\n    .filter((channel) => channel.isHidden)\n    .map(({ id }) => id);\n  return state.videos.list.filter(\n    ({ isToWatchLater, channelId }) =>\n      isToWatchLater && !hiddenChannels.includes(channelId)\n  ).length;\n};\n\nexport const selectViewedWatchLaterVideosCount = (state: RootState) => {\n  const hiddenChannels = state.channels.list\n    .filter((channel) => channel.isHidden)\n    .map(({ id }) => id);\n  return state.videos.list.filter(\n    ({ isToWatchLater, isViewed, channelId }) =>\n      isToWatchLater && isViewed && !hiddenChannels.includes(channelId)\n  ).length;\n};\n\nexport const selectVideoMeta = (video: Video) =>\n  createSelector(selectVideos, (videos) => {\n    const { isViewed = false, isToWatchLater = false } =\n      videos.find(({ id }) => id === video.id) || {};\n    return {\n      isViewed,\n      isToWatchLater,\n    };\n  });\n","import { useWidth } from './useWidth';\n\ninterface GridColumns {\n  [key: string]: number;\n}\n\nexport function useGrid(columns: GridColumns) {\n  const width = useWidth('xl');\n\n  return {\n    itemsPerRow: columns[width],\n  };\n}\n","import { Breakpoint, useTheme } from '@mui/material/styles';\nimport useMediaQuery from '@mui/material/useMediaQuery';\n\n/**\n * Be careful using this hook. It only works because the number of\n * breakpoints in theme is static. It will break once you change the number of\n * breakpoints. See https://reactjs.org/docs/hooks-rules.html#only-call-hooks-at-the-top-level\n */\nexport function useWidth(defaultWidth: Breakpoint = 'xs') {\n  const theme = useTheme();\n  const keys = [...theme.breakpoints.keys].reverse();\n\n  return (\n    keys.reduce((output: string | null, key: Breakpoint) => {\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      const matches = useMediaQuery(theme.breakpoints.up(key));\n      return !output && matches ? key : output;\n    }, null) || defaultWidth\n  );\n}\n","const { REACT_APP_DEBUG } = process.env;\n\nfunction time() {\n  const now = new Date();\n  return `[${now.getHours()}:${now.getMinutes()}:${now.getSeconds()}]`;\n}\n\nexport function log(message: any, ...params: any) {\n  if (REACT_APP_DEBUG) {\n    console.log(time(), message, ...params);\n  }\n}\n","import React, { useState, useEffect, useRef } from 'react';\nimport { Channel, Video } from 'types';\nimport { useGetChannelVideosQuery } from 'store/services/youtube';\nimport { getDateBefore } from 'helpers/utils';\nimport { useAppSelector } from 'store';\nimport { selectViewedVideos } from 'store/selectors/videos';\nimport { useInterval } from 'hooks';\nimport { log } from './logger';\n\nexport interface CheckEndData {\n  channel: Channel;\n  newVideos: Video[];\n}\n\ninterface ChannelCheckerProps {\n  channel: Channel;\n  onCheckEnd: (data: CheckEndData) => void;\n}\n\nconst defaults = {\n  checkInterval: 30, // minute(s)\n  videosSeniority: 1, // day(s)\n};\n\nexport default function ChannelChecker(props: ChannelCheckerProps) {\n  const { channel, onCheckEnd } = props;\n  const [ready, setReady] = useState(false);\n  const checkedVideosIds = useRef<string[]>([]);\n  const viewedVideos = useAppSelector(selectViewedVideos(channel));\n  const publishedAfter = getDateBefore(defaults.videosSeniority).toISOString();\n  const pollingInterval = defaults.checkInterval * 60000; // convert minutes to milliseconds\n  const { data, isFetching, refetch } = useGetChannelVideosQuery(\n    {\n      channel,\n      publishedAfter,\n    },\n    {\n      skip: !ready,\n      // pollingInterval,\n    }\n  );\n\n  useInterval(() => {\n    if (!ready) {\n      setReady(true);\n    } else {\n      refetch();\n    }\n  }, pollingInterval);\n\n  useEffect(() => {\n    if (!isFetching && data) {\n      let newVideos: Video[] = [];\n      const videos = data?.items || [];\n      const total = data?.total || 0;\n      log('Fetch ended:', total, data);\n      if (total > 0) {\n        const viewedVideosIds = viewedVideos.map(({ id }) => id);\n        newVideos = videos.filter(\n          (video) =>\n            !viewedVideosIds.includes(video.id) &&\n            !checkedVideosIds.current.includes(video.id)\n        );\n        if (newVideos.length > 0) {\n          log(`New videos for channel ${channel.title}:`, newVideos);\n          checkedVideosIds.current.push(...newVideos.map(({ id }) => id));\n        }\n      }\n      onCheckEnd({\n        channel,\n        newVideos,\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isFetching]);\n\n  return <span>Silence is golden!</span>;\n}\n","import { useEffect, useRef } from 'react';\n\nexport function useInterval(callback: () => void, delay: number | null) {\n  const savedCallback = useRef(callback);\n\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  useEffect(() => {\n    if (delay === null) {\n      return;\n    }\n    const id = setInterval(() => savedCallback.current(), delay);\n    return () => clearInterval(id);\n  }, [delay]);\n}\n","import type { RootState } from 'store';\nimport { createSelector } from 'reselect';\n\nexport const selectSettings = (state: RootState) => state.settings;\n\nexport const selectMode = createSelector(selectSettings, (settings) =>\n  settings.darkMode ? 'dark' : 'light'\n);\n","import React, { useEffect, useRef } from 'react';\nimport {\n  isWebExtension,\n  setBadgeColors,\n  setBadgeText,\n  createTab,\n  indexUrl,\n  getBadgeText,\n  sendNotification,\n} from 'helpers/webext';\nimport { useAppSelector, useAppDispatch, storageKey } from 'store';\nimport { selectNotificationEnabledChannels } from 'store/selectors/channels';\nimport { setSettings } from 'store/reducers/settings';\nimport { setChannels } from 'store/reducers/channels';\nimport { setVideos } from 'store/reducers/videos';\nimport ChannelChecker, { CheckEndData } from './ChannelChecker';\nimport { log } from './logger';\nimport { selectSettings } from 'store/selectors/settings';\n\ndeclare var browser: any;\n\ninterface BackgroundProps {}\n\nexport let isBackgroundPageRunning = false;\n\nexport function Background(props: BackgroundProps) {\n  const responses = useRef<CheckEndData[]>([]);\n  const channels = useAppSelector(selectNotificationEnabledChannels);\n  const settings = useAppSelector(selectSettings);\n  const dispatch = useAppDispatch();\n\n  useEffect(() => {\n    if (settings.enableNotifications) {\n      responses.current = [];\n    }\n  }, [settings.enableNotifications]);\n\n  const openHomePage = () => {\n    setBadgeText('');\n    createTab(indexUrl);\n  };\n\n  const init = () => {\n    setBadgeColors('#666', '#fff');\n    // Handle click on notifications\n    browser.notifications.onClicked.addListener((notificationId: string) => {\n      log('Notification clicked:', notificationId);\n      openHomePage();\n    });\n    browser.notifications.onButtonClicked.addListener(\n      (notificationId: string, buttonIndex: number) => {\n        log(`Notification button ${buttonIndex} clicked:`, notificationId);\n        log('channels', channels);\n        const [, channelId] = notificationId.split('::');\n        const url = channels.find((channel) => channel.id === channelId)?.url;\n        if (url?.length) {\n          createTab(url);\n        }\n      }\n    );\n    // Handle click on browser action\n    // only works if \"browser_action\" > \"default_popup\" is not set on manifest\n    browser.browserAction.onClicked.addListener((tab: any) => {\n      log('Browser action clicked:', tab);\n      openHomePage();\n    });\n    // Handle storage change\n    browser.storage.onChanged.addListener((changes: any, areaName: string) => {\n      log('Storage changed:', areaName, changes);\n      if (areaName === 'local') {\n        const { settings, channels, videos } = changes[storageKey].newValue;\n        dispatch(setSettings(settings));\n        dispatch(setChannels(channels));\n        dispatch(setVideos(videos));\n      }\n    });\n  };\n\n  useEffect(() => {\n    if (isWebExtension) {\n      init();\n      log('Background page initialised.');\n      isBackgroundPageRunning = true;\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const updateBadge = async (count: number) => {\n    const badgeText: string = await getBadgeText();\n    if (badgeText.length) {\n      count += +badgeText;\n    }\n    log('Updating badge:', count);\n    setBadgeText(count);\n  };\n\n  const handleCheckEnd = (data: CheckEndData) => {\n    responses.current.push(data);\n    // Once all channel checkers responded to us\n    if (responses.current.length === channels.length) {\n      // Get total count of new videos\n      const count = responses.current.reduce(\n        (acc, cur) => acc + cur.newVideos.length,\n        0\n      );\n      // Update badge count & send notification\n      if (count > 0) {\n        updateBadge(count);\n        const maxChannelTitles = 5;\n        const responsesCount = responses.current.length;\n        const channelTitles = responses.current\n          .filter(({ newVideos }) => newVideos.length > 0)\n          .slice(0, Math.min(maxChannelTitles, responsesCount))\n          .map(({ channel }) => channel.title)\n          .join(', ');\n        sendNotification({\n          title: `YouTube viewer (${count} new video${count > 1 ? 's' : ''})`,\n          message: `Posted by ${channelTitles}${\n            responsesCount > maxChannelTitles ? ' & others' : ''\n          }.`,\n          // id: `${new Date().getTime()}::${channel.id}`,\n          // items: newVideos.map((video) => ({ // only if notification type is 'list'\n          //   title: video.title,\n          //   message: video.url,\n          // })),\n          // contextMessage: channel.url,\n          // buttons: [\n          //   {\n          //     title: 'Open channel',\n          //   },\n          // ],\n        });\n      }\n      // Reset the responses array\n      responses.current = [];\n    }\n  };\n\n  return isWebExtension ? (\n    <>\n      {settings.enableNotifications\n        ? channels.map((channel, index) => (\n            <ChannelChecker\n              key={index}\n              channel={channel}\n              onCheckEnd={handleCheckEnd}\n            />\n          ))\n        : null}\n    </>\n  ) : (\n    <span>This script is not intended to run on a webapp.</span>\n  );\n}\n","import store, { RootState } from 'store';\nimport storage from 'helpers/storage';\nimport { isBackgroundPageRunning } from 'ui/components/webext';\nimport { setSettings } from './reducers/settings';\nimport { setChannels } from './reducers/channels';\nimport { setVideos } from './reducers/videos';\nimport { setApp } from './reducers/app';\n\nexport const storageKey = 'APP_YOUTUBE_VIEWER';\n\nlet ignoreNextStatePersist = false;\n\nexport const preloadState = async () => {\n  const state = await storage.get(storageKey);\n  if (!state) {\n    // Handle backward compatibility with v0.6.x\n    const legacy = (await storage.get('settings', 'channels')) || {};\n    if (legacy.settings) {\n      const { apiKey } = legacy.settings;\n      store.dispatch(setSettings({ apiKey }));\n    }\n    if (legacy.channels) {\n      store.dispatch(setChannels({ list: legacy.channels }));\n    }\n  } else {\n    // Load stored data\n    const { settings, channels, videos } = state || {};\n    if (settings) {\n      store.dispatch(setSettings(settings));\n    }\n    if (channels) {\n      store.dispatch(setChannels(channels));\n    }\n    if (videos) {\n      store.dispatch(setVideos(videos));\n    }\n    ignoreNextStatePersist = !!state;\n  }\n  store.dispatch(setApp({ loaded: true }));\n};\n\nexport const persistState = (state: RootState) => {\n  const ignore =\n    !state.app.loaded || isBackgroundPageRunning || ignoreNextStatePersist;\n  // console.log('Persist state:', !ignore, {\n  //   state,\n  //   isBackgroundPageRunning,\n  //   ignoreNextStatePersist,\n  // });\n  if (ignore) {\n    ignoreNextStatePersist = false;\n    return;\n  }\n  const { settings, channels, videos } = state;\n  storage.save({\n    [storageKey]: {\n      settings,\n      channels,\n      videos,\n    },\n  });\n};\n","import { configureStore } from '@reduxjs/toolkit';\nimport { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport settingsReducer from './reducers/settings';\nimport channelsReducer from './reducers/channels';\nimport videosReducer from './reducers/videos';\nimport appReducer from './reducers/app';\nimport { debounce } from 'helpers/utils';\nimport { youtubeApi } from './services/youtube';\nimport { preloadState, persistState } from './persist';\n\nconst store = configureStore({\n  reducer: {\n    settings: settingsReducer,\n    channels: channelsReducer,\n    videos: videosReducer,\n    app: appReducer,\n    [youtubeApi.reducerPath]: youtubeApi.reducer,\n  },\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware().concat(youtubeApi.middleware),\n});\n\nstore.subscribe(\n  debounce(() => {\n    persistState(store.getState());\n  }, 1000)\n);\n\n(async () => await preloadState())();\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\nexport { storageKey } from './persist';\n\nexport default store;\n","import type { RootState } from 'store';\n\nexport const selectApp = (state: RootState) => state.app;\n","import React from 'react';\nimport { Box, Typography, Link, List } from '@mui/material';\nimport ExploreIcon from '@mui/icons-material/Explore';\nimport SubscriptionsIcon from '@mui/icons-material/Subscriptions';\nimport SettingsIcon from '@mui/icons-material/Settings';\nimport InfoOutlinedIcon from '@mui/icons-material/InfoOutlined';\nimport ContactSupportIcon from '@mui/icons-material/ContactSupport';\nimport ListItemLink from './ListItemLink';\nimport Header from './Header';\nimport { useAppSelector } from 'store';\nimport { selectChannelsCount } from 'store/selectors/channels';\nimport { selectSettings } from 'store/selectors/settings';\nimport { selectApp } from 'store/selectors/app';\n\ninterface SidebarProps {}\n\nexport function Sidebar(props: SidebarProps) {\n  const app = useAppSelector(selectApp);\n  const channelsCount = useAppSelector(selectChannelsCount);\n  const settings = useAppSelector(selectSettings);\n\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        flexDirection: 'column',\n        minWidth: 280,\n        maxWidth: 280,\n        bgcolor: 'custom.lightGrey',\n        borderRight: 1,\n        borderColor: 'divider',\n      }}\n    >\n      <Box\n        sx={{\n          flexGrow: 1,\n          display: 'flex',\n          flexDirection: 'column',\n          py: 2.5,\n          pl: 3,\n        }}\n      >\n        <Box\n          sx={{\n            display: 'flex',\n            flexDirection: 'row',\n            alignItems: 'center',\n            marginBottom: 6,\n          }}\n        >\n          <Header showVersion />\n        </Box>\n        <Box sx={{ flexGrow: 1, paddingLeft: 1, width: '100%' }}>\n          <List component=\"nav\" aria-label=\"main\">\n            <ListItemLink icon={<ExploreIcon />} text=\"Home\" to=\"/\" />\n            <ListItemLink\n              icon={<SubscriptionsIcon />}\n              text=\"Channels\"\n              to=\"/channels\"\n              badge={channelsCount}\n            />\n            <ListItemLink\n              icon={<SettingsIcon />}\n              text=\"Settings\"\n              to=\"/settings\"\n              hasWarning={app.loaded && !settings.apiKey}\n            />\n            <ListItemLink\n              icon={<InfoOutlinedIcon />}\n              text=\"About\"\n              to=\"/about\"\n            />\n          </List>\n        </Box>\n      </Box>\n      <Box\n        sx={{\n          display: 'flex',\n          flexDirection: 'column',\n          py: 2,\n          px: 3,\n          borderTop: 1,\n          borderColor: 'divider',\n        }}\n      >\n        <Typography\n          sx={{ fontSize: '0.8rem', mb: 1 }}\n          variant=\"caption\"\n          color=\"text.secondary\"\n        >\n          Facing issues or have some feedback?\n        </Typography>\n        <Link\n          sx={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: 0.5,\n            fontSize: '0.8rem',\n            textDecoration: 'none',\n            '&:hover': {\n              textDecoration: 'underline',\n            },\n          }}\n          href=\"https://github.com/AXeL-dev/youtube-viewer/issues\"\n          target=\"_blank\"\n          color=\"secondary\"\n          rel=\"noopener\"\n        >\n          <ContactSupportIcon sx={{ fontSize: 18 }} />\n          Report a bug | Feedback\n        </Link>\n      </Box>\n    </Box>\n  );\n}\n","import React from 'react';\nimport { Box } from '@mui/material';\nimport { SxProps } from '@mui/system/styleFunctionSx';\nimport { Theme } from '@mui/material/styles';\n\ninterface LogoProps {\n  size: number;\n  sx?: SxProps<Theme>;\n}\n\nexport function Logo(props: LogoProps) {\n  const { size = 32, sx = {} } = props;\n\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        '> img': {\n          width: size,\n          height: size,\n          filter: 'contrast(150%) brightness(100%)',\n        },\n        ...sx,\n      }}\n    >\n      <img alt=\"logo\" src=\"icons/128.png\" />\n    </Box>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport MuiAlert, { AlertColor } from '@mui/material/Alert';\nimport { IconButton, Collapse } from '@mui/material';\nimport CloseIcon from '@mui/icons-material/Close';\n\ninterface AlertProps {\n  open?: boolean;\n  children?: React.ReactNode;\n  error?: any;\n  severity?: AlertColor;\n  closable?: boolean;\n  syncOpen?: boolean;\n  onClose?: () => void;\n}\n\nexport function Alert(props: AlertProps) {\n  const {\n    open: openProp = true,\n    error,\n    severity = 'error',\n    closable,\n    syncOpen,\n    onClose,\n  } = props;\n  const children = props.children || error?.data?.error.message || error?.error;\n  const [open, setOpen] = useState(openProp);\n\n  useEffect(() => {\n    if (syncOpen && openProp !== open) {\n      setOpen(openProp);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [openProp, syncOpen]);\n\n  const handleClose = () => {\n    setOpen(false);\n    if (onClose) {\n      onClose();\n    }\n  };\n\n  return (\n    <Collapse in={open}>\n      <MuiAlert\n        sx={{ borderRadius: 'unset' }}\n        severity={severity}\n        action={\n          closable ? (\n            <IconButton\n              aria-label=\"close\"\n              color=\"inherit\"\n              size=\"small\"\n              onClick={handleClose}\n            >\n              <CloseIcon fontSize=\"inherit\" />\n            </IconButton>\n          ) : null\n        }\n      >\n        {children}\n      </MuiAlert>\n    </Collapse>\n  );\n}\n","import React from 'react';\n\ninterface RawHTMLProps {\n  children: string;\n  tag?: string;\n  nl2br?: boolean;\n}\n\nexport const RawHTML = ({\n  children,\n  tag = 'span',\n  nl2br,\n  ...rest\n}: RawHTMLProps) =>\n  React.createElement(tag, {\n    dangerouslySetInnerHTML: {\n      __html: nl2br\n        ? children.replace\n          ? children.replace(/\\n/g, '<br />')\n          : children\n        : children,\n    },\n    ...rest,\n  });\n","import { styled } from '@mui/material/styles';\nimport InputBase from '@mui/material/InputBase';\n\nconst Input = styled(InputBase)(({ theme }) => ({\n  flexGrow: 1,\n  color: theme.palette.text.primary,\n  backgroundColor: theme.palette.custom.lightGrey,\n  border: `1px solid ${theme.palette.custom.lightBorder}`,\n  borderRadius: 20,\n  '& .MuiInputBase-input': {\n    padding: theme.spacing(1, 5, 1, 6),\n    width: '100%',\n  },\n}));\n\nexport default Input;\n","import React from 'react';\nimport { Box, IconButton } from '@mui/material';\nimport { debounce } from 'helpers/utils';\nimport SearchIcon from '@mui/icons-material/Search';\nimport CloseIcon from '@mui/icons-material/Close';\nimport Input from './Input';\n\ninterface SearchInputProps {\n  placeholder?: string;\n  width?: string | number;\n  clearable?: boolean;\n  debounceTime?: number;\n  onChange: (value: string) => void;\n  onClear?: () => void;\n}\n\nexport function SearchInput(props: SearchInputProps) {\n  const {\n    placeholder = 'Search',\n    width: maxWidth,\n    clearable,\n    debounceTime = 300,\n    onChange,\n    onClear,\n  } = props;\n  const [value, setValue] = React.useState('');\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setValue(event.target.value);\n  };\n\n  const handleClear = () => {\n    setValue('');\n    if (onClear) {\n      onClear();\n    }\n  };\n\n  const handleKeyUp = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    if (event.key === 'Enter') {\n      onChange(value);\n    }\n  };\n\n  const debounceChange = React.useMemo(\n    () =>\n      debounce((value: string) => {\n        onChange(value);\n      }, debounceTime),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n\n  React.useEffect(() => {\n    if (value === '') {\n      return;\n    }\n\n    debounceChange(value);\n  }, [value, debounceChange]);\n\n  return (\n    <Box sx={{ position: 'relative', display: 'flex', flexGrow: 1, maxWidth }}>\n      <Box\n        sx={{\n          width: 48,\n          height: '100%',\n          position: 'absolute',\n          pointerEvents: 'none',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          color: 'action.active',\n          zIndex: 1,\n        }}\n      >\n        <SearchIcon />\n      </Box>\n      <Input\n        placeholder={placeholder}\n        inputProps={{ value, 'aria-label': 'search' }}\n        onChange={handleChange}\n        onKeyUp={handleKeyUp}\n      />\n      {clearable && value?.length > 0 ? (\n        <IconButton\n          sx={{\n            position: 'absolute',\n            right: 0,\n            top: 0,\n            my: 0.75,\n            mx: 1,\n            color: 'action.active',\n          }}\n          aria-label=\"clear\"\n          size=\"small\"\n          onClick={handleClear}\n        >\n          <CloseIcon fontSize=\"inherit\" />\n        </IconButton>\n      ) : null}\n    </Box>\n  );\n}\n","import { styled } from '@mui/material/styles';\nimport MuiLinearProgress, {\n  linearProgressClasses,\n} from '@mui/material/LinearProgress';\n\nconst LinearProgress = styled(MuiLinearProgress)(({ theme }) => ({\n  height: 3,\n  [`&.${linearProgressClasses.colorPrimary}`]: {\n    backgroundColor:\n      theme.palette.grey[theme.palette.mode === 'light' ? 200 : 800],\n  },\n  [`& .${linearProgressClasses.bar}`]: {\n    borderRadius: 5,\n    backgroundColor: theme.palette.mode === 'light' ? '#1a90ff' : '#308fe8',\n  },\n}));\n\nexport default LinearProgress;\n","import * as React from 'react';\nimport { Box, LinearProgressProps } from '@mui/material';\nimport LinearProgress from './LinearProgress';\n\nexport function ProgressBar(props: LinearProgressProps) {\n  const { variant = 'determinate', value = 0 } = props;\n  return (\n    <Box sx={{ flexGrow: 1 }}>\n      <LinearProgress variant={variant} value={value} />\n    </Box>\n  );\n}\n","import { styled } from '@mui/material/styles';\nimport MuiBadge from '@mui/material/Badge';\n\nconst Badge = styled(MuiBadge)(({ theme }) => ({\n  '& .MuiBadge-badge': {\n    position: 'relative',\n    transform: 'none',\n    backgroundColor: theme.palette.primary.main,\n    color: theme.palette.common.white,\n    minWidth: 20,\n    height: 20,\n    fontSize: '0.75rem',\n    marginLeft: theme.spacing(1.5),\n    borderRadius: theme.spacing(1.5),\n  },\n}));\n\nexport default Badge;\n","import React from 'react';\nimport { Box } from '@mui/material';\nimport MuiTab, { TabProps as MuiTabProps } from '@mui/material/Tab';\nimport Badge from './Badge';\n\ninterface TabProps extends MuiTabProps {\n  badge?: React.ReactNode;\n  selected?: boolean;\n}\n\nexport default function Tab(props: TabProps) {\n  const { label, badge, selected, ...rest } = props;\n\n  return (\n    <MuiTab\n      sx={{\n        fontSize: '0.975rem',\n        fontWeight: 400,\n        minWidth: 140,\n        textTransform: 'capitalize',\n      }}\n      label={\n        <Box sx={{ display: 'flex', alignItems: 'center' }}>\n          {label}\n          {badge && selected ? <Badge badgeContent={badge} /> : null}\n        </Box>\n      }\n      disableRipple\n      {...rest}\n    />\n  );\n}\n","import React, { MouseEvent } from 'react';\nimport { IconButton } from '@mui/material';\nimport CloseIcon from '@mui/icons-material/Close';\n\ninterface CloseButtonProps {\n  onClick: (event: MouseEvent) => void;\n}\n\nexport default function CloseButton(props: CloseButtonProps) {\n  const { onClick } = props;\n\n  return (\n    <IconButton\n      sx={{\n        position: 'absolute',\n        top: (theme) => theme.spacing(-1.75),\n        right: (theme) => theme.spacing(-1.75),\n        bgcolor: 'primary.main',\n        color: 'common.white',\n        fontSize: '1.275rem',\n        '&:hover': {\n          bgcolor: 'primary.main',\n          color: 'common.white',\n        },\n      }}\n      size=\"small\"\n      onClick={onClick}\n    >\n      <CloseIcon fontSize=\"inherit\" />\n    </IconButton>\n  );\n}\n","import React, { MouseEvent } from 'react';\nimport YouTube, { PlayerVars } from 'react-youtube';\nimport { Dialog, DialogContent } from '@mui/material';\nimport { Video } from 'types';\nimport { noop } from 'helpers/utils';\nimport { useAppSelector } from 'store';\nimport { selectSettings } from 'store/selectors/settings';\nimport CloseButton from './CloseButton';\n\ninterface PlayVideoDialogProps {\n  open: boolean;\n  video: Video | null;\n  onClose: () => void;\n}\n\nfunction PlayVideoDialog(props: PlayVideoDialogProps) {\n  const { open, video, onClose } = props;\n  const settings = useAppSelector(selectSettings);\n  const opts = {\n    height: '100%',\n    width: '100%',\n    playerVars: {\n      // https://developers.google.com/youtube/player_parameters\n      autoplay: settings.autoPlayVideos ? 1 : 0,\n    } as PlayerVars,\n  };\n\n  const handleClose = (event: MouseEvent, reason?: string) => {\n    if (reason === 'backdropClick') {\n      return noop(event);\n    }\n    onClose();\n  };\n\n  return (\n    <Dialog\n      sx={{\n        '& .MuiPaper-root': {\n          overflow: 'visible',\n          width: '80%',\n          maxWidth: 1200,\n          height: '80%',\n        },\n      }}\n      open={open}\n      onClose={handleClose}\n    >\n      <CloseButton onClick={handleClose} />\n      <DialogContent\n        sx={{\n          display: 'flex',\n          p: 2.5,\n          '> div': {\n            flexGrow: 1,\n          },\n        }}\n      >\n        {video ? <YouTube videoId={video.id} opts={opts} /> : null}\n      </DialogContent>\n    </Dialog>\n  );\n}\n\nfunction propsAreEqual(\n  prevProps: PlayVideoDialogProps,\n  nextProps: PlayVideoDialogProps\n) {\n  return (\n    prevProps.open === nextProps.open &&\n    prevProps.video?.id === nextProps.video?.id\n  );\n}\n\nexport default React.memo(PlayVideoDialog, propsAreEqual);\n","import React from 'react';\nimport { Link } from '@mui/material';\nimport { Channel } from 'types';\n\ninterface ChannelLinkProps {\n  channel: Channel;\n  children: React.ReactNode;\n}\n\nfunction ChannelLink(props: ChannelLinkProps) {\n  const { channel, children } = props;\n\n  return (\n    <Link\n      sx={{ outline: 'none', textDecoration: 'none' }}\n      href={channel.url}\n      target=\"_blank\"\n      rel=\"noopener\"\n    >\n      {children}\n    </Link>\n  );\n}\n\nexport default ChannelLink;\n","import React from 'react';\nimport { Box, Avatar, Typography } from '@mui/material';\nimport { Channel } from 'types';\nimport ChannelLink from './ChannelLink';\n\ninterface ChannelTitleProps {\n  channel: Channel;\n}\n\nfunction ChannelTitle(props: ChannelTitleProps) {\n  const { channel } = props;\n\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        alignItems: 'center',\n        pb: 2,\n      }}\n    >\n      <ChannelLink channel={channel}>\n        <Avatar alt={channel.title} src={channel.thumbnail} />\n      </ChannelLink>\n      <ChannelLink channel={channel}>\n        <Typography sx={{ ml: 1.5 }} variant=\"subtitle1\" color=\"text.primary\">\n          {channel.title}\n        </Typography>\n      </ChannelLink>\n    </Box>\n  );\n}\n\nfunction propsAreEqual(\n  prevProps: ChannelTitleProps,\n  nextProps: ChannelTitleProps\n) {\n  return prevProps.channel.id === nextProps.channel.id;\n}\n\nexport default React.memo(ChannelTitle, propsAreEqual);\n","import React from 'react';\nimport { IconButton, Tooltip } from '@mui/material';\nimport WatchLaterOutlinedIcon from '@mui/icons-material/WatchLaterOutlined';\nimport CloseIcon from '@mui/icons-material/Close';\nimport { HomeView, Video } from 'types';\nimport { useAppDispatch, useAppSelector } from 'store';\nimport {\n  addToWatchLaterList,\n  removeFromWatchLaterList,\n} from 'store/reducers/videos';\nimport { selectVideoMeta } from 'store/selectors/videos';\n\ninterface WatchLaterActionProps {\n  video: Video;\n  view: HomeView;\n}\n\nfunction WatchLaterAction(props: WatchLaterActionProps) {\n  const { video, view } = props;\n  const { isToWatchLater } = useAppSelector(selectVideoMeta(video));\n  const dispatch = useAppDispatch();\n\n  return !isToWatchLater ? (\n    <Tooltip title=\"Watch later\" aria-label=\"watch-later\">\n      <IconButton\n        sx={{\n          display: 'flex',\n          position: 'absolute',\n          top: 0,\n          right: 0,\n          margin: '4px',\n          color: '#eee',\n          backgroundColor: 'rgba(0, 0, 0, 0.8)',\n          padding: '4px',\n          borderRadius: '2px',\n          '&:hover': {\n            color: '#fff',\n          },\n        }}\n        size=\"small\"\n        onClick={() => {\n          dispatch(addToWatchLaterList(video));\n        }}\n      >\n        <WatchLaterOutlinedIcon sx={{ fontSize: '1.25rem' }} />\n      </IconButton>\n    </Tooltip>\n  ) : view === HomeView.WatchLater ? (\n    <Tooltip title=\"Remove\" aria-label=\"remove-from-watch-later\">\n      <IconButton\n        sx={{\n          display: 'flex',\n          position: 'absolute',\n          top: 0,\n          right: 0,\n          margin: '4px',\n          color: '#eee',\n          backgroundColor: 'rgba(0, 0, 0, 0.8)',\n          padding: '4px',\n          borderRadius: '2px',\n          '&:hover': {\n            color: '#fff',\n          },\n        }}\n        size=\"small\"\n        onClick={() => {\n          dispatch(removeFromWatchLaterList(video));\n        }}\n      >\n        <CloseIcon sx={{ fontSize: '1.125rem' }} />\n      </IconButton>\n    </Tooltip>\n  ) : null;\n}\n\nfunction propsAreEqual(\n  prevProps: WatchLaterActionProps,\n  nextProps: WatchLaterActionProps\n) {\n  return (\n    prevProps.view === nextProps.view &&\n    prevProps.video.id === nextProps.video.id\n  );\n}\n\nexport default React.memo(WatchLaterAction, propsAreEqual);\n","import React from 'react';\nimport { Box, Tooltip } from '@mui/material';\nimport VisibilityIcon from '@mui/icons-material/Visibility';\nimport { Video } from 'types';\nimport { useAppSelector } from 'store';\nimport { selectVideoMeta } from 'store/selectors/videos';\n\ninterface ViewedBadgeProps {\n  video: Video;\n}\n\nfunction ViewedBadge(props: ViewedBadgeProps) {\n  const { video } = props;\n  const { isViewed } = useAppSelector(selectVideoMeta(video));\n\n  return isViewed ? (\n    <Tooltip title=\"Viewed\" aria-label=\"viewed\">\n      <Box\n        sx={{\n          display: 'flex',\n          position: 'absolute',\n          bottom: 0,\n          left: 0,\n          margin: '4px',\n          color: '#eee',\n          backgroundColor: 'rgba(0, 0, 0, 0.8)',\n          padding: '3px 5px',\n          borderRadius: '2px',\n          '&:hover': {\n            color: '#fff',\n          },\n        }}\n      >\n        <VisibilityIcon sx={{ fontSize: '1rem' }} />\n      </Box>\n    </Tooltip>\n  ) : null;\n}\n\nfunction propsAreEqual(\n  prevProps: ViewedBadgeProps,\n  nextProps: ViewedBadgeProps\n) {\n  return prevProps.video.id === nextProps.video.id;\n}\n\nexport default React.memo(ViewedBadge, propsAreEqual);\n","import React, { MouseEvent } from 'react';\nimport { Box, IconButton, Tooltip, Typography, Link } from '@mui/material';\nimport OpenInNewIcon from '@mui/icons-material/OpenInNew';\nimport PlayArrowIcon from '@mui/icons-material/PlayArrow';\nimport { HomeView, Video } from 'types';\nimport { useAppDispatch } from 'store';\nimport { addToViewedList } from 'store/reducers/videos';\nimport WatchLaterAction from './WatchLaterAction';\nimport ViewedBadge from './ViewedBadge';\nimport { createTab, isWebExtension } from 'helpers/webext';\n\ninterface VideoCardProps {\n  video: Video;\n  view: HomeView;\n  thumbnailWidth?: number;\n  thumbnailHeight?: number;\n  onVideoPlay: (video: Video) => void;\n}\n\nfunction VideoCard(props: VideoCardProps) {\n  const {\n    video,\n    view,\n    thumbnailWidth = '100%',\n    thumbnailHeight = 120,\n    onVideoPlay,\n  } = props;\n  const dispatch = useAppDispatch();\n\n  return (\n    <>\n      <Box\n        sx={{\n          position: 'relative',\n          '&:hover .overlay': {\n            opacity: 1,\n          },\n          '&:hover .options': {\n            opacity: 1,\n          },\n        }}\n      >\n        <Box\n          sx={{\n            display: 'flex',\n            width: thumbnailWidth,\n            height: thumbnailHeight,\n            backgroundImage: `url(\"${video.thumbnail}\")`,\n            //backgroundPosition: 'center',\n            backgroundRepeat: 'no-repeat',\n            backgroundSize: 'cover',\n          }}\n        />\n        <Box\n          sx={{\n            backgroundColor: 'rgba(0, 0, 0, 0.7)',\n            position: 'absolute',\n            height: '100%',\n            width: '100%',\n            left: 0,\n            top: 0,\n            bottom: 0,\n            right: 0,\n            opacity: 0,\n            transition: 'opacity 0.4s ease-in-out 0s',\n          }}\n          className=\"overlay\"\n        ></Box>\n        <Box\n          sx={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            opacity: 0,\n            width: '100%',\n            height: '100%',\n            transition: 'opacity 0.3s ease-in-out 0s',\n          }}\n          className=\"options\"\n        >\n          <Box\n            sx={{\n              position: 'absolute',\n              top: '50%',\n              left: '50%',\n              transform: 'translate(-50%, -50%)',\n              width: '100%',\n              textAlign: 'center',\n              paddingLeft: '1rem',\n              paddingRight: '1rem',\n            }}\n          >\n            <Link\n              sx={{ textDecoration: 'none', outline: 'none' }}\n              href={video.url}\n              target=\"_blank\"\n              rel=\"noopener\"\n              onClick={(event: MouseEvent) => {\n                if (isWebExtension) {\n                  event.preventDefault();\n                  createTab(video.url, false);\n                }\n                dispatch(addToViewedList(video));\n              }}\n            >\n              <IconButton sx={{ color: '#fff', margin: 0.5 }} size=\"small\">\n                <Tooltip title=\"Open in Youtube\" aria-label=\"watch-later\">\n                  <OpenInNewIcon sx={{ fontSize: '1.5rem' }} />\n                </Tooltip>\n              </IconButton>\n            </Link>\n            <IconButton\n              sx={{ color: '#fff', margin: 0.5 }}\n              size=\"small\"\n              onClick={() => {\n                onVideoPlay(video);\n                dispatch(addToViewedList(video));\n              }}\n            >\n              <Tooltip title=\"Watch\" aria-label=\"watch\">\n                <PlayArrowIcon sx={{ fontSize: '2.1rem' }} />\n              </Tooltip>\n            </IconButton>\n          </Box>\n          <WatchLaterAction video={video} view={view} />\n        </Box>\n        <ViewedBadge video={video} />\n        <Typography\n          sx={{\n            position: 'absolute',\n            bottom: 0,\n            right: 0,\n            margin: '4px',\n            color: '#fff',\n            backgroundColor: 'rgba(0, 0, 0, 0.8)',\n            padding: '2px 4px',\n            borderRadius: '2px',\n          }}\n          variant=\"caption\"\n        >\n          {video.duration}\n        </Typography>\n      </Box>\n      <Box pr={2} mt={1}>\n        <Tooltip\n          title={video.title}\n          enterDelay={700}\n          enterNextDelay={700}\n          aria-label=\"video-title\"\n        >\n          <Typography\n            sx={{\n              display: '-webkit-box',\n              WebkitLineClamp: 2,\n              WebkitBoxOrient: 'vertical',\n              overflow: 'hidden',\n            }}\n            gutterBottom\n            variant=\"body2\"\n          >\n            {video.title}\n          </Typography>\n        </Tooltip>\n        <Typography display=\"block\" variant=\"caption\" color=\"textSecondary\">\n          {video.channelTitle}\n        </Typography>\n        <Typography variant=\"caption\" color=\"textSecondary\">\n          {`${video.views}  ${video.publishedSince}`}\n        </Typography>\n      </Box>\n    </>\n  );\n}\n\nfunction propsAreEqual(prevProps: VideoCardProps, nextProps: VideoCardProps) {\n  return (\n    prevProps.view === nextProps.view &&\n    prevProps.thumbnailHeight === nextProps.thumbnailHeight &&\n    prevProps.thumbnailWidth === nextProps.thumbnailWidth &&\n    prevProps.video.id === nextProps.video.id\n  );\n}\n\nexport default React.memo(VideoCard, propsAreEqual);\n","import React from 'react';\nimport { Skeleton, Box } from '@mui/material';\n\ninterface VideoSkeletonProps {\n  width?: string | number;\n  height?: string | number;\n}\n\nexport default function VideoSkeleton(props: VideoSkeletonProps) {\n  const { width = '100%', height = 120 } = props;\n\n  return (\n    <>\n      <Skeleton variant=\"rectangular\" width={width} height={height} />\n      <Box pt={0.5}>\n        <Skeleton />\n        <Skeleton width=\"60%\" />\n      </Box>\n    </>\n  );\n}\n","import React from 'react';\nimport { Grid, GridProps } from '@mui/material';\n\ninterface GridItemProps extends GridProps {}\n\nexport default function GridItem(props: GridItemProps) {\n  const { children, ...rest } = props;\n  const sizes = {\n    xxs: 1,\n    xs: 1,\n    sm: 1,\n    md: 1,\n    lg: 1,\n    xl: 1,\n  } as any;\n\n  return (\n    <Grid item {...sizes} {...rest}>\n      {children}\n    </Grid>\n  );\n}\n","const config = {\n  gridSpacing: { xxs: 1, sm: 2 },\n  gridColumns: { xxs: 1, xs: 2, sm: 3, md: 4, lg: 5, xl: 6 },\n};\n\nexport default config;\n","import React from 'react';\nimport { Box, IconButton } from '@mui/material';\nimport ArrowForwardIosIcon from '@mui/icons-material/ArrowForwardIos';\n\ninterface LoadMoreProps {\n  isLoading: boolean;\n  hasMore?: boolean;\n  onClick?: () => void;\n}\n\nexport default function LoadMore(props: LoadMoreProps) {\n  const { isLoading, hasMore, onClick } = props;\n\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'flex-end',\n        minWidth: (theme) => theme.spacing(3.5),\n        ml: 2,\n        gap: 2,\n      }}\n    >\n      {hasMore ? (\n        <IconButton\n          sx={{ height: 216, borderRadius: 0 }}\n          disabled={isLoading}\n          size=\"small\"\n          onClick={onClick}\n        >\n          <ArrowForwardIosIcon fontSize=\"inherit\" />\n        </IconButton>\n      ) : null}\n    </Box>\n  );\n}\n","import React from 'react';\nimport { Box, Grid } from '@mui/material';\nimport { HomeView, Video } from 'types';\nimport VideoCard from './VideoCard';\nimport VideoSkeleton from './VideoSkeleton';\nimport GridItem from './GridItem';\nimport config from './config';\nimport LoadMore from './LoadMore';\n\ninterface ChannelVideosProps {\n  videos: Video[];\n  view: HomeView;\n  isLoading: boolean;\n  itemsPerRow: number;\n  maxResults: number;\n  hasMore?: boolean;\n  onVideoPlay: (video: Video) => void;\n  onLoadMore?: () => void;\n}\n\nfunction ChannelVideos(props: ChannelVideosProps) {\n  const {\n    videos,\n    view,\n    isLoading,\n    itemsPerRow,\n    maxResults,\n    hasMore,\n    onVideoPlay,\n    onLoadMore,\n  } = props;\n  const skeletonNumber = Math.min(maxResults - videos.length, itemsPerRow);\n\n  return (\n    <Box sx={{ display: 'flex', pl: 6 }}>\n      <Grid container spacing={config.gridSpacing} columns={config.gridColumns}>\n        {videos.map((video: Video, index: number) => (\n          <GridItem key={index}>\n            <VideoCard video={video} view={view} onVideoPlay={onVideoPlay} />\n          </GridItem>\n        ))}\n        {isLoading && skeletonNumber > 0\n          ? Array.from(new Array(skeletonNumber)).map((_, index: number) => (\n              <GridItem key={index}>\n                <VideoSkeleton />\n              </GridItem>\n            ))\n          : null}\n      </Grid>\n      <LoadMore isLoading={isLoading} hasMore={hasMore} onClick={onLoadMore} />\n    </Box>\n  );\n}\n\nexport default ChannelVideos;\n","import React from 'react';\nimport { Box } from '@mui/material';\nimport { Channel, HomeView, Video } from 'types';\nimport ChannelTitle from './ChannelTitle';\nimport ChannelVideos from './ChannelVideos';\n\nexport interface ChannelRendererProps {\n  view: HomeView;\n  channel: Channel;\n  videos: Video[];\n  total: number;\n  isLoading: boolean;\n  itemsPerRow: number;\n  maxResults: number;\n  onLoadMore: () => void;\n  onVideoPlay: (video: Video) => void;\n}\n\nfunction ChannelRenderer(props: ChannelRendererProps) {\n  const { channel, videos, total, isLoading, maxResults, ...rest } = props;\n  const hasVideos = isLoading || videos.length > 0;\n  const canLoadMore = total > maxResults;\n  const hasMore =\n    videos.length > 0 && ((isLoading && canLoadMore) || canLoadMore);\n\n  return hasVideos ? (\n    <Box\n      sx={{\n        display: 'flex',\n        flexDirection: 'column',\n        pb: 3,\n      }}\n    >\n      <ChannelTitle channel={channel} />\n      <ChannelVideos\n        videos={videos}\n        isLoading={isLoading}\n        maxResults={maxResults}\n        hasMore={hasMore}\n        {...rest}\n      />\n    </Box>\n  ) : null;\n}\n\nfunction propsAreEqual(\n  prevProps: ChannelRendererProps,\n  nextProps: ChannelRendererProps\n) {\n  return (\n    prevProps.view === nextProps.view &&\n    prevProps.channel.id === nextProps.channel.id &&\n    prevProps.total === nextProps.total &&\n    prevProps.isLoading === nextProps.isLoading &&\n    prevProps.itemsPerRow === nextProps.itemsPerRow &&\n    prevProps.maxResults === nextProps.maxResults &&\n    JSON.stringify(prevProps.videos.map(({ id }) => id)) ===\n      JSON.stringify(nextProps.videos.map(({ id }) => id))\n  );\n}\n\nexport default React.memo(ChannelRenderer, propsAreEqual);\n","import React, { useState, useEffect } from 'react';\nimport { Channel, HomeView, Video } from 'types';\nimport { useGetChannelVideosQuery } from 'store/services/youtube';\nimport ChannelRenderer from './ChannelRenderer';\nimport config from './ChannelVideos/config';\nimport { useGrid } from 'hooks';\n\nexport interface DefaultRendererProps {\n  channel: Channel;\n  view: HomeView;\n  publishedAfter?: string;\n  excludedVideosIds?: string[];\n  onError?: (error: any) => void;\n  onVideoPlay: (video: Video) => void;\n}\n\nfunction DefaultRenderer(props: DefaultRendererProps) {\n  const {\n    channel,\n    publishedAfter,\n    excludedVideosIds = [],\n    onError,\n    ...rest\n  } = props;\n  const [page, setPage] = useState(1);\n  const { itemsPerRow } = useGrid(config.gridColumns);\n  const maxResults = itemsPerRow * page;\n  const { data, error, isLoading, isFetching } = useGetChannelVideosQuery({\n    channel,\n    publishedAfter,\n    maxResults,\n  });\n  const videos =\n    data?.items.filter((video) => !excludedVideosIds.includes(video.id)) || [];\n  const total = data?.total || 0;\n\n  const handleLoadMore = () => {\n    setPage(page + 1);\n  };\n\n  useEffect(() => {\n    if (error && onError) {\n      onError(error);\n    }\n  }, [error, onError]);\n\n  return (\n    <ChannelRenderer\n      channel={channel}\n      videos={videos}\n      total={total}\n      isLoading={isLoading || isFetching}\n      itemsPerRow={itemsPerRow}\n      maxResults={maxResults}\n      onLoadMore={handleLoadMore}\n      {...rest}\n    />\n  );\n}\n\nexport default DefaultRenderer;\n","import React from 'react';\nimport { useAppSelector } from 'store';\nimport { selectSettings } from 'store/selectors/settings';\nimport { getDateBefore } from 'helpers/utils';\nimport DefaultRenderer, { DefaultRendererProps } from './DefaultRenderer';\nimport {\n  selectViewedVideos,\n  selectWatchLaterVideos,\n} from 'store/selectors/videos';\n\nexport interface RecentViewRendererProps\n  extends Omit<DefaultRendererProps, 'publishedAfter'> {}\n\nfunction RecentViewRenderer(props: RecentViewRendererProps) {\n  const { channel } = props;\n  const settings = useAppSelector(selectSettings);\n  const viewedVideos = useAppSelector(selectViewedVideos(channel));\n  const watchLaterVideos = useAppSelector(selectWatchLaterVideos(channel));\n  const excludedVideosIds = [\n    ...(settings.recentVideosDisplayOptions.hideViewedVideos\n      ? viewedVideos.map(({ id }) => id)\n      : []),\n    ...(settings.recentVideosDisplayOptions.hideWatchLaterVideos\n      ? watchLaterVideos.map(({ id }) => id)\n      : []),\n  ];\n  const publishedAfter = getDateBefore(\n    settings.recentVideosSeniority\n  ).toISOString();\n\n  return (\n    <DefaultRenderer\n      publishedAfter={publishedAfter}\n      excludedVideosIds={excludedVideosIds}\n      {...props}\n    />\n  );\n}\n\nexport default RecentViewRenderer;\n","import React, { useState, useEffect } from 'react';\nimport { Channel, HomeView, Video } from 'types';\nimport { useGetVideosByIdQuery } from 'store/services/youtube';\nimport { useAppSelector } from 'store';\nimport { selectWatchLaterVideos } from 'store/selectors/videos';\nimport ChannelRenderer from './ChannelRenderer';\nimport config from './ChannelVideos/config';\nimport { useGrid } from 'hooks';\n\nexport interface WatchLaterViewRendererProps {\n  channel: Channel;\n  onError?: (error: any) => void;\n  onVideoPlay: (video: Video) => void;\n}\n\nfunction WatchLaterViewRenderer(props: WatchLaterViewRendererProps) {\n  const { channel, onError, onVideoPlay } = props;\n  const [page, setPage] = useState(1);\n  const { itemsPerRow } = useGrid(config.gridColumns);\n  const watchLaterVideos = useAppSelector(selectWatchLaterVideos(channel));\n  const ids = watchLaterVideos.map(({ id }) => id);\n  const total = ids.length;\n  const maxResults = Math.min(total, itemsPerRow * page);\n  const { data, error, isLoading, isFetching } = useGetVideosByIdQuery({\n    ids,\n    maxResults: Math.max(maxResults, itemsPerRow),\n  });\n  const videos = (data?.items || []).filter((video) => ids.includes(video.id)); // filter deleted videos (before refetch)\n\n  const handleLoadMore = () => {\n    setPage(page + 1);\n  };\n\n  useEffect(() => {\n    if (error && onError) {\n      onError(error);\n    }\n  }, [error, onError]);\n\n  return (\n    <ChannelRenderer\n      view={HomeView.WatchLater}\n      channel={channel}\n      videos={videos}\n      total={total}\n      isLoading={isLoading || isFetching}\n      itemsPerRow={itemsPerRow}\n      maxResults={maxResults}\n      onLoadMore={handleLoadMore}\n      onVideoPlay={onVideoPlay}\n    />\n  );\n}\n\nexport default WatchLaterViewRenderer;\n","import React, { useMemo } from 'react';\nimport { Box } from '@mui/material';\nimport { Channel, HomeView, Video } from 'types';\nimport {\n  DefaultRenderer,\n  RecentViewRenderer,\n  WatchLaterViewRenderer,\n} from './ChannelRenderer';\n\ninterface ChannelsWrapperProps {\n  view: HomeView;\n  channels: Channel[];\n  onError?: (error: any) => void;\n  onVideoPlay: (video: Video) => void;\n}\n\nfunction ChannelsWrapper(props: ChannelsWrapperProps) {\n  const { view, channels, onError, onVideoPlay } = props;\n  const ChannelRenderer = useMemo(() => {\n    switch (view) {\n      case HomeView.WatchLater:\n        return WatchLaterViewRenderer;\n      case HomeView.Recent:\n        return RecentViewRenderer;\n      default:\n        return DefaultRenderer;\n    }\n  }, [view]);\n\n  return (\n    <Box\n      sx={{\n        flexGrow: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        overflow: 'auto',\n        px: 3,\n        pt: 3,\n      }}\n    >\n      {channels.map((channel: Channel, index: number) => (\n        <ChannelRenderer\n          key={index}\n          view={view}\n          channel={channel}\n          onError={onError}\n          onVideoPlay={onVideoPlay}\n        />\n      ))}\n    </Box>\n  );\n}\n\nfunction propsAreEqual(\n  prevProps: ChannelsWrapperProps,\n  nextProps: ChannelsWrapperProps\n) {\n  return (\n    prevProps.view === nextProps.view &&\n    JSON.stringify(prevProps.channels.map(({ id }) => id)) ===\n      JSON.stringify(nextProps.channels.map(({ id }) => id))\n  );\n}\n\nexport default React.memo(ChannelsWrapper, propsAreEqual);\n","import React from 'react';\nimport { Box, Typography, Button } from '@mui/material';\nimport { useHistory } from 'react-router-dom';\nimport PlaylistAddCheckIcon from '@mui/icons-material/PlaylistAddCheck';\nimport { useAppSelector } from 'store';\nimport { selectApp } from 'store/selectors/app';\n\ninterface NoChannelsProps {}\n\nexport default function NoChannels(props: NoChannelsProps) {\n  const app = useAppSelector(selectApp);\n  const history = useHistory();\n\n  return app.loaded ? (\n    <Box\n      sx={{\n        flexGrow: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n      }}\n    >\n      <Typography\n        sx={{ textAlign: 'center', fontSize: '1.125rem', mb: 2 }}\n        variant=\"body1\"\n        color=\"text.secondary\"\n      >\n        Welcome, stranger! To get started, you should add some channels\n      </Typography>\n      <Button\n        sx={{ textTransform: 'capitalize' }}\n        variant=\"contained\"\n        color=\"secondary\"\n        onClick={() => {\n          history.push('/channels');\n        }}\n      >\n        <PlaylistAddCheckIcon sx={{ fontSize: '1.25rem', mr: 0.5 }} />\n        Add channels\n      </Button>\n    </Box>\n  ) : null;\n}\n","import React, { useState } from 'react';\nimport { Alert } from 'ui/components/shared';\nimport { HomeView, Video } from 'types';\nimport { useAppSelector } from 'store';\nimport { selectActiveChannels } from 'store/selectors/channels';\nimport PlayVideoDialog from './PlayVideoDialog';\nimport ChannelsWrapper from './ChannelsWrapper';\nimport NoChannels from './NoChannels';\n\ninterface TabPanelProps {\n  tab: HomeView;\n}\n\nfunction TabPanel(props: TabPanelProps) {\n  const { tab } = props;\n  const [error, setError] = useState(null);\n  const [activeVideo, setActiveVideo] = useState<Video | null>(null);\n  const channels = useAppSelector(selectActiveChannels);\n\n  const handleVideoPlay = (video: Video) => {\n    setActiveVideo(video);\n  };\n\n  const handleVideoDialogClose = () => {\n    setActiveVideo(null);\n  };\n\n  const handleError = (err: any) => {\n    setError(err);\n  };\n\n  return error ? (\n    <Alert error={error} closable />\n  ) : (\n    <>\n      {channels.length > 0 ? (\n        <ChannelsWrapper\n          view={tab}\n          channels={channels}\n          onError={handleError}\n          onVideoPlay={handleVideoPlay}\n        />\n      ) : (\n        <NoChannels />\n      )}\n      <PlayVideoDialog\n        open={!!activeVideo}\n        video={activeVideo}\n        onClose={handleVideoDialogClose}\n      />\n    </>\n  );\n}\n\nexport default React.memo(TabPanel);\n","import React from 'react';\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n} from '@mui/material';\n\nexport interface ConfirmationDialogProps {\n  open: boolean;\n  title: string;\n  text: string;\n  onClose: (confirmed?: boolean) => void;\n}\n\nfunction ConfirmationDialog(props: ConfirmationDialogProps) {\n  const { open, title, text, onClose } = props;\n\n  const handleConfirm = () => {\n    onClose(true);\n  };\n\n  const handleClose = () => {\n    onClose(false);\n  };\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <DialogContent>\n        <DialogTitle sx={{ px: 0, pt: 0 }}>{title}</DialogTitle>\n        <DialogContentText>{text}</DialogContentText>\n      </DialogContent>\n      <DialogActions sx={{ px: 2, pb: 2 }}>\n        <Button color=\"inherit\" onClick={handleClose} autoFocus>\n          Cancel\n        </Button>\n        <Button color=\"primary\" variant=\"contained\" onClick={handleConfirm}>\n          Confirm\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nfunction propsAreEqual(\n  prevProps: ConfirmationDialogProps,\n  nextProps: ConfirmationDialogProps\n) {\n  return prevProps.open === nextProps.open;\n}\n\nexport default React.memo(ConfirmationDialog, propsAreEqual);\n","import React, { useState } from 'react';\nimport { Fade, IconButton, Tooltip } from '@mui/material';\nimport { useAppDispatch, useAppSelector } from 'store';\nimport ClearAllIcon from '@mui/icons-material/ClearAll';\nimport { clearWatchLaterList } from 'store/reducers/videos';\nimport { selectViewedWatchLaterVideosCount } from 'store/selectors/videos';\nimport ConfirmationDialog, {\n  ConfirmationDialogProps,\n} from './ConfirmationDialog';\n\ninterface WatchLaterViewActionsProps {}\n\nfunction WatchLaterViewActions(props: WatchLaterViewActionsProps) {\n  const viewedCount = useAppSelector(selectViewedWatchLaterVideosCount);\n  const dispatch = useAppDispatch();\n  const [confirmationDialogProps, setConfirmationDialogProps] =\n    useState<ConfirmationDialogProps>({\n      open: false,\n      title: '',\n      text: '',\n      onClose: () => {},\n    });\n\n  const handleRemoveViewed = () => {\n    setConfirmationDialogProps({\n      open: true,\n      title: 'Remove all viewed videos',\n      text: 'Are you sure that you want to remove all viewed videos from the watch later list?',\n      onClose: (confirmed) => {\n        if (confirmed) {\n          dispatch(clearWatchLaterList());\n        }\n        setConfirmationDialogProps({\n          ...confirmationDialogProps,\n          open: false,\n        });\n      },\n    });\n  };\n\n  return (\n    <>\n      <Fade in={viewedCount > 0}>\n        <Tooltip title=\"Remove all viewed videos\" placement=\"left\" arrow>\n          <IconButton aria-label=\"remove-viewed\" onClick={handleRemoveViewed}>\n            <ClearAllIcon sx={{ fontSize: '1.5rem' }} />\n          </IconButton>\n        </Tooltip>\n      </Fade>\n      <ConfirmationDialog {...confirmationDialogProps} />\n    </>\n  );\n}\n\nexport default WatchLaterViewActions;\n","import React from 'react';\nimport { Fade, IconButton, Tooltip } from '@mui/material';\nimport { useAppDispatch, useAppSelector } from 'store';\nimport VisibilityOffIcon from '@mui/icons-material/VisibilityOff';\nimport TimerOffIcon from '@mui/icons-material/TimerOff';\nimport { selectSettings } from 'store/selectors/settings';\nimport { setSettings } from 'store/reducers/settings';\nimport { selectActiveChannels } from 'store/selectors/channels';\n\ninterface RecentViewActionsProps {}\n\nfunction RecentViewActions(props: RecentViewActionsProps) {\n  const channels = useAppSelector(selectActiveChannels);\n  const settings = useAppSelector(selectSettings);\n  const dispatch = useAppDispatch();\n  const { hideViewedVideos, hideWatchLaterVideos } =\n    settings.recentVideosDisplayOptions;\n\n  const handleFilterViewedToggle = () => {\n    dispatch(\n      setSettings({\n        recentVideosDisplayOptions: {\n          ...settings.recentVideosDisplayOptions,\n          hideViewedVideos: !hideViewedVideos,\n        },\n      })\n    );\n  };\n\n  const handleFilterWatchLaterToggle = () => {\n    dispatch(\n      setSettings({\n        recentVideosDisplayOptions: {\n          ...settings.recentVideosDisplayOptions,\n          hideWatchLaterVideos: !hideWatchLaterVideos,\n        },\n      })\n    );\n  };\n\n  return (\n    <>\n      <Fade in={channels.length > 0}>\n        <Tooltip title=\"Filter viewed videos\" placement=\"left\" arrow>\n          <IconButton\n            sx={hideViewedVideos ? { bgcolor: 'action.selected' } : {}}\n            aria-label=\"filter-viewed\"\n            onClick={handleFilterViewedToggle}\n          >\n            <VisibilityOffIcon sx={{ fontSize: '1.3rem' }} />\n          </IconButton>\n        </Tooltip>\n      </Fade>\n      <Fade in={channels.length > 0}>\n        <Tooltip title=\"Filter watch later videos\" placement=\"left\" arrow>\n          <IconButton\n            sx={hideWatchLaterVideos ? { bgcolor: 'action.selected' } : {}}\n            aria-label=\"filter-watch-later\"\n            onClick={handleFilterWatchLaterToggle}\n          >\n            <TimerOffIcon sx={{ fontSize: '1.3rem' }} />\n          </IconButton>\n        </Tooltip>\n      </Fade>\n    </>\n  );\n}\n\nexport default RecentViewActions;\n","import React from 'react';\nimport { HomeView } from 'types';\nimport WatchLaterViewActions from './WatchLaterViewActions';\nimport RecentViewActions from './RecentViewActions';\n\ninterface TabActionsProps {\n  tab: HomeView;\n}\n\nfunction TabActions(props: TabActionsProps) {\n  const { tab } = props;\n\n  return tab === HomeView.Recent ? (\n    <RecentViewActions />\n  ) : tab === HomeView.WatchLater ? (\n    <WatchLaterViewActions />\n  ) : null;\n}\n\nexport default React.memo(TabActions);\n","import React, { useState, useEffect, ChangeEvent } from 'react';\nimport { Box, Tabs } from '@mui/material';\nimport { Layout } from 'ui/components/shared';\nimport { HomeView } from 'types';\nimport Tab from './Tab';\nimport TabPanel from './TabPanel';\nimport { useAppSelector } from 'store';\nimport { selectSettings } from 'store/selectors/settings';\nimport { selectWatchLaterVideosCount } from 'store/selectors/videos';\nimport TabActions from './TabActions';\n\ninterface HomeProps {}\n\nexport function Home(props: HomeProps) {\n  const settings = useAppSelector(selectSettings);\n  const [activeTab, setActiveTab] = useState(settings.defaultView);\n  const watchLaterVideosCount = useAppSelector(selectWatchLaterVideosCount);\n\n  useEffect(() => {\n    if (activeTab !== settings.defaultView) {\n      setActiveTab(settings.defaultView);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [settings.defaultView]);\n\n  const handleTabChange = (event: ChangeEvent<{}>, value: HomeView) => {\n    setActiveTab(value);\n  };\n\n  return (\n    <Layout>\n      <Box\n        sx={{\n          display: 'flex',\n          alignItems: 'center',\n          borderBottom: 1,\n          borderColor: 'divider',\n          gap: 2,\n          px: 3,\n        }}\n      >\n        <Tabs\n          sx={{ flexGrow: 1, pt: 1 }}\n          value={activeTab}\n          onChange={handleTabChange}\n          aria-label=\"tabs\"\n        >\n          <Tab label=\"All\" value={HomeView.All} />\n          <Tab label=\"Recent\" value={HomeView.Recent} />\n          <Tab\n            label=\"Watch later\"\n            value={HomeView.WatchLater}\n            badge={watchLaterVideosCount}\n          />\n        </Tabs>\n        <TabActions tab={activeTab} />\n      </Box>\n      <TabPanel tab={activeTab} />\n    </Layout>\n  );\n}\n","import React from 'react';\nimport { Avatar, Link, Fade } from '@mui/material';\nimport { Channel } from 'types';\n\ninterface ChannelPictureProps {\n  channel: Channel;\n}\n\nfunction ChannelPicture(props: ChannelPictureProps) {\n  const { channel } = props;\n\n  return (\n    <Fade in={true}>\n      <Link\n        sx={{ textDecoration: 'none' }}\n        href={channel.url}\n        target=\"_blank\"\n        rel=\"noopener\"\n      >\n        <Avatar\n          sx={{\n            width: 60,\n            height: 60,\n          }}\n          alt={channel.title}\n          src={channel.thumbnail}\n          aria-label=\"channel\"\n        />\n      </Link>\n    </Fade>\n  );\n}\n\nfunction propsAreEqual(\n  prevProps: ChannelPictureProps,\n  nextProps: ChannelPictureProps\n) {\n  return (\n    prevProps.channel.title === nextProps.channel.title &&\n    prevProps.channel.thumbnail === nextProps.channel.thumbnail &&\n    prevProps.channel.url === nextProps.channel.url\n  );\n}\n\nexport default React.memo(ChannelPicture, propsAreEqual);\n","import React from 'react';\nimport { Link } from '@mui/material';\nimport { Channel } from 'types';\n\ninterface ChannelTitleProps {\n  channel: Channel;\n}\n\nfunction ChannelTitle(props: ChannelTitleProps) {\n  const { channel } = props;\n\n  return (\n    <Link\n      sx={{\n        color: 'text.primary',\n        textDecoration: 'none',\n      }}\n      href={channel.url}\n      target=\"_blank\"\n      rel=\"noopener\"\n    >\n      {channel.title}\n    </Link>\n  );\n}\n\nfunction propsAreEqual(\n  prevProps: ChannelTitleProps,\n  nextProps: ChannelTitleProps\n) {\n  return (\n    prevProps.channel.title === nextProps.channel.title &&\n    prevProps.channel.url === nextProps.channel.url\n  );\n}\n\nexport default React.memo(ChannelTitle, propsAreEqual);\n","import React, { useState } from 'react';\nimport { Box, Card, CardHeader, Tooltip, IconButton } from '@mui/material';\nimport CheckIcon from '@mui/icons-material/Check';\nimport { Channel } from 'types';\nimport { useAppSelector } from 'store';\nimport { selectChannel } from 'store/selectors/channels';\nimport { useAppDispatch } from 'store';\nimport { addChannel, removeChannel } from 'store/reducers/channels';\nimport ChannelPicture from '../ChannelCard/ChannelPicture';\nimport ChannelTitle from '../ChannelCard/ChannelTitle';\n\ninterface PickChannelCardProps {\n  channel: Channel;\n}\n\nexport default function PickChannelCard(props: PickChannelCardProps) {\n  const { channel } = props;\n  const [changed, setChanged] = useState(false);\n  const exists = useAppSelector(selectChannel(channel));\n  const dispatch = useAppDispatch();\n\n  return (\n    <Box sx={{ display: 'flex' }}>\n      <Card\n        elevation={0}\n        sx={{\n          flexGrow: 1,\n          bgcolor: 'transparent',\n        }}\n      >\n        <CardHeader\n          sx={{\n            pt: 2.5,\n            pl: 0,\n            pr: 1,\n            '& .MuiCardHeader-title': {\n              fontSize: '0.975rem',\n              mb: 0.25,\n            },\n            '& .MuiCardHeader-action': {\n              alignSelf: 'center',\n              ml: 2,\n            },\n          }}\n          avatar={<ChannelPicture channel={channel} />}\n          action={\n            <Tooltip\n              title={exists ? (changed ? 'Remove channel' : '') : 'Add channel'}\n              placement=\"left\"\n              arrow\n            >\n              <IconButton\n                sx={{\n                  border: 1,\n                  transition: (theme) =>\n                    theme.transitions.create([\n                      'color',\n                      'background-color',\n                      'border-color',\n                    ]),\n                  ...(exists\n                    ? {\n                        bgcolor: 'secondary.main',\n                        color: 'common.white',\n                        borderColor: 'secondary.main',\n                        ':hover': {\n                          bgcolor: 'secondary.main',\n                          color: 'common.white',\n                          borderColor: 'secondary.main',\n                        },\n                        '&.Mui-disabled': {\n                          bgcolor: 'secondary.light',\n                          color: 'common.white',\n                          opacity: 0.5,\n                        },\n                      }\n                    : {\n                        borderColor: 'custom.lightBorder',\n                        ':hover': {\n                          bgcolor: 'transparent',\n                          color: 'secondary.main',\n                          borderColor: 'secondary.main',\n                        },\n                      }),\n                }}\n                size=\"small\"\n                aria-label=\"add\"\n                disabled={exists && !changed}\n                onClick={() => {\n                  const action = exists ? removeChannel : addChannel;\n                  dispatch(action(channel));\n                  setChanged(true);\n                }}\n                disableRipple\n              >\n                <CheckIcon />\n              </IconButton>\n            </Tooltip>\n          }\n          title={<ChannelTitle channel={channel} />}\n          subheader={channel.description}\n        />\n      </Card>\n    </Box>\n  );\n}\n","import React from 'react';\nimport { Stack, Divider } from '@mui/material';\nimport { Alert, ProgressBar } from 'ui/components/shared';\nimport { useFindChannelByNameQuery } from 'store/services/youtube';\nimport { Channel } from 'types';\nimport PickChannelCard from './PickChannelCard';\n\ninterface ChannelResultsProps {\n  search: string;\n}\n\nexport default function ChannelResults(props: ChannelResultsProps) {\n  const { search } = props;\n  const { data, error, isLoading } = useFindChannelByNameQuery(\n    { name: search },\n    { skip: search === '' }\n  );\n  const results = data?.items || [];\n\n  return error ? (\n    <Alert error={error} closable />\n  ) : isLoading ? (\n    <ProgressBar variant=\"indeterminate\" />\n  ) : (\n    <Stack sx={{ px: 3, overflow: 'auto' }} divider={<Divider />}>\n      {results.map((channel: Channel, index: number) => (\n        <PickChannelCard key={index} channel={channel} />\n      ))}\n    </Stack>\n  );\n}\n","import { styled, alpha } from '@mui/material/styles';\nimport Menu, { MenuProps } from '@mui/material/Menu';\n\nconst StyledMenu = styled((props: MenuProps) => (\n  <Menu\n    elevation={0}\n    anchorOrigin={{\n      vertical: 'bottom',\n      horizontal: 'right',\n    }}\n    transformOrigin={{\n      vertical: 'top',\n      horizontal: 'right',\n    }}\n    {...props}\n  />\n))(({ theme }) => ({\n  '& .MuiPaper-root': {\n    borderRadius: 6,\n    marginTop: theme.spacing(1),\n    minWidth: 180,\n    color:\n      theme.palette.mode === 'light'\n        ? 'rgb(55, 65, 81)'\n        : theme.palette.grey[300],\n    boxShadow:\n      'rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px',\n    '& .MuiMenu-list': {\n      padding: '4px 0',\n    },\n    '& .MuiMenuItem-root': {\n      '& .MuiSvgIcon-root': {\n        fontSize: 18,\n        marginRight: theme.spacing(1.5),\n        '&:not(.inherit-color)': {\n          color: theme.palette.text.secondary,\n        },\n      },\n      '&:active': {\n        backgroundColor: alpha(\n          theme.palette.action.selected,\n          theme.palette.action.selectedOpacity\n        ),\n      },\n    },\n  },\n}));\n\nexport default StyledMenu;\n","import React from 'react';\nimport {\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n} from '@mui/material';\nimport { Channel } from 'types';\nimport ChannelPicture from '../ChannelPicture';\n\ninterface RemoveChannelDialogProps {\n  open: boolean;\n  channel: Channel;\n  onClose: (confirmed?: boolean) => void;\n}\n\nexport default function RemoveChannelDialog(props: RemoveChannelDialogProps) {\n  const { open, channel, onClose } = props;\n\n  const handleConfirm = () => {\n    onClose(true);\n  };\n\n  const handleClose = () => {\n    onClose(false);\n  };\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <DialogContent>\n        <Box sx={{ display: 'flex' }}>\n          <ChannelPicture channel={channel} />\n          <Box\n            sx={{\n              flexGrow: 1,\n              display: 'flex',\n              flexDirection: 'column',\n              px: 2,\n            }}\n          >\n            <DialogTitle sx={{ px: 0, pt: 0 }}>\n              Remove {channel.title}'s channel ?\n            </DialogTitle>\n            <DialogContentText>\n              Are you sure that you want to remove this channel?\n            </DialogContentText>\n          </Box>\n        </Box>\n      </DialogContent>\n      <DialogActions sx={{ px: 2, pb: 2 }}>\n        <Button color=\"inherit\" onClick={handleClose} autoFocus>\n          Cancel\n        </Button>\n        <Button color=\"primary\" variant=\"contained\" onClick={handleConfirm}>\n          Confirm\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React from 'react';\nimport { Channel } from 'types';\nimport { useAppDispatch } from 'store';\nimport { removeChannel } from 'store/reducers/channels';\nimport RemoveChannelDialog from './RemoveChannelDialog';\n\ninterface ChannelDialogsProps {\n  channel: Channel;\n  openedDialog: string | null;\n  onClose: () => void;\n}\n\nfunction ChannelDialogs(props: ChannelDialogsProps) {\n  const { channel, openedDialog, onClose } = props;\n  const dispatch = useAppDispatch();\n\n  return (\n    <RemoveChannelDialog\n      open={openedDialog === 'remove-channel'}\n      channel={channel}\n      onClose={(confirmed) => {\n        if (confirmed) {\n          dispatch(removeChannel(channel));\n        }\n        onClose();\n      }}\n    />\n  );\n}\n\nfunction propsAreEqual(\n  prevProps: ChannelDialogsProps,\n  nextProps: ChannelDialogsProps\n) {\n  return (\n    prevProps.openedDialog === nextProps.openedDialog &&\n    prevProps.channel.id === nextProps.channel.id\n  );\n}\n\nexport default React.memo(ChannelDialogs, propsAreEqual);\n","import React, { useState } from 'react';\nimport { IconButton, Divider, MenuItem } from '@mui/material';\nimport { useAppDispatch } from 'store';\nimport {\n  toggleChannel,\n  toggleChannelNotifications,\n} from 'store/reducers/channels';\nimport StyledMenu from './StyledMenu';\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\nimport NotificationsActiveOutlinedIcon from '@mui/icons-material/NotificationsActiveOutlined';\nimport NotificationsOffOutlinedIcon from '@mui/icons-material/NotificationsOffOutlined';\nimport VisibilityOutlinedIcon from '@mui/icons-material/VisibilityOutlined';\nimport VisibilityOffOutlinedIcon from '@mui/icons-material/VisibilityOffOutlined';\nimport DeleteOutlineOutlinedIcon from '@mui/icons-material/DeleteOutlineOutlined';\nimport { Channel } from 'types';\nimport ChannelDialogs from '../ChannelDialogs';\n\ninterface ChannelActionsProps {\n  channel: Channel;\n}\n\nfunction ChannelActions(props: ChannelActionsProps) {\n  const { channel } = props;\n  const [anchorEl, setAnchorEl] = useState<HTMLElement | null>(null);\n  const [openedDialog, setOpenedDialog] = useState<string | null>(null);\n  const dispatch = useAppDispatch();\n  const isMenuOpen = Boolean(anchorEl);\n\n  const handleMenuClick = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleRemoveClick = () => {\n    setOpenedDialog('remove-channel');\n    handleMenuClose();\n  };\n\n  const handleDialogsClose = () => {\n    setOpenedDialog(null);\n  };\n\n  return (\n    <>\n      <IconButton aria-label=\"settings\" onClick={handleMenuClick}>\n        <MoreVertIcon />\n      </IconButton>\n      <StyledMenu\n        anchorEl={anchorEl}\n        open={isMenuOpen}\n        onClose={handleMenuClose}\n      >\n        <MenuItem\n          onClick={() => {\n            dispatch(toggleChannelNotifications(channel));\n            handleMenuClose();\n          }}\n          disableRipple\n        >\n          {channel.notifications?.isDisabled ? (\n            <>\n              <NotificationsActiveOutlinedIcon />\n              Enable notifications\n            </>\n          ) : (\n            <>\n              <NotificationsOffOutlinedIcon />\n              Disable notifications\n            </>\n          )}\n        </MenuItem>\n        <Divider sx={{ my: 0.5 }} />\n        <MenuItem\n          onClick={() => {\n            dispatch(toggleChannel(channel));\n            handleMenuClose();\n          }}\n          disableRipple\n        >\n          {channel.isHidden ? (\n            <>\n              <VisibilityOutlinedIcon />\n              Unhide\n            </>\n          ) : (\n            <>\n              <VisibilityOffOutlinedIcon />\n              Hide\n            </>\n          )}\n        </MenuItem>\n        <MenuItem\n          sx={{ color: 'primary.main' }}\n          onClick={handleRemoveClick}\n          disableRipple\n        >\n          <DeleteOutlineOutlinedIcon className=\"inherit-color\" />\n          Remove\n        </MenuItem>\n      </StyledMenu>\n      <ChannelDialogs\n        channel={channel}\n        openedDialog={openedDialog}\n        onClose={handleDialogsClose}\n      />\n    </>\n  );\n}\n\nfunction propsAreEqual(\n  prevProps: ChannelActionsProps,\n  nextProps: ChannelActionsProps\n) {\n  return (\n    JSON.stringify(prevProps.channel) === JSON.stringify(nextProps.channel)\n  );\n}\n\nexport default React.memo(ChannelActions, propsAreEqual);\n","import React from 'react';\nimport { IconButton } from '@mui/material';\nimport DragIndicatorIcon from '@mui/icons-material/DragIndicator';\n\ninterface DragHandleProps {}\n\nexport default function DragHandle(props: DragHandleProps) {\n  return (\n    <IconButton\n      sx={{ cursor: 'move', mr: 1.5 }}\n      aria-label=\"drag-handle\"\n      {...props}\n    >\n      <DragIndicatorIcon />\n    </IconButton>\n  );\n}\n","import React from 'react';\nimport { Box, Paper, Card, CardHeader, Collapse } from '@mui/material';\nimport { Channel } from 'types';\nimport ChannelPicture from './ChannelPicture';\nimport ChannelTitle from './ChannelTitle';\nimport { DraggableSyntheticListeners } from '@dnd-kit/core';\nimport ChannelActions from './ChannelActions';\nimport DragHandle from './DragHandle';\n\nexport interface ChannelCardProps {\n  channel: Channel;\n  style?: React.CSSProperties;\n  isOverlay?: boolean;\n  showDragHandle?: boolean;\n  listeners?: DraggableSyntheticListeners;\n}\n\nconst ChannelCard = React.forwardRef(\n  (props: ChannelCardProps, ref: React.LegacyRef<HTMLDivElement>) => {\n    const { channel, isOverlay, showDragHandle, listeners, ...rest } = props;\n\n    const renderCard = React.useMemo(\n      () => (\n        <Card elevation={0} sx={{ flexGrow: 1, bgcolor: 'transparent' }}>\n          <CardHeader\n            sx={{\n              pt: 2.5,\n              pl: 0,\n              pr: 1,\n              '& .MuiCardHeader-title': {\n                fontSize: '0.975rem',\n                mb: 0.25,\n              },\n              '& .MuiCardHeader-action': {\n                ml: 2,\n              },\n              ...(channel.isHidden\n                ? {\n                    '& .MuiCardHeader-avatar': {\n                      opacity: 0.5,\n                    },\n                    '& .MuiCardHeader-content': {\n                      textDecoration: 'line-through',\n                      opacity: 0.5,\n                    },\n                  }\n                : {}),\n            }}\n            avatar={<ChannelPicture channel={channel} />}\n            action={<ChannelActions channel={channel} />}\n            title={<ChannelTitle channel={channel} />}\n            subheader={channel.description}\n          />\n        </Card>\n      ),\n      [channel]\n    );\n\n    return (\n      <div ref={ref} {...rest}>\n        <Paper elevation={isOverlay ? 1 : 0}>\n          <Box\n            sx={{\n              display: 'flex',\n              alignItems: 'center',\n              bgcolor: 'background.default',\n            }}\n          >\n            {isOverlay ? (\n              <DragHandle />\n            ) : (\n              <Collapse in={showDragHandle} orientation=\"horizontal\">\n                <DragHandle {...listeners} />\n              </Collapse>\n            )}\n            {renderCard}\n          </Box>\n        </Paper>\n      </div>\n    );\n  }\n);\n\nexport default ChannelCard;\n","import React from 'react';\nimport { useSortable } from '@dnd-kit/sortable';\nimport { CSS } from '@dnd-kit/utilities';\nimport ChannelCard, { ChannelCardProps } from '.';\n\nexport default function DraggableCard(props: ChannelCardProps) {\n  const { channel, ...rest } = props;\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n    isDragging,\n    isSorting,\n  } = useSortable({\n    id: channel.id,\n    data: { channel },\n  });\n\n  const style = {\n    transition: isSorting ? transition : 'none',\n    opacity: isDragging ? 0.5 : 1,\n    transform: CSS.Transform.toString(transform),\n  } as React.CSSProperties;\n\n  return (\n    <ChannelCard\n      ref={setNodeRef}\n      channel={channel}\n      style={style}\n      listeners={listeners}\n      {...attributes}\n      {...rest}\n    />\n  );\n}\n","import React, { useState } from 'react';\nimport { Stack, Divider } from '@mui/material';\nimport ChannelCard from './ChannelCard';\nimport DraggableChannelCard from './ChannelCard/DraggableCard';\nimport { useAppDispatch } from 'store';\nimport {\n  DndContext,\n  closestCenter,\n  DragStartEvent,\n  DragEndEvent,\n  DragOverlay,\n} from '@dnd-kit/core';\nimport {\n  SortableContext,\n  verticalListSortingStrategy,\n} from '@dnd-kit/sortable';\nimport {\n  restrictToVerticalAxis,\n  restrictToFirstScrollableAncestor,\n} from '@dnd-kit/modifiers';\nimport { moveChannel } from 'store/reducers/channels';\nimport { Channel } from 'types';\n\ninterface ChannelListProps {\n  channels: Channel[];\n  showDragHandles?: boolean;\n}\n\nfunction ChannelList(props: ChannelListProps) {\n  const { channels, showDragHandles } = props;\n  const [draggedChannel, setDraggedChannel] = useState<Channel | null>(null);\n  const dispatch = useAppDispatch();\n\n  const handleDragStart = (event: DragStartEvent) => {\n    const { active } = event;\n    setDraggedChannel(active.data.current?.channel);\n  };\n\n  const handleDragEnd = (event: DragEndEvent) => {\n    const { active, over } = event;\n    if (active.id !== over?.id) {\n      const from = channels.findIndex((c: Channel) => c.id === active.id);\n      const to = channels.findIndex((c: Channel) => c.id === over?.id);\n      dispatch(moveChannel({ from, to }));\n    }\n    setDraggedChannel(null);\n  };\n\n  return (\n    <>\n      <DndContext\n        collisionDetection={closestCenter}\n        modifiers={[restrictToVerticalAxis, restrictToFirstScrollableAncestor]}\n        onDragStart={handleDragStart}\n        onDragEnd={handleDragEnd}\n      >\n        <SortableContext\n          items={channels}\n          strategy={verticalListSortingStrategy}\n        >\n          <Stack sx={{ px: 3, overflow: 'auto' }} divider={<Divider />}>\n            {channels.map((channel: Channel, index: number) => (\n              <DraggableChannelCard\n                key={index}\n                channel={channel}\n                showDragHandle={showDragHandles}\n              />\n            ))}\n          </Stack>\n        </SortableContext>\n        <DragOverlay>\n          {draggedChannel ? (\n            <ChannelCard channel={draggedChannel} isOverlay />\n          ) : null}\n        </DragOverlay>\n      </DndContext>\n    </>\n  );\n}\n\nfunction propsAreEqual(\n  prevProps: ChannelListProps,\n  nextProps: ChannelListProps\n) {\n  return (\n    prevProps.showDragHandles === nextProps.showDragHandles &&\n    JSON.stringify(prevProps.channels) === JSON.stringify(nextProps.channels)\n  );\n}\n\nexport default React.memo(ChannelList, propsAreEqual);\n","import React, { useRef, MouseEvent, ChangeEvent } from 'react';\nimport { Box, Typography, Button } from '@mui/material';\nimport UploadIcon from '@mui/icons-material/Upload';\nimport { readFile } from 'helpers/file';\nimport { useAppDispatch } from 'store';\nimport { setChannels } from 'store/reducers/channels';\n\ninterface NoChannelsProps {}\n\nexport default function NoChannels(props: NoChannelsProps) {\n  const fileInputRef = useRef<HTMLInputElement | null>(null);\n  const dispatch = useAppDispatch();\n\n  const importChannels = (event: ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (!file) {\n      return;\n    }\n    try {\n      readFile(file).then((content) => {\n        const channels = JSON.parse(content as string);\n        dispatch(setChannels({ list: channels }));\n      });\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  return (\n    <Box\n      sx={{\n        flexGrow: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n      }}\n    >\n      <Typography variant=\"h5\" gutterBottom>\n        No channels found.\n      </Typography>\n      <Typography\n        sx={{ textAlign: 'center', fontSize: '1.125rem' }}\n        variant=\"body1\"\n        color=\"text.secondary\"\n        gutterBottom\n      >\n        Start by typing a channel name in the search bar above\n        <br />\n        or\n      </Typography>\n      <Button\n        sx={{ textTransform: 'capitalize' }}\n        variant=\"contained\"\n        color=\"secondary\"\n        onClick={() => {\n          fileInputRef.current?.click();\n        }}\n      >\n        Import channels\n        <UploadIcon sx={{ fontSize: '1.25rem', ml: 0.5 }} />\n      </Button>\n      <input\n        type=\"file\"\n        ref={fileInputRef}\n        style={{\n          display: 'none',\n          visibility: 'hidden',\n          overflow: 'hidden',\n          width: 0,\n          height: 0,\n        }}\n        accept=\".json\"\n        onClick={(event: MouseEvent<HTMLInputElement>) => {\n          event.currentTarget.value = '';\n        }}\n        onChange={importChannels}\n      />\n    </Box>\n  );\n}\n","export function downloadFile(blob: Blob, filename: string) {\n  if ((window.navigator as any).msSaveOrOpenBlob) {\n    // IE10+\n    (window.navigator as any).msSaveOrOpenBlob(blob, filename);\n  } else {\n    // Others\n    const a = document.createElement('a'),\n      url = URL.createObjectURL(blob);\n    a.href = url;\n    a.download = filename;\n    document.body.appendChild(a);\n    a.click();\n    setTimeout(function () {\n      document.body.removeChild(a);\n      window.URL.revokeObjectURL(url);\n    }, 0);\n  }\n}\n\nexport function readFile(file: Blob) {\n  return new Promise(function (resolve, reject) {\n    const fileReader = new FileReader();\n    fileReader.readAsText(file, 'UTF-8');\n    fileReader.onload = function () {\n      resolve(fileReader.result);\n    };\n    fileReader.onerror = function (error) {\n      reject(error);\n    };\n  });\n}\n","import React, { useState } from 'react';\nimport { Layout, SearchInput } from 'ui/components/shared';\nimport { Box, IconButton, Fade, Collapse, Tooltip } from '@mui/material';\nimport DownloadIcon from '@mui/icons-material/Download';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport SwapVertIcon from '@mui/icons-material/SwapVert';\nimport ChannelResults from './ChannelResults';\nimport ChannelList from './ChannelList';\nimport NoChannels from './NoChannels';\nimport { useAppSelector } from 'store';\nimport { selectChannels } from 'store/selectors/channels';\nimport { downloadFile } from 'helpers/file';\n\ninterface ChannelsProps {}\n\nexport function Channels(props: ChannelsProps) {\n  const [search, setSearch] = useState('');\n  const [showDragHandles, setShowDragHandles] = useState(false);\n  const channels = useAppSelector(selectChannels);\n  const isSearchActive = Boolean(search);\n\n  const showList = () => {\n    setSearch('');\n  };\n\n  const toggleDragHandles = () => {\n    setShowDragHandles(!showDragHandles);\n  };\n\n  const exportChannels = () => {\n    const data = JSON.stringify(channels, null, 4);\n    const file = new Blob([data], { type: 'text/json' });\n    downloadFile(file, 'channels.json');\n  };\n\n  return (\n    <Layout>\n      <Box\n        sx={{\n          display: 'flex',\n          alignItems: 'center',\n          borderBottom: 1,\n          borderColor: 'divider',\n          gap: 2,\n          py: 1.5,\n          pr: 4,\n          pl: 3,\n        }}\n      >\n        <Box sx={{ flexGrow: 1, display: 'flex' }}>\n          <Collapse in={isSearchActive} orientation=\"horizontal\">\n            <Tooltip title=\"Go back to channels list\" placement=\"bottom\" arrow>\n              <IconButton\n                sx={{ mr: 2, bgcolor: 'custom.lightGrey' }}\n                aria-label=\"show-list\"\n                onClick={showList}\n              >\n                <ArrowBackIcon />\n              </IconButton>\n            </Tooltip>\n          </Collapse>\n          <SearchInput\n            width={400}\n            placeholder=\"Search for a channel\"\n            debounceTime={700}\n            onChange={(value: string) => {\n              setSearch(value);\n            }}\n            onClear={showList}\n            clearable\n          />\n        </Box>\n        <Fade in={!isSearchActive && channels.length > 1}>\n          <Tooltip title=\"Toggle drag handles\" placement=\"left\" arrow>\n            <IconButton\n              sx={showDragHandles ? { bgcolor: 'action.selected' } : {}}\n              aria-label=\"toggle-drag-handles\"\n              onClick={toggleDragHandles}\n            >\n              <SwapVertIcon />\n            </IconButton>\n          </Tooltip>\n        </Fade>\n        <Fade in={!isSearchActive && channels.length > 0}>\n          <Tooltip title=\"Export\" placement=\"left\" arrow>\n            <IconButton aria-label=\"export\" onClick={exportChannels}>\n              <DownloadIcon />\n            </IconButton>\n          </Tooltip>\n        </Fade>\n      </Box>\n      {search ? (\n        <ChannelResults search={search} />\n      ) : channels.length > 0 ? (\n        <ChannelList channels={channels} showDragHandles={showDragHandles} />\n      ) : (\n        <NoChannels />\n      )}\n    </Layout>\n  );\n}\n","import { styled, alpha } from '@mui/material/styles';\nimport InputBase from '@mui/material/InputBase';\n\nconst Input = styled(InputBase)(({ theme }) => ({\n  '& .MuiInputBase-input': {\n    borderRadius: 4,\n    position: 'relative',\n    backgroundColor: theme.palette.background.default,\n    border: `1px solid ${\n      theme.palette.mode === 'light'\n        ? 'rgba(0, 0, 0, 0.23)'\n        : 'rgba(255, 255, 255, 0.23)'\n    }`,\n    fontSize: '0.9rem',\n    width: 'auto',\n    minWidth: 320,\n    padding: theme.spacing(1, 1.5),\n    transition: theme.transitions.create(['border-color', 'box-shadow']),\n    '&:focus': {\n      boxShadow: `${alpha(theme.palette.secondary.main, 0.25)} 0 0 0 0.2rem`,\n      borderColor: theme.palette.secondary.main,\n    },\n  },\n}));\n\nexport default Input;\n","import { styled } from '@mui/material/styles';\nimport MuiSwitch from '@mui/material/Switch';\n\nconst Switch = styled(MuiSwitch)(({ theme }) => ({\n  width: 36,\n  height: 20,\n  padding: 0,\n  display: 'flex',\n  '& .MuiSwitch-switchBase': {\n    padding: 3,\n    color: theme.palette.grey[500],\n    '&.Mui-checked': {\n      transform: 'translateX(16px)',\n      color: theme.palette.common.white,\n      '& + .MuiSwitch-track': {\n        opacity: 1,\n        backgroundColor: theme.palette.secondary.main,\n        borderColor: theme.palette.secondary.main,\n      },\n    },\n  },\n  '& .MuiSwitch-thumb': {\n    width: 14,\n    height: 14,\n    boxShadow: 'none',\n  },\n  '& .MuiSwitch-track': {\n    border: `1px solid ${theme.palette.grey[500]}`,\n    borderRadius: 20 / 2,\n    opacity: 1,\n    backgroundColor:\n      theme.palette.mode === 'light'\n        ? theme.palette.common.white\n        : 'transparent',\n  },\n}));\n\nexport default Switch;\n","import { styled } from '@mui/material/styles';\nimport MuiSelect from '@mui/material/Select';\n\nconst Select = styled(MuiSelect)(({ theme }) => ({\n  fontSize: '0.9rem',\n  '&.Mui-focused': {\n    '& .MuiOutlinedInput-notchedOutline': {\n      borderColor: theme.palette.secondary.light,\n    },\n  },\n})) as unknown as typeof MuiSelect;\n\nexport default Select;\n","import { styled, Theme } from '@mui/material/styles';\nimport MuiMenuItem from '@mui/material/MenuItem';\n\nconst MenuItemSelectedStyle = (theme: Theme) => ({\n  backgroundColor: theme.palette.secondary.main,\n  color: theme.palette.common.white,\n});\n\nconst MenuItem = styled(MuiMenuItem)(({ theme }) => ({\n  fontSize: '0.9rem',\n  '&.Mui-selected': {\n    ...MenuItemSelectedStyle(theme),\n    '&.Mui-focusVisible': MenuItemSelectedStyle(theme),\n  },\n  '&.Mui-selected:hover': MenuItemSelectedStyle(theme),\n})) as typeof MuiMenuItem;\n\nexport default MenuItem;\n","import React, { ChangeEvent } from 'react';\nimport { Box, Typography, SelectChangeEvent } from '@mui/material';\nimport { SettingType } from 'types';\nimport Input from './Input';\nimport Switch from './Switch';\nimport Select from './Select';\nimport MenuItem from './MenuItem';\n\ntype ValueType = string | number | boolean;\n\ntype OptionType = {\n  label: string;\n  value: number | string;\n};\n\ninterface FieldProps {\n  label: string;\n  description?: string | React.ReactNode;\n  placeholder?: string;\n  options?: OptionType[];\n  value: ValueType;\n  type: SettingType;\n  onChange?: (value: any) => void;\n}\n\nexport default function Field(props: FieldProps) {\n  const {\n    label,\n    description,\n    placeholder,\n    options = [],\n    value,\n    type,\n    onChange,\n  } = props;\n\n  const handleChange = (\n    event:\n      | ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\n      | SelectChangeEvent\n  ) => {\n    if (onChange) {\n      const value =\n        type === SettingType.Boolean\n          ? (event.target as HTMLInputElement).checked\n          : event.target.value;\n      onChange(value);\n    }\n  };\n\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        width: '100%',\n        py: 2.5,\n      }}\n    >\n      <Box\n        sx={{\n          display: 'flex',\n          flexDirection: 'column',\n          justifyContent: 'center',\n        }}\n      >\n        <Typography variant=\"subtitle1\">{label}</Typography>\n        {description ? (\n          <Typography variant=\"body2\" color=\"textSecondary\">\n            {description}\n          </Typography>\n        ) : null}\n      </Box>\n      {type === SettingType.String ? (\n        <Input\n          value={value}\n          placeholder={placeholder}\n          onChange={handleChange}\n        />\n      ) : null}\n      {type === SettingType.Boolean ? (\n        <Switch\n          checked={value as boolean}\n          onChange={handleChange}\n          inputProps={{ 'aria-label': 'checkbox' }}\n        />\n      ) : null}\n      {type === SettingType.List ? (\n        <Select value={value as string} size=\"small\" onChange={handleChange}>\n          {options.map((option: OptionType, index: number) => (\n            <MenuItem key={index} value={option.value}>\n              {option.label}\n            </MenuItem>\n          ))}\n        </Select>\n      ) : null}\n    </Box>\n  );\n}\n","import React, { MouseEvent } from 'react';\nimport { Link } from '@mui/material';\nimport { Alert } from 'ui/components/shared';\nimport { useAppDispatch, useAppSelector } from 'store';\nimport { setSettings } from 'store/reducers/settings';\nimport { selectApp } from 'store/selectors/app';\nimport { Settings } from 'types';\n\nconst { REACT_APP_YOUTUBE_API_KEY: temporaryApiKey } = process.env;\n\ninterface AlertsProps {\n  settings: Settings;\n}\n\nexport default function Alerts(props: AlertsProps) {\n  const { settings } = props;\n  const app = useAppSelector(selectApp);\n  const dispatch = useAppDispatch();\n\n  const handleUseTemporaryKey = (event: MouseEvent) => {\n    event.preventDefault();\n    dispatch(setSettings({ apiKey: temporaryApiKey }));\n  };\n\n  return (\n    <>\n      <Alert\n        open={app.loaded && !settings.apiKey}\n        severity=\"warning\"\n        closable\n        syncOpen\n      >\n        In order to use this app you need a Youtube API key!{' '}\n        <Link\n          href=\"#\"\n          color=\"secondary\"\n          rel=\"noopener\"\n          onClick={handleUseTemporaryKey}\n        >\n          Use a temporary key.\n        </Link>\n      </Alert>\n      <Alert\n        open={app.loaded && settings.apiKey === temporaryApiKey}\n        severity=\"warning\"\n        closable\n        syncOpen\n      >\n        You are using a temporary API key, which has a limited quota & might be\n        used by other users. It is recommended to create your own key for daily\n        use.\n      </Alert>\n    </>\n  );\n}\n","import React from 'react';\nimport { Stack, Divider, Link } from '@mui/material';\nimport { Layout } from 'ui/components/shared';\nimport { HomeView, SettingType, VideosSeniority } from 'types';\nimport Field from './Field';\nimport { useAppDispatch, useAppSelector } from 'store';\nimport { selectSettings } from 'store/selectors/settings';\nimport { setSettings } from 'store/reducers/settings';\nimport Alerts from './Alerts';\nimport { isWebExtension } from 'helpers/webext';\n\ninterface SettingsProps {}\n\nexport function Settings(props: SettingsProps) {\n  const settings = useAppSelector(selectSettings);\n  const dispatch = useAppDispatch();\n\n  return (\n    <Layout>\n      <Alerts settings={settings} />\n      <Stack sx={{ px: 3, overflow: 'auto' }} divider={<Divider />}>\n        <Field\n          label=\"Default view\"\n          value={settings.defaultView}\n          onChange={(defaultView: HomeView) => {\n            dispatch(setSettings({ defaultView }));\n          }}\n          options={[\n            {\n              label: 'All',\n              value: HomeView.All,\n            },\n            {\n              label: 'Recent',\n              value: HomeView.Recent,\n            },\n            {\n              label: 'Watch later',\n              value: HomeView.WatchLater,\n            },\n          ]}\n          type={SettingType.List}\n        />\n        <Field\n          label=\"Recent videos seniority\"\n          value={settings.recentVideosSeniority}\n          onChange={(recentVideosSeniority: VideosSeniority) => {\n            dispatch(setSettings({ recentVideosSeniority }));\n          }}\n          options={[\n            {\n              label: '1 day',\n              value: VideosSeniority.OneDay,\n            },\n            {\n              label: '3 days',\n              value: VideosSeniority.ThreeDays,\n            },\n            {\n              label: '7 days',\n              value: VideosSeniority.SevenDays,\n            },\n          ]}\n          type={SettingType.List}\n        />\n        <Field\n          label=\"Dark mode\"\n          value={settings.darkMode}\n          onChange={(darkMode: boolean) => {\n            dispatch(setSettings({ darkMode }));\n          }}\n          type={SettingType.Boolean}\n        />\n        <Field\n          label=\"Auto play videos\"\n          value={settings.autoPlayVideos}\n          onChange={(autoPlayVideos: boolean) => {\n            dispatch(setSettings({ autoPlayVideos }));\n          }}\n          type={SettingType.Boolean}\n        />\n        {isWebExtension ? (\n          <Field\n            label=\"Enable notifications\"\n            description=\"Checking for new videos is performed every 30 minutes\"\n            value={settings.enableNotifications}\n            onChange={(enableNotifications: boolean) => {\n              dispatch(setSettings({ enableNotifications }));\n            }}\n            type={SettingType.Boolean}\n          />\n        ) : null}\n        <Field\n          label=\"Youtube API key\"\n          placeholder=\"_______________________________________\"\n          description={\n            <span>\n              Don't have an API key yet?{' '}\n              <Link\n                href=\"https://www.slickremix.com/docs/get-api-key-for-youtube/\"\n                target=\"_blank\"\n                color=\"secondary\"\n                rel=\"noopener\"\n              >\n                Get your own!\n              </Link>\n            </span>\n          }\n          value={settings.apiKey}\n          onChange={(apiKey: string) => {\n            dispatch(setSettings({ apiKey }));\n          }}\n          type={SettingType.String}\n        />\n      </Stack>\n    </Layout>\n  );\n}\n","import React from 'react';\nimport { Typography, IconButton, Link } from '@mui/material';\nimport FavoriteRoundedIcon from '@mui/icons-material/FavoriteRounded';\nimport GitHubIcon from '@mui/icons-material/GitHub';\n\ninterface CreditProps {\n  author: string;\n  repositoryUrl?: string;\n}\n\nexport default function Credit(props: CreditProps) {\n  const { author, repositoryUrl } = props;\n\n  return (\n    <Typography\n      sx={{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        gap: 0.5,\n      }}\n      color=\"text.secondary\"\n    >\n      Made with <FavoriteRoundedIcon sx={{ color: '#e1495c', fontSize: 18 }} />{' '}\n      by {author}\n      {repositoryUrl ? (\n        <Link href={repositoryUrl} target=\"_blank\" rel=\"noopener\">\n          <IconButton sx={{ p: 0 }} size=\"small\" aria-label=\"github link\">\n            <GitHubIcon fontSize=\"inherit\" />\n          </IconButton>\n        </Link>\n      ) : null}\n    </Typography>\n  );\n}\n","import React from 'react';\nimport { Link, Tooltip } from '@mui/material';\ninterface SocialLinkProps {\n  children: React.ReactNode;\n  tooltip: string;\n  href: string;\n  target?: '_blank' | '_self';\n}\n\nexport default function SocialLink(props: SocialLinkProps) {\n  const { children, tooltip, href, target = '_blank' } = props;\n\n  return (\n    <Tooltip title={tooltip} placement=\"bottom\" arrow>\n      <Link href={href} target={target} color=\"inherit\" rel=\"noopener\">\n        {children}\n      </Link>\n    </Tooltip>\n  );\n}\n","import React from 'react';\nimport { Layout, Logo } from 'ui/components/shared';\nimport {\n  Box,\n  Card,\n  CardActions,\n  CardContent,\n  Button,\n  Typography,\n  Link,\n} from '@mui/material';\nimport Credit from './Credit';\nimport SocialLink from './SocialLink';\nimport GitHubIcon from '@mui/icons-material/GitHub';\nimport MailIcon from '@mui/icons-material/Mail';\nimport ForumIcon from '@mui/icons-material/Forum';\n\ninterface AboutProps {}\n\nexport function About(props: AboutProps) {\n  return (\n    <Layout>\n      <Box\n        sx={{\n          bgcolor: (theme) =>\n            theme.palette.mode === 'light' ? '#f4f4f4' : 'transparent',\n          flexGrow: 1,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n        }}\n      >\n        <Card variant=\"outlined\">\n          <CardContent\n            sx={{\n              pt: 6,\n              pb: 12,\n              px: 12,\n              display: 'flex',\n              flexDirection: 'column',\n              alignItems: 'center',\n              justifyContent: 'center',\n            }}\n          >\n            <Logo size={60} sx={{ mb: 3 }} />\n            <Typography\n              sx={{ fontSize: '1.25rem', mb: 1 }}\n              variant=\"h5\"\n              color=\"text.primary\"\n            >\n              YouTube viewer\n            </Typography>\n            <Credit author=\"AXeL\" />\n            <Box\n              sx={{\n                display: 'flex',\n                gap: 1.5,\n                color: (theme) =>\n                  theme.palette.mode === 'light' ? 'grey.800' : 'grey.100',\n                mt: 4,\n              }}\n            >\n              <SocialLink\n                tooltip=\"Gmail\"\n                href=\"mailto:contact.axel.dev@gmail.com\"\n              >\n                <MailIcon />\n              </SocialLink>\n              <SocialLink\n                tooltip=\"Discord\"\n                href=\"https://discord.gg/rpD4fgxBgj\"\n              >\n                <ForumIcon />\n              </SocialLink>\n              <SocialLink\n                tooltip=\"Github\"\n                href=\"https://github.com/AXeL-dev/youtube-viewer\"\n              >\n                <GitHubIcon />\n              </SocialLink>\n            </Box>\n          </CardContent>\n          <CardActions sx={{ borderTop: 1, borderColor: 'divider', px: 1.5 }}>\n            <Link\n              sx={{ textDecoration: 'none' }}\n              href=\"https://github.com/AXeL-dev/youtube-viewer/graphs/contributors\"\n              target=\"_blank\"\n              rel=\"noopener\"\n            >\n              <Button\n                sx={{\n                  fontSize: '0.875rem',\n                  fontWeight: 400,\n                  textTransform: 'capitalize',\n                }}\n                size=\"small\"\n                color=\"secondary\"\n              >\n                Contributors\n              </Button>\n            </Link>\n          </CardActions>\n          <CardActions sx={{ borderTop: 1, borderColor: 'divider', px: 1.5 }}>\n            <Button\n              sx={{\n                fontSize: '0.875rem',\n                fontWeight: 400,\n                textTransform: 'capitalize',\n              }}\n              size=\"small\"\n              color=\"secondary\"\n            >\n              Privacy policy\n            </Button>\n          </CardActions>\n        </Card>\n      </Box>\n    </Layout>\n  );\n}\n","import { createTheme } from '@mui/material/styles';\nimport { PaletteMode } from '@mui/material';\nimport { light } from '@mui/material/styles/createPalette';\nimport './fonts';\nimport './styles.css';\n\ndeclare module '@mui/material/styles' {\n  interface CustomColors {\n    lightGrey: string;\n    lightBorder: string;\n  }\n  interface Palette {\n    custom: CustomColors;\n  }\n  interface PaletteOptions {\n    custom: CustomColors;\n  }\n  interface BreakpointOverrides {\n    xxs: true;\n  }\n}\n\nconst useTheme = (mode: PaletteMode = 'light') =>\n  createTheme({\n    palette: {\n      mode,\n      primary: {\n        light: '#e9321a',\n        main: '#f21718',\n        dark: '#b81112',\n      },\n      secondary: {\n        light: '#1a88ff',\n        main: '#007bff',\n        dark: '#006fe6',\n      },\n      ...(mode === 'light'\n        ? {\n            background: {\n              default: '#fff',\n            },\n            custom: {\n              lightGrey: '#fafafa',\n              lightBorder: light.divider,\n            },\n          }\n        : {\n            background: {\n              default: '#181818',\n            },\n            custom: {\n              lightGrey: '#212121',\n              lightBorder: 'rgba(255, 255, 255, 0.23)',\n            },\n          }),\n    },\n    breakpoints: {\n      values: {\n        xxs: 0,\n        xs: 780,\n        sm: 1000,\n        md: 1200,\n        lg: 1400,\n        xl: 1600,\n      },\n    },\n  });\n\nexport default useTheme;\n","import React from 'react';\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\nimport { Home, Channels, Settings, About } from 'ui/components/pages';\nimport { Background } from 'ui/components/webext';\nimport { ThemeProvider } from '@mui/material/styles';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport useTheme from 'ui/theme';\nimport { useAppSelector } from 'store';\nimport { selectMode } from 'store/selectors/settings';\n\nfunction App() {\n  const mode = useAppSelector(selectMode);\n  const theme = useTheme(mode);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <Router>\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route exact path=\"/channels\" component={Channels} />\n          <Route exact path=\"/settings\" component={Settings} />\n          <Route exact path=\"/about\" component={About} />\n          <Route path=\"/background\" component={Background} />\n        </Switch>\n      </Router>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport store from 'store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}